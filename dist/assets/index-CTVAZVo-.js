(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function Z_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Uf={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function yT(){if(wy)return ql;wy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var _ in o)_!=="key"&&(h[_]=o[_])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var Cy;function _T(){return Cy||(Cy=1,Uf.exports=yT()),Uf.exports}var p=_T(),Lf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function vT(){if(Ry)return St;Ry=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function G(I){return I===null||typeof I!="object"?null:(I=N&&I[N]||I["@@iterator"],typeof I=="function"?I:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,W={};function _t(I,Q,tt){this.props=I,this.context=Q,this.refs=W,this.updater=tt||Z}_t.prototype.isReactComponent={},_t.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},_t.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function gt(){}gt.prototype=_t.prototype;function ct(I,Q,tt){this.props=I,this.context=Q,this.refs=W,this.updater=tt||Z}var ht=ct.prototype=new gt;ht.constructor=ct,$(ht,_t.prototype),ht.isPureReactComponent=!0;var Dt=Array.isArray;function nt(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(I,Q,tt){var at=tt.ref;return{$$typeof:s,type:I,key:Q,ref:at!==void 0?at:null,props:tt}}function j(I,Q){return R(I.type,Q,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function M(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(tt){return Q[tt]})}var A=/\/+/g;function dt(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?M(""+I.key):Q.toString(36)}function xt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(nt,nt):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,Q,tt,at,Et){var bt=typeof I;(bt==="undefined"||bt==="boolean")&&(I=null);var Ot=!1;if(I===null)Ot=!0;else switch(bt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(I.$$typeof){case s:case e:Ot=!0;break;case S:return Ot=I._init,H(Ot(I._payload),Q,tt,at,Et)}}if(Ot)return Et=Et(I),Ot=at===""?"."+dt(I,0):at,Dt(Et)?(tt="",Ot!=null&&(tt=Ot.replace(A,"$&/")+"/"),H(Et,Q,tt,"",function(zi){return zi})):Et!=null&&(O(Et)&&(Et=j(Et,tt+(Et.key==null||I&&I.key===Et.key?"":(""+Et.key).replace(A,"$&/")+"/")+Ot)),Q.push(Et)),1;Ot=0;var ae=at===""?".":at+":";if(Dt(I))for(var qt=0;qt<I.length;qt++)at=I[qt],bt=ae+dt(at,qt),Ot+=H(at,Q,tt,bt,Et);else if(qt=G(I),typeof qt=="function")for(I=qt.call(I),qt=0;!(at=I.next()).done;)at=at.value,bt=ae+dt(at,qt++),Ot+=H(at,Q,tt,bt,Et);else if(bt==="object"){if(typeof I.then=="function")return H(xt(I),Q,tt,at,Et);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function it(I,Q,tt){if(I==null)return I;var at=[],Et=0;return H(I,at,"","",function(bt){return Q.call(tt,bt,Et++)}),at}function ot(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(tt){(I._status===0||I._status===-1)&&(I._status=1,I._result=tt)},function(tt){(I._status===0||I._status===-1)&&(I._status=2,I._result=tt)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var ft=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Vt={map:it,forEach:function(I,Q,tt){it(I,function(){Q.apply(this,arguments)},tt)},count:function(I){var Q=0;return it(I,function(){Q++}),Q},toArray:function(I){return it(I,function(Q){return Q})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return St.Activity=w,St.Children=Vt,St.Component=_t,St.Fragment=i,St.Profiler=o,St.PureComponent=ct,St.StrictMode=r,St.Suspense=E,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,St.__COMPILER_RUNTIME={__proto__:null,c:function(I){return C.H.useMemoCache(I)}},St.cache=function(I){return function(){return I.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(I,Q,tt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var at=$({},I.props),Et=I.key;if(Q!=null)for(bt in Q.key!==void 0&&(Et=""+Q.key),Q)!x.call(Q,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Q.ref===void 0||(at[bt]=Q[bt]);var bt=arguments.length-2;if(bt===1)at.children=tt;else if(1<bt){for(var Ot=Array(bt),ae=0;ae<bt;ae++)Ot[ae]=arguments[ae+2];at.children=Ot}return R(I.type,Et,at)},St.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},St.createElement=function(I,Q,tt){var at,Et={},bt=null;if(Q!=null)for(at in Q.key!==void 0&&(bt=""+Q.key),Q)x.call(Q,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(Et[at]=Q[at]);var Ot=arguments.length-2;if(Ot===1)Et.children=tt;else if(1<Ot){for(var ae=Array(Ot),qt=0;qt<Ot;qt++)ae[qt]=arguments[qt+2];Et.children=ae}if(I&&I.defaultProps)for(at in Ot=I.defaultProps,Ot)Et[at]===void 0&&(Et[at]=Ot[at]);return R(I,bt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(I){return{$$typeof:_,render:I}},St.isValidElement=O,St.lazy=function(I){return{$$typeof:S,_payload:{_status:-1,_result:I},_init:ot}},St.memo=function(I,Q){return{$$typeof:v,type:I,compare:Q===void 0?null:Q}},St.startTransition=function(I){var Q=C.T,tt={};C.T=tt;try{var at=I(),Et=C.S;Et!==null&&Et(tt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(nt,ft)}catch(bt){ft(bt)}finally{Q!==null&&tt.types!==null&&(Q.types=tt.types),C.T=Q}},St.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},St.use=function(I){return C.H.use(I)},St.useActionState=function(I,Q,tt){return C.H.useActionState(I,Q,tt)},St.useCallback=function(I,Q){return C.H.useCallback(I,Q)},St.useContext=function(I){return C.H.useContext(I)},St.useDebugValue=function(){},St.useDeferredValue=function(I,Q){return C.H.useDeferredValue(I,Q)},St.useEffect=function(I,Q){return C.H.useEffect(I,Q)},St.useEffectEvent=function(I){return C.H.useEffectEvent(I)},St.useId=function(){return C.H.useId()},St.useImperativeHandle=function(I,Q,tt){return C.H.useImperativeHandle(I,Q,tt)},St.useInsertionEffect=function(I,Q){return C.H.useInsertionEffect(I,Q)},St.useLayoutEffect=function(I,Q){return C.H.useLayoutEffect(I,Q)},St.useMemo=function(I,Q){return C.H.useMemo(I,Q)},St.useOptimistic=function(I,Q){return C.H.useOptimistic(I,Q)},St.useReducer=function(I,Q,tt){return C.H.useReducer(I,Q,tt)},St.useRef=function(I){return C.H.useRef(I)},St.useState=function(I){return C.H.useState(I)},St.useSyncExternalStore=function(I,Q,tt){return C.H.useSyncExternalStore(I,Q,tt)},St.useTransition=function(){return C.H.useTransition()},St.version="19.2.0",St}var Dy;function bd(){return Dy||(Dy=1,Lf.exports=vT()),Lf.exports}var ne=bd();const ET=Z_(ne);var kf={exports:{}},Hl={},Bf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function TT(){return Ny||(Ny=1,(function(s){function e(H,it){var ot=H.length;H.push(it);t:for(;0<ot;){var ft=ot-1>>>1,Vt=H[ft];if(0<o(Vt,it))H[ft]=it,H[ot]=Vt,ot=ft;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var it=H[0],ot=H.pop();if(ot!==it){H[0]=ot;t:for(var ft=0,Vt=H.length,I=Vt>>>1;ft<I;){var Q=2*(ft+1)-1,tt=H[Q],at=Q+1,Et=H[at];if(0>o(tt,ot))at<Vt&&0>o(Et,tt)?(H[ft]=Et,H[at]=ot,ft=at):(H[ft]=tt,H[Q]=ot,ft=Q);else if(at<Vt&&0>o(Et,ot))H[ft]=Et,H[at]=ot,ft=at;else break t}}return it}function o(H,it){var ot=H.sortIndex-it.sortIndex;return ot!==0?ot:H.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,_=d.now();s.unstable_now=function(){return d.now()-_}}var E=[],v=[],S=1,w=null,N=3,G=!1,Z=!1,$=!1,W=!1,_t=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function ht(H){for(var it=i(v);it!==null;){if(it.callback===null)r(v);else if(it.startTime<=H)r(v),it.sortIndex=it.expirationTime,e(E,it);else break;it=i(v)}}function Dt(H){if($=!1,ht(H),!Z)if(i(E)!==null)Z=!0,nt||(nt=!0,M());else{var it=i(v);it!==null&&xt(Dt,it.startTime-H)}}var nt=!1,C=-1,x=5,R=-1;function j(){return W?!0:!(s.unstable_now()-R<x)}function O(){if(W=!1,nt){var H=s.unstable_now();R=H;var it=!0;try{t:{Z=!1,$&&($=!1,gt(C),C=-1),G=!0;var ot=N;try{e:{for(ht(H),w=i(E);w!==null&&!(w.expirationTime>H&&j());){var ft=w.callback;if(typeof ft=="function"){w.callback=null,N=w.priorityLevel;var Vt=ft(w.expirationTime<=H);if(H=s.unstable_now(),typeof Vt=="function"){w.callback=Vt,ht(H),it=!0;break e}w===i(E)&&r(E),ht(H)}else r(E);w=i(E)}if(w!==null)it=!0;else{var I=i(v);I!==null&&xt(Dt,I.startTime-H),it=!1}}break t}finally{w=null,N=ot,G=!1}it=void 0}}finally{it?M():nt=!1}}}var M;if(typeof ct=="function")M=function(){ct(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,dt=A.port2;A.port1.onmessage=O,M=function(){dt.postMessage(null)}}else M=function(){_t(O,0)};function xt(H,it){C=_t(function(){H(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(H){switch(N){case 1:case 2:case 3:var it=3;break;default:it=N}var ot=N;N=it;try{return H()}finally{N=ot}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(H,it){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=N;N=H;try{return it()}finally{N=ot}},s.unstable_scheduleCallback=function(H,it,ot){var ft=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?ft+ot:ft):ot=ft,H){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=ot+Vt,H={id:S++,callback:it,priorityLevel:H,startTime:ot,expirationTime:Vt,sortIndex:-1},ot>ft?(H.sortIndex=ot,e(v,H),i(E)===null&&H===i(v)&&($?(gt(C),C=-1):$=!0,xt(Dt,ot-ft))):(H.sortIndex=Vt,e(E,H),Z||G||(Z=!0,nt||(nt=!0,M()))),H},s.unstable_shouldYield=j,s.unstable_wrapCallback=function(H){var it=N;return function(){var ot=N;N=it;try{return H.apply(this,arguments)}finally{N=ot}}}})(Pf)),Pf}var Iy;function bT(){return Iy||(Iy=1,Bf.exports=TT()),Bf.exports}var qf={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function ST(){if(Vy)return Je;Vy=1;var s=bd();function e(E){var v="https://react.dev/errors/"+E;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+E+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(E,v,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:E,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(E,v){if(E==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Je.createPortal=function(E,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(E,v,null,S)},Je.flushSync=function(E){var v=d.T,S=r.p;try{if(d.T=null,r.p=2,E)return E()}finally{d.T=v,r.p=S,r.d.f()}},Je.preconnect=function(E,v){typeof E=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(E,v))},Je.prefetchDNS=function(E){typeof E=="string"&&r.d.D(E)},Je.preinit=function(E,v){if(typeof E=="string"&&v&&typeof v.as=="string"){var S=v.as,w=_(S,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?r.d.S(E,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:G}):S==="script"&&r.d.X(E,{crossOrigin:w,integrity:N,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Je.preinitModule=function(E,v){if(typeof E=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=_(v.as,v.crossOrigin);r.d.M(E,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(E)},Je.preload=function(E,v){if(typeof E=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,w=_(S,v.crossOrigin);r.d.L(E,S,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Je.preloadModule=function(E,v){if(typeof E=="string")if(v){var S=_(v.as,v.crossOrigin);r.d.m(E,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(E)},Je.requestFormReset=function(E){r.d.r(E)},Je.unstable_batchedUpdates=function(E,v){return E(v)},Je.useFormState=function(E,v,S){return d.H.useFormState(E,v,S)},Je.useFormStatus=function(){return d.H.useHostTransitionStatus()},Je.version="19.2.0",Je}var Oy;function AT(){if(Oy)return qf.exports;Oy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qf.exports=ST(),qf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function xT(){if(My)return Hl;My=1;var s=bT(),e=bd(),i=AT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function E(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return E(c),t;if(f===l)return E(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,T=c.child;T;){if(T===a){g=!0,a=c,l=f;break}if(T===l){g=!0,l=c,a=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===a){g=!0,a=f,l=c;break}if(T===l){g=!0,l=f,a=c;break}T=T.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),_t=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),Dt=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case _t:return"Profiler";case W:return"StrictMode";case Dt:return"Suspense";case nt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case ct:return t.displayName||"Context";case gt:return(t._context.displayName||"Context")+".Consumer";case ht:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:dt(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return dt(t(n))}catch{}}return null}var xt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},ft=[],Vt=-1;function I(t){return{current:t}}function Q(t){0>Vt||(t.current=ft[Vt],ft[Vt]=null,Vt--)}function tt(t,n){Vt++,ft[Vt]=t.current,t.current=n}var at=I(null),Et=I(null),bt=I(null),Ot=I(null);function ae(t,n){switch(tt(bt,n),tt(Et,t),tt(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Kp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Kp(n),t=Zp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(at),tt(at,t)}function qt(){Q(at),Q(Et),Q(bt)}function zi(t){t.memoizedState!==null&&tt(Ot,t);var n=at.current,a=Zp(n,t.type);n!==a&&(tt(Et,t),tt(at,a))}function In(t){Et.current===t&&(Q(at),Q(Et)),Ot.current===t&&(Q(Ot),Ll._currentValue=ot)}var en,Lt;function Ht(t){if(en===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);en=n&&n[1]||"",Lt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+en+t+Lt}var Oe=!1;function de(t,n){if(!t||Oe)return"";Oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){B=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var D=g.split(`
`),k=T.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===k.length)for(l=D.length-1,c=k.length-1;1<=l&&0<=c&&D[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==k[c]){var F=`
`+D[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Oe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ht(a):""}function rn(t,n){switch(t.tag){case 26:case 27:case 5:return Ht(t.type);case 16:return Ht("Lazy");case 13:return t.child!==n&&n!==null?Ht("Suspense Fallback"):Ht("Suspense");case 19:return Ht("SuspenseList");case 0:case 15:return de(t.type,!1);case 11:return de(t.type.render,!1);case 1:return de(t.type,!0);case 31:return Ht("Activity");default:return""}}function Ui(t){try{var n="",a=null;do n+=rn(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ue=Object.prototype.hasOwnProperty,pe=s.unstable_scheduleCallback,la=s.unstable_cancelCallback,Lc=s.unstable_shouldYield,mo=s.unstable_requestPaint,nn=s.unstable_now,ts=s.unstable_getCurrentPriorityLevel,Pr=s.unstable_ImmediatePriority,qr=s.unstable_UserBlockingPriority,oa=s.unstable_NormalPriority,kc=s.unstable_LowPriority,go=s.unstable_IdlePriority,po=s.log,yo=s.unstable_setDisableYieldValue,Xn=null,Pe=null;function Vn(t){if(typeof po=="function"&&yo(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Xn,t)}catch{}}var ye=Math.clz32?Math.clz32:vo,_o=Math.log,js=Math.LN2;function vo(t){return t>>>=0,t===0?32:31-(_o(t)/js|0)|0}var oi=256,es=262144,Se=4194304;function ui(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=ui(l):(g&=T,g!==0?c=ui(g):a||(a=T&~t,a!==0&&(c=ui(a))))):(T=l&~f,T!==0?c=ui(T):g!==0?c=ui(g):a||(a=l&~t,a!==0&&(c=ui(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Kn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var t=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),t}function hi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ns(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,k=t.hiddenUpdates;for(a=g&~a;0<a;){var F=31-ye(a),X=1<<F;T[F]=0,D[F]=-1;var B=k[F];if(B!==null)for(k[F]=null,F=0;F<B.length;F++){var q=B[F];q!==null&&(q.lane&=-536870913)}a&=~X}l!==0&&is(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function is(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Hr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ye(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Gr(t,n){var a=n&-n;return a=(a&42)!==0?1:as(a),(a&(t.suspendedLanes|n))!==0?0:a}function as(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function To(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:vy(t.type))}function Zn(t,n){var a=it.p;try{return it.p=t,n()}finally{it.p=a}}var Jn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Jn,Ue="__reactProps$"+Jn,fi="__reactContainer$"+Jn,zs="__reactEvents$"+Jn,qc="__reactListeners$"+Jn,bo="__reactHandles$"+Jn,So="__reactResources$"+Jn,di="__reactMarker$"+Jn;function Us(t){delete t[Ae],delete t[Ue],delete t[zs],delete t[qc],delete t[bo]}function mi(t){var n=t[Ae];if(n)return n;for(var a=t.parentNode;a;){if(n=a[fi]||a[Ae]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=iy(t);t!==null;){if(a=t[Ae])return a;t=iy(t)}return n}t=a,a=t.parentNode}return null}function On(t){if(t=t[Ae]||t[fi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function _n(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function gi(t){var n=t[So];return n||(n=t[So]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(t){t[di]=!0}var Fr=new Set,Qr={};function pi(t,n){yi(t,n),yi(t+"Capture",n)}function yi(t,n){for(Qr[t]=n,t=0;t<n.length;t++)Fr.add(n[t])}var Yr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xr={},Kr={};function Ao(t){return ue.call(Kr,t)?!0:ue.call(Xr,t)?!1:Yr.test(t)?Kr[t]=!0:(Xr[t]=!0,!1)}function Ls(t,n,a){if(Ao(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function vn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function we(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Le(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ua(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Zr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Kt(t){if(!t._valueTracker){var n=ua(t)?"checked":"value";t._valueTracker=Zr(t,n,""+t[n])}}function ss(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ua(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rs=/[\n"\\]/g;function ln(t){return t.replace(rs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ks(t,n,a,l,c,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Le(n)):t.value!==""+Le(n)&&(t.value=""+Le(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Jr(t,g,Le(n)):a!=null?Jr(t,g,Le(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Le(T):t.removeAttribute("name")}function xo(t,n,a,l,c,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(t);return}a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Kt(t)}function Jr(t,n,a){n==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ca(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function wo(t,n,a){if(n!=null&&(n=""+Le(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Le(a):""}function ha(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(xt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Le(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Kt(t)}function on(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $r(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Co.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Wr(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&$r(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&$r(t,f,n[f])}function Bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(t){return fa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var tl=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var da=null,vi=null;function ls(t){var n=On(t);if(n&&(t=n.stateNode)){var a=t[Ue]||null;t:switch(t=n.stateNode,n.type){case"input":if(ks(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Ue]||null;if(!c)throw Error(r(90));ks(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ss(l)}break t;case"textarea":wo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ca(t,!!a.multiple,n,!1)}}}var qs=!1;function ma(t,n,a){if(qs)return t(n,a);qs=!0;try{var l=t(n);return l}finally{if(qs=!1,(da!==null||vi!==null)&&(Tu(),da&&(n=da,t=vi,vi=da=null,ls(n),t)))for(n=0;n<t.length;n++)ls(t[n])}}function Wn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ue]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),os=!1;if(jn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){os=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{os=!1}var Ei=null,el=null,us=null;function nl(){if(us)return us;var t,n=el,a=n.length,l,c="value"in Ei?Ei.value:Ei.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return us=c.slice(t,1<l?1-l:void 0)}function cs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ki(){return!0}function ti(){return!1}function qe(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:ti,this.isPropagationStopped=ti,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=qe(Bi),ga=w({},Bi,{view:0,detail:0}),il=qe(ga),pa,Hs,bi,Gs=w({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(pa=t.screenX-bi.screenX,Hs=t.screenY-bi.screenY):Hs=pa=0,bi=t),pa)},movementY:function(t){return"movementY"in t?t.movementY:Hs}}),al=qe(Gs),hs=w({},Gs,{dataTransfer:0}),Do=qe(hs),No=w({},ga,{relatedTarget:0}),fs=qe(No),sl=w({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=qe(sl),Fs=w({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vo=qe(Fs),Oo=w({},Bi,{data:0}),Si=qe(Oo),Mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zo[t])?!!n[t]:!1}function ya(){return Uo}var an=w({},ga,{key:function(t){if(t.key){var n=Mo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(t){return t.type==="keypress"?cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lo=qe(an),ko=w({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=qe(ko),u=w({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),m=qe(u),y=w({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=qe(y),U=w({},Gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=qe(U),et=w({},Bi,{newState:0,oldState:0}),wt=qe(et),_e=[9,13,27,32],Qt=jn&&"CompositionEvent"in window,ce=null;jn&&"documentMode"in document&&(ce=document.documentMode);var zn=jn&&"TextEvent"in window&&!ce,Ai=jn&&(!Qt||ce&&8<ce&&11>=ce),ei=" ",ni=!1;function ds(t,n){switch(t){case"keyup":return _e.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function Pv(t,n){switch(t){case"compositionend":return Qs(n);case"keypress":return n.which!==32?null:(ni=!0,ei);case"textInput":return t=n.data,t===ei&&ni?null:t;default:return null}}function qv(t,n){if(Ys)return t==="compositionend"||!Qt&&ds(t,n)?(t=nl(),us=el=Ei=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Hv[t.type]:n==="textarea"}function lm(t,n,a,l){da?vi?vi.push(l):vi=[l]:da=l,n=Ru(n,"onChange"),0<n.length&&(a=new Ti("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var rl=null,ll=null;function Gv(t){Hp(t,0)}function Bo(t){var n=_n(t);if(ss(n))return t}function om(t,n){if(t==="change")return n}var um=!1;if(jn){var Hc;if(jn){var Gc="oninput"in document;if(!Gc){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),Gc=typeof cm.oninput=="function"}Hc=Gc}else Hc=!1;um=Hc&&(!document.documentMode||9<document.documentMode)}function hm(){rl&&(rl.detachEvent("onpropertychange",fm),ll=rl=null)}function fm(t){if(t.propertyName==="value"&&Bo(ll)){var n=[];lm(n,ll,t,Mn(t)),ma(Gv,n)}}function Fv(t,n,a){t==="focusin"?(hm(),rl=n,ll=a,rl.attachEvent("onpropertychange",fm)):t==="focusout"&&hm()}function Qv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(ll)}function Yv(t,n){if(t==="click")return Bo(n)}function Xv(t,n){if(t==="input"||t==="change")return Bo(n)}function Kv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var En=typeof Object.is=="function"?Object.is:Kv;function ol(t,n){if(En(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ue.call(n,c)||!En(t[c],n[c]))return!1}return!0}function dm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mm(t,n){var a=dm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=dm(a)}}function gm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?gm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function pm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_i(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=_i(t.document)}return n}function Fc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Zv=jn&&"documentMode"in document&&11>=document.documentMode,Xs=null,Qc=null,ul=null,Yc=!1;function ym(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yc||Xs==null||Xs!==_i(l)||(l=Xs,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ol(ul,l)||(ul=l,l=Ru(Qc,"onSelect"),0<l.length&&(n=new Ti("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Xs)))}function ms(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ks={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Xc={},_m={};jn&&(_m=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function gs(t){if(Xc[t])return Xc[t];if(!Ks[t])return t;var n=Ks[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in _m)return Xc[t]=n[a];return t}var vm=gs("animationend"),Em=gs("animationiteration"),Tm=gs("animationstart"),Jv=gs("transitionrun"),$v=gs("transitionstart"),Wv=gs("transitioncancel"),bm=gs("transitionend"),Sm=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function ii(t,n){Sm.set(t,n),pi(n,[t])}var Po=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Zs=0,Zc=0;function qo(){for(var t=Zs,n=Zc=Zs=0;n<t;){var a=Un[n];Un[n++]=null;var l=Un[n];Un[n++]=null;var c=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Am(a,c,f)}}function Ho(t,n,a,l){Un[Zs++]=t,Un[Zs++]=n,Un[Zs++]=a,Un[Zs++]=l,Zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jc(t,n,a,l){return Ho(t,n,a,l),Go(t)}function ps(t,n){return Ho(t,null,null,n),Go(t)}function Am(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ye(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Go(t){if(50<Il)throw Il=0,lf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Js={};function tE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,n,a,l){return new tE(t,n,a,l)}function $c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,n){var a=t.alternate;return a===null?(a=Tn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function xm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fo(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")$c(t)&&(g=1);else if(typeof t=="string")g=sT(t,a,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=Tn(31,a,n,c),t.elementType=R,t.lanes=f,t;case $:return ys(a.children,c,f,n);case W:g=8,c|=24;break;case _t:return t=Tn(12,a,n,c|2),t.elementType=_t,t.lanes=f,t;case Dt:return t=Tn(13,a,n,c),t.elementType=Dt,t.lanes=f,t;case nt:return t=Tn(19,a,n,c),t.elementType=nt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ct:g=10;break t;case gt:g=9;break t;case ht:g=11;break t;case C:g=14;break t;case x:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Tn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ys(t,n,a,l){return t=Tn(7,t,l,n),t.lanes=a,t}function Wc(t,n,a){return t=Tn(6,t,null,n),t.lanes=a,t}function wm(t){var n=Tn(18,null,null,0);return n.stateNode=t,n}function th(t,n,a){return n=Tn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Cm=new WeakMap;function Ln(t,n){if(typeof t=="object"&&t!==null){var a=Cm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ui(n)},Cm.set(t,n),n)}return{value:t,source:n,stack:Ui(n)}}var $s=[],Ws=0,Qo=null,cl=0,kn=[],Bn=0,_a=null,xi=1,wi="";function Hi(t,n){$s[Ws++]=cl,$s[Ws++]=Qo,Qo=t,cl=n}function Rm(t,n,a){kn[Bn++]=xi,kn[Bn++]=wi,kn[Bn++]=_a,_a=t;var l=xi;t=wi;var c=32-ye(l)-1;l&=~(1<<c),a+=1;var f=32-ye(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,xi=1<<32-ye(n)+c|a<<c|l,wi=f+t}else xi=1<<f|a<<c|l,wi=t}function eh(t){t.return!==null&&(Hi(t,1),Rm(t,1,0))}function nh(t){for(;t===Qo;)Qo=$s[--Ws],$s[Ws]=null,cl=$s[--Ws],$s[Ws]=null;for(;t===_a;)_a=kn[--Bn],kn[Bn]=null,wi=kn[--Bn],kn[Bn]=null,xi=kn[--Bn],kn[Bn]=null}function Dm(t,n){kn[Bn++]=xi,kn[Bn++]=wi,kn[Bn++]=_a,xi=n.id,wi=n.overflow,_a=t}var He=null,se=null,kt=!1,va=null,Pn=!1,ih=Error(r(519));function Ea(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(Ln(n,t)),ih}function Nm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ae]=t,n[Ue]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Ol.length;a++)It(Ol[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),xo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ha(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Yp(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||Ea(t,!0)}function Im(t){for(He=t.return;He;)switch(He.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:He=He.return}}function tr(t){if(t!==He)return!1;if(!kt)return Im(t),kt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||bf(t.type,t.memoizedProps)),a=!a),a&&se&&Ea(t),Im(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));se=ny(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));se=ny(t)}else n===27?(n=se,Ma(t.type)?(t=Cf,Cf=null,se=t):se=n):se=He?Hn(t.stateNode.nextSibling):null;return!0}function _s(){se=He=null,kt=!1}function ah(){var t=va;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),va=null),t}function hl(t){va===null?va=[t]:va.push(t)}var sh=I(null),vs=null,Gi=null;function Ta(t,n,a){tt(sh,n._currentValue),n._currentValue=a}function Fi(t){t._currentValue=sh.current,Q(sh)}function rh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function lh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),rh(f.return,a,t),l||(g=null);break t}f=T.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),rh(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function er(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var T=c.type;En(c.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(c===Ot.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}c=c.return}t!==null&&lh(n,t,a,l),n.flags|=262144}function Yo(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Es(t){vs=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Vm(vs,t)}function Xo(t,n){return vs===null&&Es(t),Vm(t,n)}function Vm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(r(308));Gi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Gi=Gi.next=n;return a}var eE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},nE=s.unstable_scheduleCallback,iE=s.unstable_NormalPriority,Ce={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new eE,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&nE(iE,function(){t.controller.abort()})}var dl=null,uh=0,nr=0,ir=null;function aE(t,n){if(dl===null){var a=dl=[];uh=0,nr=df(),ir={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uh++,n.then(Om,Om),n}function Om(){if(--uh===0&&dl!==null){ir!==null&&(ir.status="fulfilled");var t=dl;dl=null,nr=0,ir=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function sE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Mm=H.S;H.S=function(t,n){yp=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&aE(t,n),Mm!==null&&Mm(t,n)};var Ts=I(null);function ch(){var t=Ts.current;return t!==null?t:ie.pooledCache}function Ko(t,n){n===null?tt(Ts,Ts.current):tt(Ts,n.pool)}function jm(){var t=ch();return t===null?null:{parent:Ce._currentValue,pool:t}}var ar=Error(r(460)),hh=Error(r(474)),Zo=Error(r(542)),Jo={then:function(){}};function zm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Um(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then($n,$n),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,km(t),t;default:if(typeof n.status=="string")n.then($n,$n);else{if(t=ie,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,km(t),t}throw Ss=n,ar}}function bs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ss=a,ar):a}}var Ss=null;function Lm(){if(Ss===null)throw Error(r(459));var t=Ss;return Ss=null,t}function km(t){if(t===ar||t===Zo)throw Error(r(483))}var sr=null,ml=0;function $o(t){var n=ml;return ml+=1,sr===null&&(sr=[]),Um(sr,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wo(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Bm(t){function n(z,V){if(t){var L=z.deletions;L===null?(z.deletions=[V],z.flags|=16):L.push(V)}}function a(z,V){if(!t)return null;for(;V!==null;)n(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function c(z,V){return z=qi(z,V),z.index=0,z.sibling=null,z}function f(z,V,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<V?(z.flags|=67108866,V):L):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,V,L,Y){return V===null||V.tag!==6?(V=Wc(L,z.mode,Y),V.return=z,V):(V=c(V,L),V.return=z,V)}function D(z,V,L,Y){var mt=L.type;return mt===$?F(z,V,L.props.children,Y,L.key):V!==null&&(V.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===x&&bs(mt)===V.type)?(V=c(V,L.props),gl(V,L),V.return=z,V):(V=Fo(L.type,L.key,L.props,null,z.mode,Y),gl(V,L),V.return=z,V)}function k(z,V,L,Y){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=th(L,z.mode,Y),V.return=z,V):(V=c(V,L.children||[]),V.return=z,V)}function F(z,V,L,Y,mt){return V===null||V.tag!==7?(V=ys(L,z.mode,Y,mt),V.return=z,V):(V=c(V,L),V.return=z,V)}function X(z,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Wc(""+V,z.mode,L),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case G:return L=Fo(V.type,V.key,V.props,null,z.mode,L),gl(L,V),L.return=z,L;case Z:return V=th(V,z.mode,L),V.return=z,V;case x:return V=bs(V),X(z,V,L)}if(xt(V)||M(V))return V=ys(V,z.mode,L,null),V.return=z,V;if(typeof V.then=="function")return X(z,$o(V),L);if(V.$$typeof===ct)return X(z,Xo(z,V),L);Wo(z,V)}return null}function B(z,V,L,Y){var mt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return mt!==null?null:T(z,V,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===mt?D(z,V,L,Y):null;case Z:return L.key===mt?k(z,V,L,Y):null;case x:return L=bs(L),B(z,V,L,Y)}if(xt(L)||M(L))return mt!==null?null:F(z,V,L,Y,null);if(typeof L.then=="function")return B(z,V,$o(L),Y);if(L.$$typeof===ct)return B(z,V,Xo(z,L),Y);Wo(z,L)}return null}function q(z,V,L,Y,mt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return z=z.get(L)||null,T(V,z,""+Y,mt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return z=z.get(Y.key===null?L:Y.key)||null,D(V,z,Y,mt);case Z:return z=z.get(Y.key===null?L:Y.key)||null,k(V,z,Y,mt);case x:return Y=bs(Y),q(z,V,L,Y,mt)}if(xt(Y)||M(Y))return z=z.get(L)||null,F(V,z,Y,mt,null);if(typeof Y.then=="function")return q(z,V,L,$o(Y),mt);if(Y.$$typeof===ct)return q(z,V,L,Xo(V,Y),mt);Wo(V,Y)}return null}function rt(z,V,L,Y){for(var mt=null,Gt=null,ut=V,Rt=V=0,jt=null;ut!==null&&Rt<L.length;Rt++){ut.index>Rt?(jt=ut,ut=null):jt=ut.sibling;var Ft=B(z,ut,L[Rt],Y);if(Ft===null){ut===null&&(ut=jt);break}t&&ut&&Ft.alternate===null&&n(z,ut),V=f(Ft,V,Rt),Gt===null?mt=Ft:Gt.sibling=Ft,Gt=Ft,ut=jt}if(Rt===L.length)return a(z,ut),kt&&Hi(z,Rt),mt;if(ut===null){for(;Rt<L.length;Rt++)ut=X(z,L[Rt],Y),ut!==null&&(V=f(ut,V,Rt),Gt===null?mt=ut:Gt.sibling=ut,Gt=ut);return kt&&Hi(z,Rt),mt}for(ut=l(ut);Rt<L.length;Rt++)jt=q(ut,z,Rt,L[Rt],Y),jt!==null&&(t&&jt.alternate!==null&&ut.delete(jt.key===null?Rt:jt.key),V=f(jt,V,Rt),Gt===null?mt=jt:Gt.sibling=jt,Gt=jt);return t&&ut.forEach(function(ka){return n(z,ka)}),kt&&Hi(z,Rt),mt}function yt(z,V,L,Y){if(L==null)throw Error(r(151));for(var mt=null,Gt=null,ut=V,Rt=V=0,jt=null,Ft=L.next();ut!==null&&!Ft.done;Rt++,Ft=L.next()){ut.index>Rt?(jt=ut,ut=null):jt=ut.sibling;var ka=B(z,ut,Ft.value,Y);if(ka===null){ut===null&&(ut=jt);break}t&&ut&&ka.alternate===null&&n(z,ut),V=f(ka,V,Rt),Gt===null?mt=ka:Gt.sibling=ka,Gt=ka,ut=jt}if(Ft.done)return a(z,ut),kt&&Hi(z,Rt),mt;if(ut===null){for(;!Ft.done;Rt++,Ft=L.next())Ft=X(z,Ft.value,Y),Ft!==null&&(V=f(Ft,V,Rt),Gt===null?mt=Ft:Gt.sibling=Ft,Gt=Ft);return kt&&Hi(z,Rt),mt}for(ut=l(ut);!Ft.done;Rt++,Ft=L.next())Ft=q(ut,z,Rt,Ft.value,Y),Ft!==null&&(t&&Ft.alternate!==null&&ut.delete(Ft.key===null?Rt:Ft.key),V=f(Ft,V,Rt),Gt===null?mt=Ft:Gt.sibling=Ft,Gt=Ft);return t&&ut.forEach(function(pT){return n(z,pT)}),kt&&Hi(z,Rt),mt}function ee(z,V,L,Y){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var mt=L.key;V!==null;){if(V.key===mt){if(mt=L.type,mt===$){if(V.tag===7){a(z,V.sibling),Y=c(V,L.props.children),Y.return=z,z=Y;break t}}else if(V.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===x&&bs(mt)===V.type){a(z,V.sibling),Y=c(V,L.props),gl(Y,L),Y.return=z,z=Y;break t}a(z,V);break}else n(z,V);V=V.sibling}L.type===$?(Y=ys(L.props.children,z.mode,Y,L.key),Y.return=z,z=Y):(Y=Fo(L.type,L.key,L.props,null,z.mode,Y),gl(Y,L),Y.return=z,z=Y)}return g(z);case Z:t:{for(mt=L.key;V!==null;){if(V.key===mt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(z,V.sibling),Y=c(V,L.children||[]),Y.return=z,z=Y;break t}else{a(z,V);break}else n(z,V);V=V.sibling}Y=th(L,z.mode,Y),Y.return=z,z=Y}return g(z);case x:return L=bs(L),ee(z,V,L,Y)}if(xt(L))return rt(z,V,L,Y);if(M(L)){if(mt=M(L),typeof mt!="function")throw Error(r(150));return L=mt.call(L),yt(z,V,L,Y)}if(typeof L.then=="function")return ee(z,V,$o(L),Y);if(L.$$typeof===ct)return ee(z,V,Xo(z,L),Y);Wo(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(z,V.sibling),Y=c(V,L),Y.return=z,z=Y):(a(z,V),Y=Wc(L,z.mode,Y),Y.return=z,z=Y),g(z)):a(z,V)}return function(z,V,L,Y){try{ml=0;var mt=ee(z,V,L,Y);return sr=null,mt}catch(ut){if(ut===ar||ut===Zo)throw ut;var Gt=Tn(29,ut,null,z.mode);return Gt.lanes=Y,Gt.return=z,Gt}finally{}}}var As=Bm(!0),Pm=Bm(!1),ba=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Aa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Go(t),Am(t,null,a),n}return Ho(t,l,n,a),Go(t)}function pl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Hr(t,a)}}function mh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var gh=!1;function yl(){if(gh){var t=ir;if(t!==null)throw t}}function _l(t,n,a,l){gh=!1;var c=t.updateQueue;ba=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var D=T,k=D.next;D.next=null,g===null?f=k:g.next=k,g=D;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=k:T.next=k,F.lastBaseUpdate=D))}if(f!==null){var X=c.baseState;g=0,F=k=D=null,T=f;do{var B=T.lane&-536870913,q=B!==T.lane;if(q?(Mt&B)===B:(l&B)===B){B!==0&&B===nr&&(gh=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var rt=t,yt=T;B=n;var ee=a;switch(yt.tag){case 1:if(rt=yt.payload,typeof rt=="function"){X=rt.call(ee,X,B);break t}X=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=yt.payload,B=typeof rt=="function"?rt.call(ee,X,B):rt,B==null)break t;X=w({},X,B);break t;case 2:ba=!0}}B=T.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(k=F=q,D=X):F=F.next=q,g|=B;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;q=T,T=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);F===null&&(D=X),c.baseState=D,c.firstBaseUpdate=k,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),Da|=g,t.lanes=g,t.memoizedState=X}}function qm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Hm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qm(a[t],n)}var rr=I(null),tu=I(0);function Gm(t,n){t=ta,tt(tu,t),tt(rr,n),ta=t|n.baseLanes}function ph(){tt(tu,ta),tt(rr,rr.current)}function yh(){ta=tu.current,Q(rr),Q(tu)}var bn=I(null),qn=null;function xa(t){var n=t.alternate;tt(ve,ve.current&1),tt(bn,t),qn===null&&(n===null||rr.current!==null||n.memoizedState!==null)&&(qn=t)}function _h(t){tt(ve,ve.current),tt(bn,t),qn===null&&(qn=t)}function Fm(t){t.tag===22?(tt(ve,ve.current),tt(bn,t),qn===null&&(qn=t)):wa()}function wa(){tt(ve,ve.current),tt(bn,bn.current)}function Sn(t){Q(bn),qn===t&&(qn=null),Q(ve)}var ve=I(0);function eu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xf(a)||wf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,Ct=null,Wt=null,Re=null,nu=!1,lr=!1,xs=!1,iu=0,vl=0,or=null,rE=0;function me(){throw Error(r(321))}function vh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!En(t[a],n[a]))return!1;return!0}function Eh(t,n,a,l,c,f){return Qi=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Rg:jh,xs=!1,f=a(l,c),xs=!1,lr&&(f=Ym(n,a,l,c)),Qm(t),f}function Qm(t){H.H=bl;var n=Wt!==null&&Wt.next!==null;if(Qi=0,Re=Wt=Ct=null,nu=!1,vl=0,or=null,n)throw Error(r(300));t===null||De||(t=t.dependencies,t!==null&&Yo(t)&&(De=!0))}function Ym(t,n,a,l){Ct=t;var c=0;do{if(lr&&(or=null),vl=0,lr=!1,25<=c)throw Error(r(301));if(c+=1,Re=Wt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Dg,f=n(a,l)}while(lr);return f}function lE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?El(n):n,t=t.useState()[0],(Wt!==null?Wt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Th(){var t=iu!==0;return iu=0,t}function bh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Sh(t){if(nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}nu=!1}Qi=0,Re=Wt=Ct=null,lr=!1,vl=iu=0,or=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Ct.memoizedState=Re=t:Re=Re.next=t,Re}function Ee(){if(Wt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var n=Re===null?Ct.memoizedState:Re.next;if(n!==null)Re=n,Wt=t;else{if(t===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Re===null?Ct.memoizedState=Re=t:Re=Re.next=t}return Re}function au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var n=vl;return vl+=1,or===null&&(or=[]),t=Um(or,t,n),n=Ct,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Rg:jh),t}function su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===ct)return Ge(t)}throw Error(r(438,String(t)))}function Ah(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=au(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=j;return n.index++,a}function Yi(t,n){return typeof n=="function"?n(t):n}function ru(t){var n=Ee();return xh(n,Wt,t)}function xh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=g=null,D=null,k=n,F=!1;do{var X=k.lane&-536870913;if(X!==k.lane?(Mt&X)===X:(Qi&X)===X){var B=k.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),X===nr&&(F=!0);else if((Qi&B)===B){k=k.next,B===nr&&(F=!0);continue}else X={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},D===null?(T=D=X,g=f):D=D.next=X,Ct.lanes|=B,Da|=B;X=k.action,xs&&a(f,X),f=k.hasEagerState?k.eagerState:a(f,X)}else B={lane:X,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},D===null?(T=D=B,g=f):D=D.next=B,Ct.lanes|=X,Da|=X;k=k.next}while(k!==null&&k!==n);if(D===null?g=f:D.next=T,!En(f,t.memoizedState)&&(De=!0,F&&(a=ir,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wh(t){var n=Ee(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);En(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Xm(t,n,a){var l=Ct,c=Ee(),f=kt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!En((Wt||c).memoizedState,a);if(g&&(c.memoizedState=a,De=!0),c=c.queue,Dh(Jm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,ur(9,{destroy:void 0},Zm.bind(null,l,c,a,n),null),ie===null)throw Error(r(349));f||(Qi&127)!==0||Km(l,n,a)}return a}function Km(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=au(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Zm(t,n,a,l){n.value=a,n.getSnapshot=l,$m(n)&&Wm(t)}function Jm(t,n,a){return a(function(){$m(n)&&Wm(t)})}function $m(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!En(t,a)}catch{return!0}}function Wm(t){var n=ps(t,2);n!==null&&dn(n,t,2)}function Ch(t){var n=sn();if(typeof t=="function"){var a=t;if(t=a(),xs){Vn(!0);try{a()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},n}function tg(t,n,a,l){return t.baseState=a,xh(t,Wt,typeof l=="function"?l:Yi)}function oE(t,n,a,l,c){if(uu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,eg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function eg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var T=a(c,l),D=H.S;D!==null&&D(g,T),ng(t,n,T)}catch(k){Rh(t,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(c,l),ng(t,n,f)}catch(k){Rh(t,n,k)}}function ng(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ig(t,n,l)},function(l){return Rh(t,n,l)}):ig(t,n,a)}function ig(t,n,a){n.status="fulfilled",n.value=a,ag(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,eg(t,a)))}function Rh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ag(n),n=n.next;while(n!==l)}t.action=null}function ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function sg(t,n){return n}function rg(t,n){if(kt){var a=ie.formState;if(a!==null){t:{var l=Ct;if(kt){if(se){e:{for(var c=se,f=Pn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Hn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=Hn(c.nextSibling),l=c.data==="F!";break t}}Ea(l)}l=!1}l&&(n=a[0])}}return a=sn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:n},a.queue=l,a=xg.bind(null,Ct,l),l.dispatch=a,l=Ch(!1),f=Mh.bind(null,Ct,!1,l.queue),l=sn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=oE.bind(null,Ct,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function lg(t){var n=Ee();return og(n,Wt,t)}function og(t,n,a){if(n=xh(t,n,sg)[0],t=ru(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=El(n)}catch(g){throw g===ar?Zo:g}else l=n;n=Ee();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Ct.flags|=2048,ur(9,{destroy:void 0},uE.bind(null,c,a),null)),[l,f,t]}function uE(t,n){t.action=n}function ug(t){var n=Ee(),a=Wt;if(a!==null)return og(n,a,t);Ee(),n=n.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ur(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=au(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function cg(){return Ee().memoizedState}function lu(t,n,a,l){var c=sn();Ct.flags|=t,c.memoizedState=ur(1|n,{destroy:void 0},a,l===void 0?null:l)}function ou(t,n,a,l){var c=Ee();l=l===void 0?null:l;var f=c.memoizedState.inst;Wt!==null&&l!==null&&vh(l,Wt.memoizedState.deps)?c.memoizedState=ur(n,f,a,l):(Ct.flags|=t,c.memoizedState=ur(1|n,f,a,l))}function hg(t,n){lu(8390656,8,t,n)}function Dh(t,n){ou(2048,8,t,n)}function cE(t){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=au(),Ct.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function fg(t){var n=Ee().memoizedState;return cE({ref:n,nextImpl:t}),function(){if((Yt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function dg(t,n){return ou(4,2,t,n)}function mg(t,n){return ou(4,4,t,n)}function gg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function pg(t,n,a){a=a!=null?a.concat([t]):null,ou(4,4,gg.bind(null,n,t),a)}function Nh(){}function yg(t,n){var a=Ee();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&vh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function _g(t,n){var a=Ee();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&vh(n,l[1]))return l[0];if(l=t(),xs){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,n],l}function Ih(t,n,a){return a===void 0||(Qi&1073741824)!==0&&(Mt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=vp(),Ct.lanes|=t,Da|=t,a)}function vg(t,n,a,l){return En(a,n)?a:rr.current!==null?(t=Ih(t,a,l),En(t,n)||(De=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(Mt&261930)===0?(De=!0,t.memoizedState=a):(t=vp(),Ct.lanes|=t,Da|=t,n)}function Eg(t,n,a,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var g=H.T,T={};H.T=T,Mh(t,!1,n,a);try{var D=c(),k=H.S;if(k!==null&&k(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var F=sE(D,l);Tl(t,n,F,wn(t))}else Tl(t,n,l,wn(t))}catch(X){Tl(t,n,{then:function(){},status:"rejected",reason:X},wn())}finally{it.p=f,g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}function hE(){}function Vh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Tg(t).queue;Eg(t,c,n,ot,a===null?hE:function(){return bg(t),a(l)})}function Tg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bg(t){var n=Tg(t);n.next===null&&(n=t.alternate.memoizedState),Tl(t,n.next.queue,{},wn())}function Oh(){return Ge(Ll)}function Sg(){return Ee().memoizedState}function Ag(){return Ee().memoizedState}function fE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=wn();t=Sa(a);var l=Aa(n,t,a);l!==null&&(dn(l,n,a),pl(l,n,a)),n={cache:oh()},t.payload=n;return}n=n.return}}function dE(t,n,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uu(t)?wg(n,a):(a=Jc(t,n,a,l),a!==null&&(dn(a,t,l),Cg(a,n,l)))}function xg(t,n,a){var l=wn();Tl(t,n,a,l)}function Tl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uu(t))wg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,a);if(c.hasEagerState=!0,c.eagerState=T,En(T,g))return Ho(t,n,c,0),ie===null&&qo(),!1}catch{}finally{}if(a=Jc(t,n,c,l),a!==null)return dn(a,t,l),Cg(a,n,l),!0}return!1}function Mh(t,n,a,l){if(l={lane:2,revertLane:df(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uu(t)){if(n)throw Error(r(479))}else n=Jc(t,a,l,2),n!==null&&dn(n,t,2)}function uu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function wg(t,n){lr=nu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Cg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Hr(t,a)}}var bl={readContext:Ge,use:su,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};bl.useEffectEvent=me;var Rg={readContext:Ge,use:su,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:hg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,lu(4194308,4,gg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return lu(4194308,4,t,n)},useInsertionEffect:function(t,n){lu(4,2,t,n)},useMemo:function(t,n){var a=sn();n=n===void 0?null:n;var l=t();if(xs){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=sn();if(a!==void 0){var c=a(n);if(xs){Vn(!0);try{a(n)}finally{Vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=dE.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ch(t);var n=t.queue,a=xg.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Nh,useDeferredValue:function(t,n){var a=sn();return Ih(a,t,n)},useTransition:function(){var t=Ch(!1);return t=Eg.bind(null,Ct,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,c=sn();if(kt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ie===null)throw Error(r(349));(Mt&127)!==0||Km(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,hg(Jm.bind(null,l,f,t),[t]),l.flags|=2048,ur(9,{destroy:void 0},Zm.bind(null,l,f,a,n),null),a},useId:function(){var t=sn(),n=ie.identifierPrefix;if(kt){var a=wi,l=xi;a=(l&~(1<<32-ye(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=iu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=rE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Oh,useFormState:rg,useActionState:rg,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mh.bind(null,Ct,!0,a),a.dispatch=n,[t,n]},useMemoCache:Ah,useCacheRefresh:function(){return sn().memoizedState=fE.bind(null,Ct)},useEffectEvent:function(t){var n=sn(),a={impl:t};return n.memoizedState=a,function(){if((Yt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},jh={readContext:Ge,use:su,useCallback:yg,useContext:Ge,useEffect:Dh,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:ru,useRef:cg,useState:function(){return ru(Yi)},useDebugValue:Nh,useDeferredValue:function(t,n){var a=Ee();return vg(a,Wt.memoizedState,t,n)},useTransition:function(){var t=ru(Yi)[0],n=Ee().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Xm,useId:Sg,useHostTransitionStatus:Oh,useFormState:lg,useActionState:lg,useOptimistic:function(t,n){var a=Ee();return tg(a,Wt,t,n)},useMemoCache:Ah,useCacheRefresh:Ag};jh.useEffectEvent=fg;var Dg={readContext:Ge,use:su,useCallback:yg,useContext:Ge,useEffect:Dh,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:wh,useRef:cg,useState:function(){return wh(Yi)},useDebugValue:Nh,useDeferredValue:function(t,n){var a=Ee();return Wt===null?Ih(a,t,n):vg(a,Wt.memoizedState,t,n)},useTransition:function(){var t=wh(Yi)[0],n=Ee().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Xm,useId:Sg,useHostTransitionStatus:Oh,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var a=Ee();return Wt!==null?tg(a,Wt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ah,useCacheRefresh:Ag};Dg.useEffectEvent=fg;function zh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=wn(),c=Sa(l);c.payload=n,a!=null&&(c.callback=a),n=Aa(t,c,l),n!==null&&(dn(n,t,l),pl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=wn(),c=Sa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Aa(t,c,l),n!==null&&(dn(n,t,l),pl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=wn(),l=Sa(a);l.tag=2,n!=null&&(l.callback=n),n=Aa(t,l,a),n!==null&&(dn(n,t,a),pl(n,t,a))}};function Ng(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!ol(a,l)||!ol(c,f):!0}function Ig(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Uh.enqueueReplaceState(n,n.state,null)}function ws(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Vg(t){Po(t)}function Og(t){console.error(t)}function Mg(t){Po(t)}function cu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function jg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Lh(t,n,a){return a=Sa(a),a.tag=3,a.payload={element:null},a.callback=function(){cu(t,n)},a}function zg(t){return t=Sa(t),t.tag=3,t}function Ug(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){jg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){jg(n,a,l),typeof c!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function mE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&er(n,a,c,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?bu():a.alternate===null&&ge===0&&(ge=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Jo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),cf(t,l,c)),!1;case 22:return a.flags|=65536,l===Jo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),cf(t,l,c)),!1}throw Error(r(435,a.tag))}return cf(t,l,c),bu(),!1}if(kt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ih&&(t=Error(r(422),{cause:l}),hl(Ln(t,a)))):(l!==ih&&(n=Error(r(423),{cause:l}),hl(Ln(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Ln(l,a),c=Lh(t.stateNode,l,c),mh(t,c),ge!==4&&(ge=2)),!1;var f=Error(r(520),{cause:l});if(f=Ln(f,a),Nl===null?Nl=[f]:Nl.push(f),ge!==4&&(ge=2),n===null)return!0;l=Ln(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Lh(a.stateNode,l,t),mh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Na===null||!Na.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=zg(c),Ug(c,t,a,l),mh(a,c),!1}a=a.return}while(a!==null);return!1}var kh=Error(r(461)),De=!1;function Fe(t,n,a,l){n.child=t===null?Pm(n,null,a,l):As(n,t.child,a,l)}function Lg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Es(n),l=Eh(t,n,a,g,f,c),T=Th(),t!==null&&!De?(bh(t,n,c),Xi(t,n,c)):(kt&&T&&eh(n),n.flags|=1,Fe(t,n,l,c),n.child)}function kg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!$c(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Bg(t,n,f,l,c)):(t=Fo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(g,l)&&t.ref===n.ref)return Xi(t,n,c)}return n.flags|=1,t=qi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Bg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(ol(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Yh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Xi(t,n,c)}return Bh(t,n,a,l,c)}function Pg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return qg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ko(n,f!==null?f.cachePool:null),f!==null?Gm(n,f):ph(),Fm(n);else return l=n.lanes=536870912,qg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Ko(n,f.cachePool),Gm(n,f),wa(),n.memoizedState=null):(t!==null&&Ko(n,null),ph(),wa());return Fe(t,n,c,a),n.child}function Sl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qg(t,n,a,l,c){var f=ch();return f=f===null?null:{parent:Ce._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ko(n,null),ph(),Fm(n),t!==null&&er(t,n,l,!0),n.childLanes=c,null}function hu(t,n){return n=du({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Hg(t,n,a){return As(n,t.child,null,a),t=hu(n,n.pendingProps),t.flags|=2,Sn(n),n.memoizedState=null,t}function gE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(kt){if(l.mode==="hidden")return t=hu(n,l),n.lanes=536870912,Sl(null,t);if(_h(n),(t=se)?(t=ey(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_a!==null?{id:xi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=wm(t),a.return=n,n.child=a,He=n,se=null)):t=null,t===null)throw Ea(n);return n.lanes=536870912,null}return hu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(_h(n),c)if(n.flags&256)n.flags&=-257,n=Hg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(De||er(t,n,a,!1),c=(a&t.childLanes)!==0,De||c){if(l=ie,l!==null&&(g=Gr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ps(t,g),dn(l,t,g),kh;bu(),n=Hg(t,n,a)}else t=f.treeContext,se=Hn(g.nextSibling),He=n,kt=!0,va=null,Pn=!1,t!==null&&Dm(n,t),n=hu(n,l),n.flags|=4096;return n}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function fu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Bh(t,n,a,l,c){return Es(n),a=Eh(t,n,a,l,void 0,c),l=Th(),t!==null&&!De?(bh(t,n,c),Xi(t,n,c)):(kt&&l&&eh(n),n.flags|=1,Fe(t,n,a,c),n.child)}function Gg(t,n,a,l,c,f){return Es(n),n.updateQueue=null,a=Ym(n,l,a,c),Qm(t),l=Th(),t!==null&&!De?(bh(t,n,f),Xi(t,n,f)):(kt&&l&&eh(n),n.flags|=1,Fe(t,n,a,f),n.child)}function Fg(t,n,a,l,c){if(Es(n),n.stateNode===null){var f=Js,g=a.contextType;typeof g=="object"&&g!==null&&(f=Ge(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},fh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Ge(g):Js,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(zh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Uh.enqueueReplaceState(f,f.state,null),_l(n,l,f,c),yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=ws(a,T);f.props=D;var k=f.context,F=a.contextType;g=Js,typeof F=="object"&&F!==null&&(g=Ge(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||k!==g)&&Ig(n,f,l,g),ba=!1;var B=n.memoizedState;f.state=B,_l(n,l,f,c),yl(),k=n.memoizedState,T||B!==k||ba?(typeof X=="function"&&(zh(n,a,X,l),k=n.memoizedState),(D=ba||Ng(n,a,D,l,B,k,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=g,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,dh(t,n),g=n.memoizedProps,F=ws(a,g),f.props=F,X=n.pendingProps,B=f.context,k=a.contextType,D=Js,typeof k=="object"&&k!==null&&(D=Ge(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==D)&&Ig(n,f,l,D),ba=!1,B=n.memoizedState,f.state=B,_l(n,l,f,c),yl();var q=n.memoizedState;g!==X||B!==q||ba||t!==null&&t.dependencies!==null&&Yo(t.dependencies)?(typeof T=="function"&&(zh(n,a,T,l),q=n.memoizedState),(F=ba||Ng(n,a,F,l,B,q,D)||t!==null&&t.dependencies!==null&&Yo(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=D,l=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=As(n,t.child,null,c),n.child=As(n,null,a,c)):Fe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Xi(t,n,c),t}function Qg(t,n,a,l){return _s(),n.flags|=256,Fe(t,n,a,l),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(t){return{baseLanes:t,cachePool:jm()}}function Hh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=xn),t}function Yg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(ve.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(c?xa(n):wa(),(t=se)?(t=ey(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:_a!==null?{id:xi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=wm(t),a.return=n,n.child=a,He=n,se=null)):t=null,t===null)throw Ea(n);return wf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,c?(wa(),c=n.mode,T=du({mode:"hidden",children:T},c),l=ys(l,c,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=qh(a),l.childLanes=Hh(t,g,a),n.memoizedState=Ph,Sl(null,l)):(xa(n),Gh(n,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(xa(n),n.flags&=-257,n=Fh(t,n,a)):n.memoizedState!==null?(wa(),n.child=t.child,n.flags|=128,n=null):(wa(),T=l.fallback,c=n.mode,l=du({mode:"visible",children:l.children},c),T=ys(T,c,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,As(n,t.child,null,a),l=n.child,l.memoizedState=qh(a),l.childLanes=Hh(t,g,a),n.memoizedState=Ph,n=Sl(null,l));else if(xa(n),wf(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var k=g.dgst;g=k,l=Error(r(419)),l.stack="",l.digest=g,hl({value:l,source:null,stack:null}),n=Fh(t,n,a)}else if(De||er(t,n,a,!1),g=(a&t.childLanes)!==0,De||g){if(g=ie,g!==null&&(l=Gr(g,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ps(t,l),dn(g,t,l),kh;xf(T)||bu(),n=Fh(t,n,a)}else xf(T)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,se=Hn(T.nextSibling),He=n,kt=!0,va=null,Pn=!1,t!==null&&Dm(n,t),n=Gh(n,l.children),n.flags|=4096);return n}return c?(wa(),T=l.fallback,c=n.mode,D=t.child,k=D.sibling,l=qi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,k!==null?T=qi(k,T):(T=ys(T,c,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Sl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=qh(a):(c=T.cachePool,c!==null?(D=Ce._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=jm(),T={baseLanes:T.baseLanes|a,cachePool:c}),l.memoizedState=T,l.childLanes=Hh(t,g,a),n.memoizedState=Ph,Sl(t.child,l)):(xa(n),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Gh(t,n){return n=du({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function du(t,n){return t=Tn(22,t,null,n),t.lanes=0,t}function Fh(t,n,a){return As(n,t.child,null,a),t=Gh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Xg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),rh(t.return,n,a)}function Qh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Kg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=ve.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,tt(ve,g),Fe(t,n,l,a),l=kt?cl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xg(t,a,n);else if(t.tag===19)Xg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&eu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Qh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&eu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Qh(n,!0,a,null,f,l);break;case"together":Qh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Xi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Da|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(er(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=qi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Yh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yo(t)))}function pE(t,n,a){switch(n.tag){case 3:ae(n,n.stateNode.containerInfo),Ta(n,Ce,t.memoizedState.cache),_s();break;case 27:case 5:zi(n);break;case 4:ae(n,n.stateNode.containerInfo);break;case 10:Ta(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_h(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(xa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Yg(t,n,a):(xa(n),t=Xi(t,n,a),t!==null?t.sibling:null);xa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(er(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Kg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(ve,ve.current),l)break;return null;case 22:return n.lanes=0,Pg(t,n,a,n.pendingProps);case 24:Ta(n,Ce,t.memoizedState.cache)}return Xi(t,n,a)}function Zg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Yh(t,a)&&(n.flags&128)===0)return De=!1,pE(t,n,a);De=(t.flags&131072)!==0}else De=!1,kt&&(n.flags&1048576)!==0&&Rm(n,cl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=bs(n.elementType),n.type=t,typeof t=="function")$c(t)?(l=ws(t,l),n.tag=1,n=Fg(null,n,t,l,a)):(n.tag=0,n=Bh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===ht){n.tag=11,n=Lg(null,n,t,l,a);break t}else if(c===C){n.tag=14,n=kg(null,n,t,l,a);break t}}throw n=dt(t)||t,Error(r(306,n,""))}}return n;case 0:return Bh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ws(l,n.pendingProps),Fg(t,n,l,c,a);case 3:t:{if(ae(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,dh(t,n),_l(n,l,null,a);var g=n.memoizedState;if(l=g.cache,Ta(n,Ce,l),l!==f.cache&&lh(n,[Ce],a,!0),yl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qg(t,n,l,a);break t}else if(l!==c){c=Ln(Error(r(424)),n),hl(c),n=Qg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Hn(t.firstChild),He=n,kt=!0,va=null,Pn=!0,a=Pm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_s(),l===c){n=Xi(t,n,a);break t}Fe(t,n,l,a)}n=n.child}return n;case 26:return fu(t,n),t===null?(a=ly(n.type,null,n.pendingProps,null))?n.memoizedState=a:kt||(a=n.type,t=n.pendingProps,l=Du(bt.current).createElement(a),l[Ae]=n,l[Ue]=t,Qe(l,a,t),xe(l),n.stateNode=l):n.memoizedState=ly(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&kt&&(l=n.stateNode=ay(n.type,n.pendingProps,bt.current),He=n,Pn=!0,c=se,Ma(n.type)?(Cf=c,se=Hn(l.firstChild)):se=c),Fe(t,n,n.pendingProps.children,a),fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((c=l=se)&&(l=QE(l,n.type,n.pendingProps,Pn),l!==null?(n.stateNode=l,He=n,se=Hn(l.firstChild),Pn=!1,c=!0):c=!1),c||Ea(n)),zi(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,bf(c,f)?l=null:g!==null&&bf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Eh(t,n,lE,null,null,a),Ll._currentValue=c),fu(t,n),Fe(t,n,l,a),n.child;case 6:return t===null&&kt&&((t=a=se)&&(a=YE(a,n.pendingProps,Pn),a!==null?(n.stateNode=a,He=n,se=null,t=!0):t=!1),t||Ea(n)),null;case 13:return Yg(t,n,a);case 4:return ae(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=As(n,null,l,a):Fe(t,n,l,a),n.child;case 11:return Lg(t,n,n.type,n.pendingProps,a);case 7:return Fe(t,n,n.pendingProps,a),n.child;case 8:return Fe(t,n,n.pendingProps.children,a),n.child;case 12:return Fe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ta(n,n.type,l.value),Fe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Es(n),c=Ge(c),l=l(c),n.flags|=1,Fe(t,n,l,a),n.child;case 14:return kg(t,n,n.type,n.pendingProps,a);case 15:return Bg(t,n,n.type,n.pendingProps,a);case 19:return Kg(t,n,a);case 31:return gE(t,n,a);case 22:return Pg(t,n,a,n.pendingProps);case 24:return Es(n),l=Ge(Ce),t===null?(c=ch(),c===null&&(c=ie,f=oh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},fh(n),Ta(n,Ce,c)):((t.lanes&a)!==0&&(dh(t,n),_l(n,null,null,a),yl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ta(n,Ce,l)):(l=f.cache,Ta(n,Ce,l),l!==c.cache&&lh(n,[Ce],a,!0))),Fe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ki(t){t.flags|=4}function Xh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Sp())t.flags|=8192;else throw Ss=Jo,hh}else t.flags&=-16777217}function Jg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fy(n))if(Sp())t.flags|=8192;else throw Ss=Jo,hh}function mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Eo():536870912,t.lanes|=n,dr|=n)}function Al(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function yE(t,n,a){var l=n.pendingProps;switch(nh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Fi(Ce),qt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tr(n)?Ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ah())),re(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Ki(n),f!==null?(re(n),Jg(n,f)):(re(n),Xh(n,c,null,l,a))):f?f!==t.memoizedState?(Ki(n),re(n),Jg(n,f)):(re(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ki(n),re(n),Xh(n,c,t,l,a)),null;case 27:if(In(n),a=bt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return re(n),null}t=at.current,tr(n)?Nm(n):(t=ay(c,l,a),n.stateNode=t,Ki(n))}return re(n),null;case 5:if(In(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return re(n),null}if(f=at.current,tr(n))Nm(n);else{var g=Du(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[Ae]=n,f[Ue]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Qe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ki(n)}}return re(n),Xh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=bt.current,tr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=He,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ae]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Yp(t.nodeValue,a)),t||Ea(n,!0)}else t=Du(t).createTextNode(l),t[Ae]=n,n.stateNode=t}return re(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=tr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ae]=n}else _s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),t=!1}else a=ah(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Sn(n),n):(Sn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Ae]=n}else _s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=ah(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Sn(n),n):(Sn(n),null)}return Sn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),mu(n,n.updateQueue),re(n),null);case 4:return qt(),t===null&&yf(n.stateNode.containerInfo),re(n),null;case 10:return Fi(n.type),re(n),null;case 19:if(Q(ve),l=n.memoizedState,l===null)return re(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Al(l,!1);else{if(ge!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=eu(t),f!==null){for(n.flags|=128,Al(l,!1),t=f.updateQueue,n.updateQueue=t,mu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)xm(a,t),a=a.sibling;return tt(ve,ve.current&1|2),kt&&Hi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&nn()>vu&&(n.flags|=128,c=!0,Al(l,!1),n.lanes=4194304)}else{if(!c)if(t=eu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,mu(n,t),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!kt)return re(n),null}else 2*nn()-l.renderingStartTime>vu&&a!==536870912&&(n.flags|=128,c=!0,Al(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=ve.current,tt(ve,c?a&1|2:a&1),kt&&Hi(n,l.treeForkCount),t):(re(n),null);case 22:case 23:return Sn(n),yh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),a=n.updateQueue,a!==null&&mu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Q(Ts),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Fi(Ce),re(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function _E(t,n){switch(nh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Fi(Ce),qt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return In(n),null;case 31:if(n.memoizedState!==null){if(Sn(n),n.alternate===null)throw Error(r(340));_s()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Sn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));_s()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(ve),null;case 4:return qt(),null;case 10:return Fi(n.type),null;case 22:case 23:return Sn(n),yh(),t!==null&&Q(Ts),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Fi(Ce),null;case 25:return null;default:return null}}function $g(t,n){switch(nh(n),n.tag){case 3:Fi(Ce),qt();break;case 26:case 27:case 5:In(n);break;case 4:qt();break;case 31:n.memoizedState!==null&&Sn(n);break;case 13:Sn(n);break;case 19:Q(ve);break;case 10:Fi(n.type);break;case 22:case 23:Sn(n),yh(),t!==null&&Q(Ts);break;case 24:Fi(Ce)}}function xl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(T){Jt(n,n.return,T)}}function Ca(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,c=n;var D=a,k=T;try{k()}catch(F){Jt(c,D,F)}}}l=l.next}while(l!==f)}}catch(F){Jt(n,n.return,F)}}function Wg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Hm(n,a)}catch(l){Jt(t,t.return,l)}}}function tp(t,n,a){a.props=ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(t,n,l)}}function wl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Jt(t,n,c)}}function Ci(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Jt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Jt(t,n,c)}else a.current=null}function ep(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Jt(t,t.return,c)}}function Kh(t,n,a){try{var l=t.stateNode;BE(l,t.type,a,n),l[Ue]=n}catch(c){Jt(t,t.return,c)}}function np(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ma(t.type)||t.tag===4}function Zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ma(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=$n));else if(l!==4&&(l===27&&Ma(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Jh(t,n,a),t=t.sibling;t!==null;)Jh(t,n,a),t=t.sibling}function gu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ma(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gu(t,n,a),t=t.sibling;t!==null;)gu(t,n,a),t=t.sibling}function ip(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Qe(n,l,a),n[Ae]=t,n[Ue]=a}catch(f){Jt(t,t.return,f)}}var Zi=!1,Ne=!1,$h=!1,ap=typeof WeakSet=="function"?WeakSet:Set,ke=null;function vE(t,n){if(t=t.containerInfo,Ef=zu,t=pm(t),Fc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,T=-1,D=-1,k=0,F=0,X=t,B=null;e:for(;;){for(var q;X!==a||c!==0&&X.nodeType!==3||(T=g+c),X!==f||l!==0&&X.nodeType!==3||(D=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===t)break e;if(B===a&&++k===c&&(T=g),B===f&&++F===l&&(D=g),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tf={focusedElem:t,selectionRange:a},zu=!1,ke=n;ke!==null;)if(n=ke,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ke=t;else for(;ke!==null;){switch(n=ke,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var rt=ws(a.type,c);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Jt(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Af(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ke=t;break}ke=n.return}}function sp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),l&4&&xl(5,a);break;case 1:if($i(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Jt(a,a.return,g)}else{var c=ws(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(a,a.return,g)}}l&64&&Wg(a),l&512&&wl(a,a.return);break;case 3:if($i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Hm(t,n)}catch(g){Jt(a,a.return,g)}}break;case 27:n===null&&l&4&&ip(a);case 26:case 5:$i(t,a),n===null&&l&4&&ep(a),l&512&&wl(a,a.return);break;case 12:$i(t,a);break;case 31:$i(t,a),l&4&&op(t,a);break;case 13:$i(t,a),l&4&&up(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=RE.bind(null,a),XE(t,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||Ne,c=Zi;var f=Ne;Zi=l,(Ne=n)&&!f?Wi(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),Zi=c,Ne=f}break;case 30:break;default:$i(t,a)}}function rp(t){var n=t.alternate;n!==null&&(t.alternate=null,rp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Us(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var he=null,un=!1;function Ji(t,n,a){for(a=a.child;a!==null;)lp(t,n,a),a=a.sibling}function lp(t,n,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Ne||Ci(a,n),Ji(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||Ci(a,n);var l=he,c=un;Ma(a.type)&&(he=a.stateNode,un=!1),Ji(t,n,a),jl(a.stateNode),he=l,un=c;break;case 5:Ne||Ci(a,n);case 6:if(l=he,c=un,he=null,Ji(t,n,a),he=l,un=c,he!==null)if(un)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(a.stateNode)}catch(f){Jt(a,n,f)}else try{he.removeChild(a.stateNode)}catch(f){Jt(a,n,f)}break;case 18:he!==null&&(un?(t=he,Wp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Tr(t)):Wp(he,a.stateNode));break;case 4:l=he,c=un,he=a.stateNode.containerInfo,un=!0,Ji(t,n,a),he=l,un=c;break;case 0:case 11:case 14:case 15:Ca(2,a,n),Ne||Ca(4,a,n),Ji(t,n,a);break;case 1:Ne||(Ci(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&tp(a,n,l)),Ji(t,n,a);break;case 21:Ji(t,n,a);break;case 22:Ne=(l=Ne)||a.memoizedState!==null,Ji(t,n,a),Ne=l;break;default:Ji(t,n,a)}}function op(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tr(t)}catch(a){Jt(n,n.return,a)}}}function up(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tr(t)}catch(a){Jt(n,n.return,a)}}function EE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ap),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ap),n;default:throw Error(r(435,t.tag))}}function pu(t,n){var a=EE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=DE.bind(null,t,l);l.then(c,c)}})}function cn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Ma(T.type)){he=T.stateNode,un=!1;break t}break;case 5:he=T.stateNode,un=!1;break t;case 3:case 4:he=T.stateNode.containerInfo,un=!0;break t}T=T.return}if(he===null)throw Error(r(160));lp(f,g,c),he=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)cp(n,t),n=n.sibling}var ai=null;function cp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),hn(t),l&4&&(Ca(3,t,t.return),xl(3,t),Ca(5,t,t.return));break;case 1:cn(n,t),hn(t),l&512&&(Ne||a===null||Ci(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=ai;if(cn(n,t),hn(t),l&512&&(Ne||a===null||Ci(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[di]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Qe(f,l,a),f[Ae]=t,xe(f),l=f;break t;case"link":var g=cy("link","href",c).get(l+(a.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(T,1);break e}}f=c.createElement(l),Qe(f,l,a),c.head.appendChild(f);break;case"meta":if(g=cy("meta","content",c).get(l+(a.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(T,1);break e}}f=c.createElement(l),Qe(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ae]=t,xe(f),l=f}t.stateNode=l}else hy(c,t.type,t.stateNode);else t.stateNode=uy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?hy(c,t.type,t.stateNode):uy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kh(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(n,t),hn(t),l&512&&(Ne||a===null||Ci(a,a.return)),a!==null&&l&4&&Kh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,t),hn(t),l&512&&(Ne||a===null||Ci(a,a.return)),t.flags&32){c=t.stateNode;try{on(c,"")}catch(rt){Jt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Kh(t,c,a!==null?a.memoizedProps:c)),l&1024&&($h=!0);break;case 6:if(cn(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(rt){Jt(t,t.return,rt)}}break;case 3:if(Vu=null,c=ai,ai=Nu(n.containerInfo),cn(n,t),ai=c,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tr(n.containerInfo)}catch(rt){Jt(t,t.return,rt)}$h&&($h=!1,hp(t));break;case 4:l=ai,ai=Nu(t.stateNode.containerInfo),cn(n,t),hn(t),ai=l;break;case 12:cn(n,t),hn(t);break;case 31:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pu(t,l)));break;case 13:cn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_u=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pu(t,l)));break;case 22:c=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,k=Zi,F=Ne;if(Zi=k||c,Ne=F||D,cn(n,t),Ne=F,Zi=k,hn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||D||Zi||Ne||Cs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=D.stateNode;var X=D.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(rt){Jt(D,D.return,rt)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(rt){Jt(D,D.return,rt)}}}else if(n.tag===18){if(a===null){D=n;try{var q=D.stateNode;c?ty(q,!0):ty(D.stateNode,!1)}catch(rt){Jt(D,D.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pu(t,a))));break;case 19:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pu(t,l)));break;case 30:break;case 21:break;default:cn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(np(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Zh(t);gu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(on(g,""),a.flags&=-33);var T=Zh(t);gu(t,T,g);break;case 3:case 4:var D=a.stateNode.containerInfo,k=Zh(t);Jh(t,k,D);break;default:throw Error(r(161))}}catch(F){Jt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function hp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sp(t,n.alternate,n),n=n.sibling}function Cs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ca(4,n,n.return),Cs(n);break;case 1:Ci(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&tp(n,n.return,a),Cs(n);break;case 27:jl(n.stateNode);case 26:case 5:Ci(n,n.return),Cs(n);break;case 22:n.memoizedState===null&&Cs(n);break;case 30:Cs(n);break;default:Cs(n)}t=t.sibling}}function Wi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,a),xl(4,f);break;case 1:if(Wi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Jt(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)qm(D[c],T)}catch(k){Jt(l,l.return,k)}}a&&g&64&&Wg(f),wl(f,f.return);break;case 27:ip(f);case 26:case 5:Wi(c,f,a),a&&l===null&&g&4&&ep(f),wl(f,f.return);break;case 12:Wi(c,f,a);break;case 31:Wi(c,f,a),a&&g&4&&op(c,f);break;case 13:Wi(c,f,a),a&&g&4&&up(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,a),wl(f,f.return);break;case 30:break;default:Wi(c,f,a)}n=n.sibling}}function Wh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function tf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t))}function si(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fp(t,n,a,l),n=n.sibling}function fp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:si(t,n,a,l),c&2048&&xl(9,n);break;case 1:si(t,n,a,l);break;case 3:si(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t)));break;case 12:if(c&2048){si(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Jt(n,n.return,D)}}else si(t,n,a,l);break;case 31:si(t,n,a,l);break;case 13:si(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?si(t,n,a,l):Cl(t,n):f._visibility&2?si(t,n,a,l):(f._visibility|=2,cr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Wh(g,n);break;case 24:si(t,n,a,l),c&2048&&tf(n.alternate,n);break;default:si(t,n,a,l)}}function cr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=a,D=l,k=g.flags;switch(g.tag){case 0:case 11:case 15:cr(f,g,T,D,c),xl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?cr(f,g,T,D,c):Cl(f,g):(F._visibility|=2,cr(f,g,T,D,c)),c&&k&2048&&Wh(g.alternate,g);break;case 24:cr(f,g,T,D,c),c&&k&2048&&tf(g.alternate,g);break;default:cr(f,g,T,D,c)}n=n.sibling}}function Cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Cl(a,l),c&2048&&Wh(l.alternate,l);break;case 24:Cl(a,l),c&2048&&tf(l.alternate,l);break;default:Cl(a,l)}n=n.sibling}}var Rl=8192;function hr(t,n,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)dp(t,n,a),t=t.sibling}function dp(t,n,a){switch(t.tag){case 26:hr(t,n,a),t.flags&Rl&&t.memoizedState!==null&&rT(a,ai,t.memoizedState,t.memoizedProps);break;case 5:hr(t,n,a);break;case 3:case 4:var l=ai;ai=Nu(t.stateNode.containerInfo),hr(t,n,a),ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,hr(t,n,a),Rl=l):hr(t,n,a));break;default:hr(t,n,a)}}function mp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ke=l,pp(l,t)}mp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gp(t),t=t.sibling}function gp(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&Ca(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,yu(t)):Dl(t);break;default:Dl(t)}}function yu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ke=l,pp(l,t)}mp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ca(8,n,n.return),yu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,yu(n));break;default:yu(n)}t=t.sibling}}function pp(t,n){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Ca(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=t;ke!==null;){l=ke;var c=l.sibling,f=l.return;if(rp(l),l===a){ke=null;break t}if(c!==null){c.return=f,ke=c;break t}ke=f}}}var TE={getCacheForType:function(t){var n=Ge(Ce),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ge(Ce).controller.signal}},bE=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ie=null,Nt=null,Mt=0,Zt=0,An=null,Ra=!1,fr=!1,ef=!1,ta=0,ge=0,Da=0,Rs=0,nf=0,xn=0,dr=0,Nl=null,fn=null,af=!1,_u=0,yp=0,vu=1/0,Eu=null,Na=null,Me=0,Ia=null,mr=null,ea=0,sf=0,rf=null,_p=null,Il=0,lf=null;function wn(){return(Yt&2)!==0&&Mt!==0?Mt&-Mt:H.T!==null?df():To()}function vp(){if(xn===0)if((Mt&536870912)===0||kt){var t=es;es<<=1,(es&3932160)===0&&(es=262144),xn=t}else xn=536870912;return t=bn.current,t!==null&&(t.flags|=32),xn}function dn(t,n,a){(t===ie&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)&&(gr(t,0),Va(t,Mt,xn,!1)),ns(t,a),((Yt&2)===0||t!==ie)&&(t===ie&&((Yt&2)===0&&(Rs|=a),ge===4&&Va(t,Mt,xn,!1)),Ri(t))}function Ep(t,n,a){if((Yt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Kn(t,n),c=l?xE(t,n):uf(t,n,!0),f=l;do{if(c===0){fr&&!l&&Va(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!SE(a)){c=uf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=t;c=Nl;var D=T.current.memoizedState.isDehydrated;if(D&&(gr(T,g).flags|=256),g=uf(T,g,!1),g!==2){if(ef&&!D){T.errorRecoveryDisabledLanes|=f,Rs|=f,c=4;break t}f=fn,fn=c,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){gr(t,0),Va(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Va(l,n,xn,!Ra);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=_u+300-nn(),10<c)){if(Va(l,n,xn,!Ra),ci(l,0,!0)!==0)break t;ea=n,l.timeoutHandle=Jp(Tp.bind(null,l,a,fn,Eu,af,n,xn,Rs,dr,Ra,f,"Throttled",-0,0),c);break t}Tp(l,a,fn,Eu,af,n,xn,Rs,dr,Ra,f,null,-0,0)}}break}while(!0);Ri(t)}function Tp(t,n,a,l,c,f,g,T,D,k,F,X,B,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},dp(n,f,X);var rt=(f&62914560)===f?_u-nn():(f&4194048)===f?yp-nn():0;if(rt=lT(X,rt),rt!==null){ea=f,t.cancelPendingCommit=rt(Dp.bind(null,t,n,f,a,l,c,g,T,D,F,X,null,B,q)),Va(t,f,g,!k);return}}Dp(t,n,f,a,l,c,g,T,D)}function SE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!En(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Va(t,n,a,l){n&=~nf,n&=~Rs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ye(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&is(t,a,n)}function Tu(){return(Yt&6)===0?(Vl(0),!1):!0}function of(){if(Nt!==null){if(Zt===0)var t=Nt.return;else t=Nt,Gi=vs=null,Sh(t),sr=null,ml=0,t=Nt;for(;t!==null;)$g(t.alternate,t),t=t.return;Nt=null}}function gr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,HE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ea=0,of(),ie=t,Nt=a=qi(t.current,null),Mt=n,Zt=0,An=null,Ra=!1,fr=Kn(t,n),ef=!1,dr=xn=nf=Rs=Da=ge=0,fn=Nl=null,af=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ye(l),f=1<<c;n|=t[c],l&=~f}return ta=n,qo(),a}function bp(t,n){Ct=null,H.H=bl,n===ar||n===Zo?(n=Lm(),Zt=3):n===hh?(n=Lm(),Zt=4):Zt=n===kh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Nt===null&&(ge=1,cu(t,Ln(n,t.current)))}function Sp(){var t=bn.current;return t===null?!0:(Mt&4194048)===Mt?qn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===qn:!1}function Ap(){var t=H.H;return H.H=bl,t===null?bl:t}function xp(){var t=H.A;return H.A=TE,t}function bu(){ge=4,Ra||(Mt&4194048)!==Mt&&bn.current!==null||(fr=!0),(Da&134217727)===0&&(Rs&134217727)===0||ie===null||Va(ie,Mt,xn,!1)}function uf(t,n,a){var l=Yt;Yt|=2;var c=Ap(),f=xp();(ie!==t||Mt!==n)&&(Eu=null,gr(t,n)),n=!1;var g=ge;t:do try{if(Zt!==0&&Nt!==null){var T=Nt,D=An;switch(Zt){case 8:of(),g=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var k=Zt;if(Zt=0,An=null,pr(t,T,D,k),a&&fr){g=0;break t}break;default:k=Zt,Zt=0,An=null,pr(t,T,D,k)}}AE(),g=ge;break}catch(F){bp(t,F)}while(!0);return n&&t.shellSuspendCounter++,Gi=vs=null,Yt=l,H.H=c,H.A=f,Nt===null&&(ie=null,Mt=0,qo()),g}function AE(){for(;Nt!==null;)wp(Nt)}function xE(t,n){var a=Yt;Yt|=2;var l=Ap(),c=xp();ie!==t||Mt!==n?(Eu=null,vu=nn()+500,gr(t,n)):fr=Kn(t,n);t:do try{if(Zt!==0&&Nt!==null){n=Nt;var f=An;e:switch(Zt){case 1:Zt=0,An=null,pr(t,n,f,1);break;case 2:case 9:if(zm(f)){Zt=0,An=null,Cp(n);break}n=function(){Zt!==2&&Zt!==9||ie!==t||(Zt=7),Ri(t)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:zm(f)?(Zt=0,An=null,Cp(n)):(Zt=0,An=null,pr(t,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var T=Nt;if(g?fy(g):T.stateNode.complete){Zt=0,An=null;var D=T.sibling;if(D!==null)Nt=D;else{var k=T.return;k!==null?(Nt=k,Su(k)):Nt=null}break e}}Zt=0,An=null,pr(t,n,f,5);break;case 6:Zt=0,An=null,pr(t,n,f,6);break;case 8:of(),ge=6;break t;default:throw Error(r(462))}}wE();break}catch(F){bp(t,F)}while(!0);return Gi=vs=null,H.H=l,H.A=c,Yt=a,Nt!==null?0:(ie=null,Mt=0,qo(),ge)}function wE(){for(;Nt!==null&&!Lc();)wp(Nt)}function wp(t){var n=Zg(t.alternate,t,ta);t.memoizedProps=t.pendingProps,n===null?Su(t):Nt=n}function Cp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Gg(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Gg(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Sh(n);default:$g(a,n),n=Nt=xm(n,ta),n=Zg(a,n,ta)}t.memoizedProps=t.pendingProps,n===null?Su(t):Nt=n}function pr(t,n,a,l){Gi=vs=null,Sh(n),sr=null,ml=0;var c=n.return;try{if(mE(t,c,n,a,Mt)){ge=1,cu(t,Ln(a,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;ge=1,cu(t,Ln(a,t.current)),Nt=null;return}n.flags&32768?(kt||l===1?t=!0:fr||(Mt&536870912)!==0?t=!1:(Ra=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Rp(n,t)):Su(n)}function Su(t){var n=t;do{if((n.flags&32768)!==0){Rp(n,Ra);return}t=n.return;var a=yE(n.alternate,n,ta);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);ge===0&&(ge=5)}function Rp(t,n){do{var a=_E(t.alternate,t);if(a!==null){a.flags&=32767,Nt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=a}while(t!==null);ge=6,Nt=null}function Dp(t,n,a,l,c,f,g,T,D){t.cancelPendingCommit=null;do Au();while(Me!==0);if((Yt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Zc,Pc(t,a,f,g,T,D),t===ie&&(Nt=ie=null,Mt=0),mr=n,Ia=t,ea=a,sf=f,rf=c,_p=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NE(oa,function(){return Mp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=it.p,it.p=2,g=Yt,Yt|=4;try{vE(t,n,a)}finally{Yt=g,it.p=c,H.T=l}}Me=1,Np(),Ip(),Vp()}}function Np(){if(Me===1){Me=0;var t=Ia,n=mr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=it.p;it.p=2;var c=Yt;Yt|=4;try{cp(n,t);var f=Tf,g=pm(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&gm(T.ownerDocument.documentElement,T)){if(D!==null&&Fc(T)){var k=D.start,F=D.end;if(F===void 0&&(F=k),"selectionStart"in T)T.selectionStart=k,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var q=B.getSelection(),rt=T.textContent.length,yt=Math.min(D.start,rt),ee=D.end===void 0?yt:Math.min(D.end,rt);!q.extend&&yt>ee&&(g=ee,ee=yt,yt=g);var z=mm(T,yt),V=mm(T,ee);if(z&&V&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var L=X.createRange();L.setStart(z.node,z.offset),q.removeAllRanges(),yt>ee?(q.addRange(L),q.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),q.addRange(L))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}zu=!!Ef,Tf=Ef=null}finally{Yt=c,it.p=l,H.T=a}}t.current=n,Me=2}}function Ip(){if(Me===2){Me=0;var t=Ia,n=mr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=it.p;it.p=2;var c=Yt;Yt|=4;try{sp(t,n.alternate,n)}finally{Yt=c,it.p=l,H.T=a}}Me=3}}function Vp(){if(Me===4||Me===3){Me=0,mo();var t=Ia,n=mr,a=ea,l=_p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,mr=Ia=null,Op(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Na=null),Li(a),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=it.p,it.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{H.T=n,it.p=c}}(ea&3)!==0&&Au(),Ri(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===lf?Il++:(Il=0,lf=t):Il=0,Vl(0)}}function Op(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fl(n)))}function Au(){return Np(),Ip(),Vp(),Mp()}function Mp(){if(Me!==5)return!1;var t=Ia,n=sf;sf=0;var a=Li(ea),l=H.T,c=it.p;try{it.p=32>a?32:a,H.T=null,a=rf,rf=null;var f=Ia,g=ea;if(Me=0,mr=Ia=null,ea=0,(Yt&6)!==0)throw Error(r(331));var T=Yt;if(Yt|=4,gp(f.current),fp(f,f.current,g,a),Yt=T,Vl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Xn,f)}catch{}return!0}finally{it.p=c,H.T=l,Op(t,n)}}function jp(t,n,a){n=Ln(a,n),n=Lh(t.stateNode,n,2),t=Aa(t,n,2),t!==null&&(ns(t,2),Ri(t))}function Jt(t,n,a){if(t.tag===3)jp(t,t,a);else for(;n!==null;){if(n.tag===3){jp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Na===null||!Na.has(l))){t=Ln(a,t),a=zg(2),l=Aa(n,a,2),l!==null&&(Ug(a,l,n,t),ns(l,2),Ri(l));break}}n=n.return}}function cf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new bE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(ef=!0,c.add(a),t=CE.bind(null,t,n,a),n.then(t,t))}function CE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ie===t&&(Mt&a)===a&&(ge===4||ge===3&&(Mt&62914560)===Mt&&300>nn()-_u?(Yt&2)===0&&gr(t,0):nf|=a,dr===Mt&&(dr=0)),Ri(t)}function zp(t,n){n===0&&(n=Eo()),t=ps(t,n),t!==null&&(ns(t,n),Ri(t))}function RE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),zp(t,a)}function DE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),zp(t,a)}function NE(t,n){return pe(t,n)}var xu=null,yr=null,hf=!1,wu=!1,ff=!1,Oa=0;function Ri(t){t!==yr&&t.next===null&&(yr===null?xu=yr=t:yr=yr.next=t),wu=!0,hf||(hf=!0,VE())}function Vl(t,n){if(!ff&&wu){ff=!0;do for(var a=!1,l=xu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-ye(42|t)+1)-1,f&=c&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Bp(l,f))}else f=Mt,f=ci(l,l===ie?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Kn(l,f)||(a=!0,Bp(l,f));l=l.next}while(a);ff=!1}}function IE(){Up()}function Up(){wu=hf=!1;var t=0;Oa!==0&&qE()&&(t=Oa);for(var n=nn(),a=null,l=xu;l!==null;){var c=l.next,f=Lp(l,n);f===0?(l.next=null,a===null?xu=c:a.next=c,c===null&&(yr=a)):(a=l,(t!==0||(f&3)!==0)&&(wu=!0)),l=c}Me!==0&&Me!==5||Vl(t),Oa!==0&&(Oa=0)}function Lp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ye(f),T=1<<g,D=c[g];D===-1?((T&a)===0||(T&l)!==0)&&(c[g]=Bc(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=ie,a=Mt,a=ci(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&la(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&la(l),Li(a)){case 2:case 8:a=qr;break;case 32:a=oa;break;case 268435456:a=go;break;default:a=oa}return l=kp.bind(null,t),a=pe(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&la(l),t.callbackPriority=2,t.callbackNode=null,2}function kp(t,n){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Au()&&t.callbackNode!==a)return null;var l=Mt;return l=ci(t,t===ie?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ep(t,l,n),Lp(t,nn()),t.callbackNode!=null&&t.callbackNode===a?kp.bind(null,t):null)}function Bp(t,n){if(Au())return null;Ep(t,n,!0)}function VE(){GE(function(){(Yt&6)!==0?pe(Pr,IE):Up()})}function df(){if(Oa===0){var t=nr;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Oa=t}return Oa}function Pp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ps(""+t)}function qp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function OE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Pp((c[Ue]||null).action),g=l.submitter;g&&(n=(n=g[Ue]||null)?Pp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ti("action","action",null,l,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oa!==0){var D=g?qp(c,g):new FormData(c);Vh(a,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=g?qp(c,g):new FormData(c),Vh(a,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var mf=0;mf<Kc.length;mf++){var gf=Kc[mf],ME=gf.toLowerCase(),jE=gf[0].toUpperCase()+gf.slice(1);ii(ME,"on"+jE)}ii(vm,"onAnimationEnd"),ii(Em,"onAnimationIteration"),ii(Tm,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Jv,"onTransitionRun"),ii($v,"onTransitionStart"),ii(Wv,"onTransitionCancel"),ii(bm,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function Hp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],D=T.instance,k=T.currentTarget;if(T=T.listener,D!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=k;try{f(c)}catch(F){Po(F)}c.currentTarget=null,f=D}else for(g=0;g<l.length;g++){if(T=l[g],D=T.instance,k=T.currentTarget,T=T.listener,D!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=k;try{f(c)}catch(F){Po(F)}c.currentTarget=null,f=D}}}}function It(t,n){var a=n[zs];a===void 0&&(a=n[zs]=new Set);var l=t+"__bubble";a.has(l)||(Gp(n,t,2,!1),a.add(l))}function pf(t,n,a){var l=0;n&&(l|=4),Gp(a,t,l,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function yf(t){if(!t[Cu]){t[Cu]=!0,Fr.forEach(function(a){a!=="selectionchange"&&(zE.has(a)||pf(a,!1,t),pf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,pf("selectionchange",!1,n))}}function Gp(t,n,a,l){switch(vy(n)){case 2:var c=cT;break;case 8:c=hT;break;default:c=Vf}a=c.bind(null,n,a,t),c=void 0,!os||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function _f(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===c)break;if(g===4)for(g=l.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;T!==null;){if(g=mi(T),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){l=f=g;continue t}T=T.parentNode}}l=l.return}ma(function(){var k=f,F=Mn(a),X=[];t:{var B=Sm.get(t);if(B!==void 0){var q=Ti,rt=t;switch(t){case"keypress":if(cs(a)===0)break t;case"keydown":case"keyup":q=Lo;break;case"focusin":rt="focus",q=fs;break;case"focusout":rt="blur",q=fs;break;case"beforeblur":case"afterblur":q=fs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Do;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case vm:case Em:case Tm:q=Io;break;case bm:q=b;break;case"scroll":case"scrollend":q=il;break;case"wheel":q=P;break;case"copy":case"cut":case"paste":q=Vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Pi;break;case"toggle":case"beforetoggle":q=wt}var yt=(n&4)!==0,ee=!yt&&(t==="scroll"||t==="scrollend"),z=yt?B!==null?B+"Capture":null:B;yt=[];for(var V=k,L;V!==null;){var Y=V;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||z===null||(Y=Wn(V,z),Y!=null&&yt.push(Ml(V,Y,L))),ee)break;V=V.return}0<yt.length&&(B=new q(B,rt,null,a,F),X.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==tl&&(rt=a.relatedTarget||a.fromElement)&&(mi(rt)||rt[fi]))break t;if((q||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,q?(rt=a.relatedTarget||a.toElement,q=k,rt=rt?mi(rt):null,rt!==null&&(ee=h(rt),yt=rt.tag,rt!==ee||yt!==5&&yt!==27&&yt!==6)&&(rt=null)):(q=null,rt=k),q!==rt)){if(yt=al,Y="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(yt=Pi,Y="onPointerLeave",z="onPointerEnter",V="pointer"),ee=q==null?B:_n(q),L=rt==null?B:_n(rt),B=new yt(Y,V+"leave",q,a,F),B.target=ee,B.relatedTarget=L,Y=null,mi(F)===k&&(yt=new yt(z,V+"enter",rt,a,F),yt.target=L,yt.relatedTarget=ee,Y=yt),ee=Y,q&&rt)e:{for(yt=UE,z=q,V=rt,L=0,Y=z;Y;Y=yt(Y))L++;Y=0;for(var mt=V;mt;mt=yt(mt))Y++;for(;0<L-Y;)z=yt(z),L--;for(;0<Y-L;)V=yt(V),Y--;for(;L--;){if(z===V||V!==null&&z===V.alternate){yt=z;break e}z=yt(z),V=yt(V)}yt=null}else yt=null;q!==null&&Fp(X,B,q,yt,!1),rt!==null&&ee!==null&&Fp(X,ee,rt,yt,!0)}}t:{if(B=k?_n(k):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Gt=om;else if(rm(B))if(um)Gt=Xv;else{Gt=Qv;var ut=Fv}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&Bs(k.elementType)&&(Gt=om):Gt=Yv;if(Gt&&(Gt=Gt(t,k))){lm(X,Gt,a,F);break t}ut&&ut(t,B,k),t==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&Jr(B,"number",B.value)}switch(ut=k?_n(k):window,t){case"focusin":(rm(ut)||ut.contentEditable==="true")&&(Xs=ut,Qc=k,ul=null);break;case"focusout":ul=Qc=Xs=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,ym(X,a,F);break;case"selectionchange":if(Zv)break;case"keydown":case"keyup":ym(X,a,F)}var Rt;if(Qt)t:{switch(t){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Ys?ds(t,a)&&(jt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(jt="onCompositionStart");jt&&(Ai&&a.locale!=="ko"&&(Ys||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Ys&&(Rt=nl()):(Ei=F,el="value"in Ei?Ei.value:Ei.textContent,Ys=!0)),ut=Ru(k,jt),0<ut.length&&(jt=new Si(jt,t,null,a,F),X.push({event:jt,listeners:ut}),Rt?jt.data=Rt:(Rt=Qs(a),Rt!==null&&(jt.data=Rt)))),(Rt=zn?Pv(t,a):qv(t,a))&&(jt=Ru(k,"onBeforeInput"),0<jt.length&&(ut=new Si("onBeforeInput","beforeinput",null,a,F),X.push({event:ut,listeners:jt}),ut.data=Rt)),OE(X,t,k,a,F)}Hp(X,n)})}function Ml(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ru(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Wn(t,a),c!=null&&l.unshift(Ml(t,c,f)),c=Wn(t,n),c!=null&&l.push(Ml(t,c,f))),t.tag===3)return l;t=t.return}return[]}function UE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var T=a,D=T.alternate,k=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||k===null||(D=k,c?(k=Wn(a,f),k!=null&&g.unshift(Ml(a,k,D))):c||(k=Wn(a,f),k!=null&&g.push(Ml(a,k,D)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var LE=/\r\n?/g,kE=/\u0000|\uFFFD/g;function Qp(t){return(typeof t=="string"?t:""+t).replace(LE,`
`).replace(kE,"")}function Yp(t,n){return n=Qp(n),Qp(t)===n}function te(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&on(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Wr(t,l,f);break;case"data":if(n!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ps(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&te(t,n,"name",c.name,c,null),te(t,n,"formEncType",c.formEncType,c,null),te(t,n,"formMethod",c.formMethod,c,null),te(t,n,"formTarget",c.formTarget,c,null)):(te(t,n,"encType",c.encType,c,null),te(t,n,"method",c.method,c,null),te(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ps(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ps(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":It("beforetoggle",t),It("toggle",t),Ls(t,"popover",l);break;case"xlinkActuate":we(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ls(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ro.get(a)||a,Ls(t,a,l))}}function vf(t,n,a,l,c,f){switch(a){case"style":Wr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Ue]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ls(t,a,l)}}}function Qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(t,n,f,g,a,null)}}c&&te(t,n,"srcSet",a.srcSet,a,null),l&&te(t,n,"src",a.src,a,null);return;case"input":It("invalid",t);var T=f=g=c=null,D=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":c=F;break;case"type":g=F;break;case"checked":D=F;break;case"defaultChecked":k=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:te(t,n,l,F,a,null)}}xo(t,f,T,D,k,g,c,!1);return;case"select":It("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(T=a[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:te(t,n,c,T,a,null)}n=f,a=g,t.multiple=!!l,n!=null?ca(t,!!l,n,!1):a!=null&&ca(t,!!l,a,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(T=a[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:te(t,n,g,T,a,null)}ha(t,l,c,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(t,n,D,l,a,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)It(Ol[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:te(t,n,k,l,a,null)}return;default:if(Bs(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&vf(t,n,F,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&te(t,n,T,l,a,null))}function BE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,T=null,D=null,k=null,F=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=X;default:l.hasOwnProperty(q)||te(t,n,q,null,l,X)}}for(var B in l){var q=l[B];if(X=a[B],l.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":k=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==X&&te(t,n,B,q,l,X)}}ks(t,g,T,D,k,F,f,c);return;case"select":q=g=T=B=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":q=D;default:l.hasOwnProperty(f)||te(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=a[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==D&&te(t,n,c,f,l,D)}n=T,a=g,l=q,B!=null?ca(t,!!a,B,!1):!!l!=!!a&&(n!=null?ca(t,!!a,n,!0):ca(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(T in a)if(c=a[T],a.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:te(t,n,T,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&te(t,n,g,c,l,f)}wo(t,B,q);return;case"option":for(var rt in a)if(B=a[rt],a.hasOwnProperty(rt)&&B!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:te(t,n,rt,null,l,B)}for(D in l)if(B=l[D],q=a[D],l.hasOwnProperty(D)&&B!==q&&(B!=null||q!=null))switch(D){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:te(t,n,D,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt)&&te(t,n,yt,null,l,B);for(k in l)if(B=l[k],q=a[k],l.hasOwnProperty(k)&&B!==q&&(B!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:te(t,n,k,B,l,q)}return;default:if(Bs(n)){for(var ee in a)B=a[ee],a.hasOwnProperty(ee)&&B!==void 0&&!l.hasOwnProperty(ee)&&vf(t,n,ee,void 0,l,B);for(F in l)B=l[F],q=a[F],!l.hasOwnProperty(F)||B===q||B===void 0&&q===void 0||vf(t,n,F,B,l,q);return}}for(var z in a)B=a[z],a.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&te(t,n,z,null,l,B);for(X in l)B=l[X],q=a[X],!l.hasOwnProperty(X)||B===q||B==null&&q==null||te(t,n,X,B,l,q)}function Xp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,T=c.duration;if(f&&T&&Xp(g)){for(g=0,T=c.responseEnd,l+=1;l<a.length;l++){var D=a[l],k=D.startTime;if(k>T)break;var F=D.transferSize,X=D.initiatorType;F&&Xp(X)&&(D=D.responseEnd,g+=F*(D<T?1:(T-k)/(D-k)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ef=null,Tf=null;function Du(t){return t.nodeType===9?t:t.ownerDocument}function Kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sf=null;function qE(){var t=window.event;return t&&t.type==="popstate"?t===Sf?!1:(Sf=t,!0):(Sf=null,!1)}var Jp=typeof setTimeout=="function"?setTimeout:void 0,HE=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,GE=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(t){return $p.resolve(null).then(t).catch(FE)}:Jp;function FE(t){setTimeout(function(){throw t})}function Ma(t){return t==="head"}function Wp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),Tr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")jl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,jl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&jl(t.ownerDocument.body);a=c}while(a);Tr(n)}function ty(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Af(a),Us(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function QE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function YE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function ey(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Hn(t.nextSibling),t===null))return null;return t}function xf(t){return t.data==="$?"||t.data==="$~"}function wf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function XE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cf=null;function ny(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Hn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function iy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function ay(t,n,a){switch(n=Du(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Us(t)}var Gn=new Map,sy=new Set;function Nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var na=it.d;it.d={f:KE,r:ZE,D:JE,C:$E,L:WE,m:tT,X:nT,S:eT,M:iT};function KE(){var t=na.f(),n=Tu();return t||n}function ZE(t){var n=On(t);n!==null&&n.tag===5&&n.type==="form"?bg(n):na.r(t)}var _r=typeof document>"u"?null:document;function ry(t,n,a){var l=_r;if(l&&typeof n=="string"&&n){var c=ln(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),sy.has(c)||(sy.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Qe(n,"link",t),xe(n),l.head.appendChild(n)))}}function JE(t){na.D(t),ry("dns-prefetch",t,null)}function $E(t,n){na.C(t,n),ry("preconnect",t,n)}function WE(t,n,a){na.L(t,n,a);var l=_r;if(l&&t&&n){var c='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+ln(a.imageSizes)+'"]')):c+='[href="'+ln(t)+'"]';var f=c;switch(n){case"style":f=vr(t);break;case"script":f=Er(t)}Gn.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Gn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(zl(f))||n==="script"&&l.querySelector(Ul(f))||(n=l.createElement("link"),Qe(n,"link",t),xe(n),l.head.appendChild(n)))}}function tT(t,n){na.m(t,n);var a=_r;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Er(t)}if(!Gn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Gn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(f)))return}l=a.createElement("link"),Qe(l,"link",t),xe(l),a.head.appendChild(l)}}}function eT(t,n,a){na.S(t,n,a);var l=_r;if(l&&t){var c=gi(l).hoistableStyles,f=vr(t);n=n||"default";var g=c.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(zl(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Gn.get(f))&&Rf(t,a);var D=g=l.createElement("link");xe(D),Qe(D,"link",t),D._p=new Promise(function(k,F){D.onload=k,D.onerror=F}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Iu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},c.set(f,g)}}}function nT(t,n){na.X(t,n);var a=_r;if(a&&t){var l=gi(a).hoistableScripts,c=Er(t),f=l.get(c);f||(f=a.querySelector(Ul(c)),f||(t=w({src:t,async:!0},n),(n=Gn.get(c))&&Df(t,n),f=a.createElement("script"),xe(f),Qe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function iT(t,n){na.M(t,n);var a=_r;if(a&&t){var l=gi(a).hoistableScripts,c=Er(t),f=l.get(c);f||(f=a.querySelector(Ul(c)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Gn.get(c))&&Df(t,n),f=a.createElement("script"),xe(f),Qe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ly(t,n,a,l){var c=(c=bt.current)?Nu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=vr(a.href),a=gi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=vr(a.href);var f=gi(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(zl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),f||aT(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Er(a),a=gi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function vr(t){return'href="'+ln(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function oy(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function aT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Qe(n,"link",a),xe(n),t.head.appendChild(n))}function Er(t){return'[src="'+ln(t)+'"]'}function Ul(t){return"script[async]"+t}function uy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return n.instance=l,xe(l),l;var c=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xe(l),Qe(l,"style",c),Iu(l,a.precedence,t),n.instance=l;case"stylesheet":c=vr(a.href);var f=t.querySelector(zl(c));if(f)return n.state.loading|=4,n.instance=f,xe(f),f;l=oy(a),(c=Gn.get(c))&&Rf(l,c),f=(t.ownerDocument||t).createElement("link"),xe(f);var g=f;return g._p=new Promise(function(T,D){g.onload=T,g.onerror=D}),Qe(f,"link",l),n.state.loading|=4,Iu(f,a.precedence,t),n.instance=f;case"script":return f=Er(a.src),(c=t.querySelector(Ul(f)))?(n.instance=c,xe(c),c):(l=a,(c=Gn.get(f))&&(l=w({},a),Df(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),xe(c),Qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Iu(l,a.precedence,t));return n.instance}function Iu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function cy(t,n,a){if(Vu===null){var l=new Map,c=Vu=new Map;c.set(a,l)}else c=Vu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[di]||f[Ae]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function hy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function sT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function fy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=vr(l.href),f=n.querySelector(zl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ou.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,xe(f);return}f=n.ownerDocument||n,l=oy(l),(c=Gn.get(c))&&Rf(l,c),f=f.createElement("link"),xe(f);var g=f;g._p=new Promise(function(T,D){g.onload=T,g.onerror=D}),Qe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ou.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nf=0;function lT(t,n){return t.stylesheets&&t.count===0&&ju(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ju(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nf===0&&(Nf=62500*PE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ju(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ou(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ju(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function ju(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,n.forEach(oT,t),Mu=null,Ou.call(t))}function oT(t,n){if(!(n.state.loading&4)){var a=Mu.get(t);if(a)var l=a.get(null);else{a=new Map,Mu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Ou.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function uT(t,n,a,l,c,f,g,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function dy(t,n,a,l,c,f,g,T,D,k,F,X){return t=new uT(t,n,a,g,D,k,F,X,T),n=1,f===!0&&(n|=24),f=Tn(3,null,null,n),t.current=f,f.stateNode=t,n=oh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},fh(f),t}function my(t){return t?(t=Js,t):Js}function gy(t,n,a,l,c,f){c=my(c),l.context===null?l.context=c:l.pendingContext=c,l=Sa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Aa(t,l,n),a!==null&&(dn(a,t,n),pl(a,t,n))}function py(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function If(t,n){py(t,n),(t=t.alternate)&&py(t,n)}function yy(t){if(t.tag===13||t.tag===31){var n=ps(t,67108864);n!==null&&dn(n,t,67108864),If(t,67108864)}}function _y(t){if(t.tag===13||t.tag===31){var n=wn();n=as(n);var a=ps(t,n);a!==null&&dn(a,t,n),If(t,n)}}var zu=!0;function cT(t,n,a,l){var c=H.T;H.T=null;var f=it.p;try{it.p=2,Vf(t,n,a,l)}finally{it.p=f,H.T=c}}function hT(t,n,a,l){var c=H.T;H.T=null;var f=it.p;try{it.p=8,Vf(t,n,a,l)}finally{it.p=f,H.T=c}}function Vf(t,n,a,l){if(zu){var c=Of(l);if(c===null)_f(t,n,l,Uu,a),Ey(t,l);else if(dT(c,t,n,a,l))l.stopPropagation();else if(Ey(t,l),n&4&&-1<fT.indexOf(t)){for(;c!==null;){var f=On(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var D=1<<31-ye(g);T.entanglements[1]|=D,g&=~D}Ri(f),(Yt&6)===0&&(vu=nn()+500,Vl(0))}}break;case 31:case 13:T=ps(f,2),T!==null&&dn(T,f,2),Tu(),If(f,2)}if(f=Of(l),f===null&&_f(t,n,l,Uu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else _f(t,n,l,null,a)}}function Of(t){return t=Mn(t),Mf(t)}var Uu=null;function Mf(t){if(Uu=null,t=mi(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=_(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uu=t,null}function vy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case Pr:return 2;case qr:return 8;case oa:case kc:return 32;case go:return 268435456;default:return 32}default:return 32}}var jf=!1,ja=null,za=null,Ua=null,kl=new Map,Bl=new Map,La=[],fT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ey(t,n){switch(t){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(n.pointerId)}}function Pl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=On(n),n!==null&&yy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function dT(t,n,a,l,c){switch(n){case"focusin":return ja=Pl(ja,t,n,a,l,c),!0;case"dragenter":return za=Pl(za,t,n,a,l,c),!0;case"mouseover":return Ua=Pl(Ua,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return kl.set(f,Pl(kl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Bl.set(f,Pl(Bl.get(f)||null,t,n,a,l,c)),!0}return!1}function Ty(t){var n=mi(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Zn(t.priority,function(){_y(a)});return}}else if(n===31){if(n=_(a),n!==null){t.blockedOn=n,Zn(t.priority,function(){_y(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Of(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return n=On(a),n!==null&&yy(n),t.blockedOn=a,!1;n.shift()}return!0}function by(t,n,a){Lu(t)&&a.delete(n)}function mT(){jf=!1,ja!==null&&Lu(ja)&&(ja=null),za!==null&&Lu(za)&&(za=null),Ua!==null&&Lu(Ua)&&(Ua=null),kl.forEach(by),Bl.forEach(by)}function ku(t,n){t.blockedOn===n&&(t.blockedOn=null,jf||(jf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,mT)))}var Bu=null;function Sy(t){Bu!==t&&(Bu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bu===t&&(Bu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Mf(l||a)===null)continue;break}var f=On(a);f!==null&&(t.splice(n,3),n-=3,Vh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Tr(t){function n(D){return ku(D,t)}ja!==null&&ku(ja,t),za!==null&&ku(za,t),Ua!==null&&ku(Ua,t),kl.forEach(n),Bl.forEach(n);for(var a=0;a<La.length;a++){var l=La[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<La.length&&(a=La[0],a.blockedOn===null);)Ty(a),a.blockedOn===null&&La.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Ue]||null;if(typeof f=="function")g||Sy(a);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ue]||null)T=g.formAction;else if(Mf(c)!==null)continue}else T=g.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Sy(a)}}}function Ay(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function zf(t){this._internalRoot=t}Pu.prototype.render=zf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=wn();gy(a,l,t,n,null,null)},Pu.prototype.unmount=zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;gy(t.current,2,null,t,null,null),Tu(),n[fi]=null}};function Pu(t){this._internalRoot=t}Pu.prototype.unstable_scheduleHydration=function(t){if(t){var n=To();t={blockedOn:null,target:t,priority:n};for(var a=0;a<La.length&&n!==0&&n<La[a].priority;a++);La.splice(a,0,t),a===0&&Ty(t)}};var xy=e.version;if(xy!=="19.2.0")throw Error(r(527,xy,"19.2.0"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var gT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{Xn=qu.inject(gT),Pe=qu}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Vg,f=Og,g=Mg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=dy(t,1,!1,null,null,a,l,null,c,f,g,Ay),t[fi]=n.current,yf(t),new zf(n)},Hl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=Vg,g=Og,T=Mg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=dy(t,1,!0,n,a??null,l,c,D,f,g,T,Ay),n.context=my(null),a=n.current,l=wn(),l=as(l),c=Sa(l),c.callback=null,Aa(a,c,l),a=l,n.current.lanes=a,ns(n,a),Ri(n),t[fi]=n.current,yf(t),new Pu(n)},Hl.version="19.2.0",Hl}var jy;function wT(){if(jy)return kf.exports;jy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kf.exports=xT(),kf.exports}var CT=wT();const RT=Z_(CT);var Yn=(s=>(s.Complete="Complete",s.InProgress="In Progress",s.NotStarted="Not Started",s))(Yn||{}),Qn=(s=>(s.Essential="Essential",s.Beneficial="Beneficial",s.Low="Low",s.Unassigned="Unassigned",s))(Qn||{}),gn=(s=>(s.Yes="Yes",s.No="No",s.Partial="Partial",s.Check="Check",s.Unassigned="Unassigned",s))(gn||{});const zy=[{id:"1",uid:"DT001",name:"Core Business Subscribers",category:"1",description:"A dataset of core business subscribers with detailed information.",priority:Qn.Essential,completion_status:Yn.Complete,minimum_criteria:"Complete subscriber information with contact details",notes:"Primary dataset for business operations",key_attributes:'["name", "email", "phone", "subscription_type"]',applicable_standards:"ISO 9001",iso_indicators:"Quality management standards",rdls_can_handle:gn.Yes,rdls_component:"Subscriber Management",rdls_notes:"Fully integrated with RDLS",created_at:new Date().toISOString()},{id:"2",uid:"DT002",name:"Customer Feedback",category:"2",description:"Collection of customer feedback and survey responses.",priority:Qn.Beneficial,completion_status:Yn.InProgress,minimum_criteria:"Feedback forms and survey data",notes:"Used for improving customer experience",key_attributes:'["feedback_text", "rating", "category", "timestamp"]',applicable_standards:"Customer satisfaction metrics",iso_indicators:"Customer experience standards",rdls_can_handle:gn.Partial,rdls_component:"Feedback System",rdls_notes:"Partial integration pending",created_at:new Date().toISOString()}],Uy=[{id:"1",name:"Q1 2023 Core Subscribers",url:"http://example.com/datasets/q1-2023-subscribers",description:"Snapshot of core business subscribers for the first quarter of 2023.",source_organization:"Internal Data Team",source_type:"Database Export",geographic_coverage:"Global",temporal_coverage:"Q1 2023",format:"CSV",resolution:"Daily",access_type:"Internal",license:"Proprietary",is_validated:!0,is_primary_example:!0,quality_notes:"High quality, validated data",used_in_projects:"Business Analytics Dashboard",notes:"Primary dataset for Q1 reporting",created_at:new Date().toISOString()},{id:"2",name:"Q2 2023 Core Subscribers",url:"http://example.com/datasets/q2-2023-subscribers",description:"Snapshot of core business subscribers for the second quarter of 2023.",source_organization:"Internal Data Team",source_type:"Database Export",geographic_coverage:"Global",temporal_coverage:"Q2 2023",format:"CSV",resolution:"Daily",access_type:"Internal",license:"Proprietary",is_validated:!0,is_primary_example:!1,quality_notes:"High quality, validated data",used_in_projects:"Business Analytics Dashboard",notes:"Primary dataset for Q2 reporting",created_at:new Date().toISOString()}],Ly=[{id:"1",name:"Business",description:"Business-related data types and datasets"},{id:"2",name:"Customer",description:"Customer information and feedback data"},{id:"3",name:"Financial",description:"Financial and accounting data"}],DT=()=>{};var ky={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},NT=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],_=s[i++],E=((o&7)<<18|(h&63)<<12|(d&63)<<6|_&63)-65536;e[r++]=String.fromCharCode(55296+(E>>10)),e[r++]=String.fromCharCode(56320+(E&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,_=d?s[o+1]:0,E=o+2<s.length,v=E?s[o+2]:0,S=h>>2,w=(h&3)<<4|_>>4;let N=(_&15)<<2|v>>6,G=v&63;E||(G=64,d||(N=64)),r.push(i[S],i[w],i[N],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(J_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):NT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],_=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||_==null||v==null||w==null)throw new IT;const N=h<<2|_>>4;if(r.push(N),v!==64){const G=_<<4&240|v>>2;if(r.push(G),w!==64){const Z=v<<6&192|w;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class IT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VT=function(s){const e=J_(s);return $_.encodeByteArray(e,!0)},ac=function(s){return VT(s).replace(/\./g,"")},OT=function(s){try{return $_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=()=>MT().__FIREBASE_DEFAULTS__,zT=()=>{if(typeof process>"u"||typeof ky>"u")return;const s=ky.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},UT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&OT(s[1]);return e&&JSON.parse(e)},Sd=()=>{try{return DT()||jT()||zT()||UT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},LT=s=>{var e,i;return(i=(e=Sd())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},kT=s=>{const e=LT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},W_=()=>{var s;return(s=Sd())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ac(JSON.stringify(i)),ac(JSON.stringify(d)),""].join(".")}const Kl={};function HT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?s.emulator.push(e):s.prod.push(e);return s}function GT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let By=!1;function FT(s,e){if(typeof window>"u"||typeof document>"u"||!Ad(window.location.host)||Kl[s]===e||Kl[s]||By)return;Kl[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",h=HT().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function _(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function E(N,G){N.setAttribute("width","24"),N.setAttribute("id",G),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{By=!0,d()},N}function S(N,G){N.setAttribute("id",G),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function w(){const N=GT(r),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),$=i("learnmore"),W=document.getElementById($)||document.createElement("a"),_t=i("preprendIcon"),gt=document.getElementById(_t)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ct=N.element;_(ct),S(W,$);const ht=v();E(gt,_t),ct.append(gt,Z,W,ht),document.body.appendChild(ct)}h?(Z.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YT(){var e;const s=(e=Sd())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XT(){return!YT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KT(){try{return typeof indexedDB=="object"}catch{return!1}}function ZT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="FirebaseError";class zr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=JT,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t0.prototype.create)}}class t0{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?$T(h,r):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new zr(o,_,r)}}function $T(s,e){return s.replace(WT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const WT=/\{\$([^}]+)}/g;function sc(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(Py(h)&&Py(d)){if(!sc(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Py(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(s){return s&&s._delegate?s._delegate:s}class to{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new BT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n1(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);r===_&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e1(s){return s===Ds?void 0:s}function n1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new t1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const a1={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},s1=Pt.INFO,r1={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},l1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=r1[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e0{constructor(e){this.name=e,this._logLevel=s1,this._logHandler=l1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const o1=(s,e)=>e.some(i=>s instanceof i);let qy,Hy;function u1(){return qy||(qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c1(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n0=new WeakMap,Wf=new WeakMap,i0=new WeakMap,Hf=new WeakMap,xd=new WeakMap;function h1(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Pa(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&n0.set(i,s)}).catch(()=>{}),xd.set(e,s),e}function f1(s){if(Wf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Wf.set(s,e)}let td={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Wf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||i0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Pa(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function d1(s){td=s(td)}function m1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Gf(this),e,...i);return i0.set(r,e.sort?e.sort():[e]),Pa(r)}:c1().includes(s)?function(...e){return s.apply(Gf(this),e),Pa(n0.get(this))}:function(...e){return Pa(s.apply(Gf(this),e))}}function g1(s){return typeof s=="function"?m1(s):(s instanceof IDBTransaction&&f1(s),o1(s,u1())?new Proxy(s,td):s)}function Pa(s){if(s instanceof IDBRequest)return h1(s);if(Hf.has(s))return Hf.get(s);const e=g1(s);return e!==s&&(Hf.set(s,e),xd.set(e,s)),e}const Gf=s=>xd.get(s);function p1(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),_=Pa(d);return r&&d.addEventListener("upgradeneeded",E=>{r(Pa(d.result),E.oldVersion,E.newVersion,Pa(d.transaction),E)}),i&&d.addEventListener("blocked",E=>i(E.oldVersion,E.newVersion,E)),_.then(E=>{h&&E.addEventListener("close",()=>h()),o&&E.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),_}const y1=["get","getKey","getAll","getAllKeys","count"],_1=["put","add","delete","clear"],Ff=new Map;function Gy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Ff.get(e))return Ff.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=_1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||y1.includes(i)))return;const h=async function(d,..._){const E=this.transaction(d,o?"readwrite":"readonly");let v=E.store;return r&&(v=v.index(_.shift())),(await Promise.all([v[i](..._),o&&E.done]))[0]};return Ff.set(e,h),h}d1(s=>({...s,get:(e,i,r)=>Gy(e,i)||s.get(e,i,r),has:(e,i)=>!!Gy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(E1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function E1(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ed="@firebase/app",Fy="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new e0("@firebase/app"),T1="@firebase/app-compat",b1="@firebase/analytics-compat",S1="@firebase/analytics",A1="@firebase/app-check-compat",x1="@firebase/app-check",w1="@firebase/auth",C1="@firebase/auth-compat",R1="@firebase/database",D1="@firebase/data-connect",N1="@firebase/database-compat",I1="@firebase/functions",V1="@firebase/functions-compat",O1="@firebase/installations",M1="@firebase/installations-compat",j1="@firebase/messaging",z1="@firebase/messaging-compat",U1="@firebase/performance",L1="@firebase/performance-compat",k1="@firebase/remote-config",B1="@firebase/remote-config-compat",P1="@firebase/storage",q1="@firebase/storage-compat",H1="@firebase/firestore",G1="@firebase/ai",F1="@firebase/firestore-compat",Q1="firebase",Y1="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="[DEFAULT]",X1={[ed]:"fire-core",[T1]:"fire-core-compat",[S1]:"fire-analytics",[b1]:"fire-analytics-compat",[x1]:"fire-app-check",[A1]:"fire-app-check-compat",[w1]:"fire-auth",[C1]:"fire-auth-compat",[R1]:"fire-rtdb",[D1]:"fire-data-connect",[N1]:"fire-rtdb-compat",[I1]:"fire-fn",[V1]:"fire-fn-compat",[O1]:"fire-iid",[M1]:"fire-iid-compat",[j1]:"fire-fcm",[z1]:"fire-fcm-compat",[U1]:"fire-perf",[L1]:"fire-perf-compat",[k1]:"fire-rc",[B1]:"fire-rc-compat",[P1]:"fire-gcs",[q1]:"fire-gcs-compat",[H1]:"fire-fst",[F1]:"fire-fst-compat",[G1]:"fire-vertex","fire-js":"fire-js",[Q1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Map,K1=new Map,id=new Map;function Qy(s,e){try{s.container.addComponent(e)}catch(i){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function lc(s){const e=s.name;if(id.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;id.set(e,s);for(const i of rc.values())Qy(i,s);for(const i of K1.values())Qy(i,s);return!0}function Z1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function J1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qa=new t0("app","Firebase",$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=Y1;function a0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:nd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw qa.create("bad-app-name",{appName:String(o)});if(i||(i=W_()),!i)throw qa.create("no-options");const h=rc.get(o);if(h){if(sc(i,h.options)&&sc(r,h.config))return h;throw qa.create("duplicate-app",{appName:o})}const d=new i1(o);for(const E of id.values())d.addComponent(E);const _=new W1(i,r,d);return rc.set(o,_),_}function eb(s=nd){const e=rc.get(s);if(!e&&s===nd&&W_())return a0();if(!e)throw qa.create("no-app",{appName:s});return e}function wr(s,e,i){let r=X1[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(d.join(" "));return}lc(new to(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firebase-heartbeat-database",ib=1,eo="firebase-heartbeat-store";let Qf=null;function s0(){return Qf||(Qf=p1(nb,ib,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(eo)}catch(i){console.warn(i)}}}}).catch(s=>{throw qa.create("idb-open",{originalErrorMessage:s.message})})),Qf}async function ab(s){try{const i=(await s0()).transaction(eo),r=await i.objectStore(eo).get(r0(s));return await i.done,r}catch(e){if(e instanceof zr)aa.warn(e.message);else{const i=qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(i.message)}}}async function Yy(s,e){try{const r=(await s0()).transaction(eo,"readwrite");await r.objectStore(eo).put(e,r0(s)),await r.done}catch(i){if(i instanceof zr)aa.warn(i.message);else{const r=qa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});aa.warn(r.message)}}}function r0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=1024,rb=30;class lb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ub(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Xy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>rb){const d=cb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){aa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Xy(),{heartbeatsToSend:r,unsentEntries:o}=ob(this._heartbeatsCache.heartbeats),h=ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return aa.warn(i),""}}}function Xy(){return new Date().toISOString().substring(0,10)}function ob(s,e=sb){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ky(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ky(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class ub{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KT()?ZT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ab(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ky(s){return ac(JSON.stringify({version:2,heartbeats:s})).length}function cb(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(s){lc(new to("platform-logger",e=>new v1(e),"PRIVATE")),lc(new to("heartbeat",e=>new lb(e),"PRIVATE")),wr(ed,Fy,s),wr(ed,Fy,"esm2020"),wr("fire-js","")}hb("");var fb="firebase",db="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(fb,db,"app");var Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ha,l0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function R(){}R.prototype=x.prototype,C.F=x.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(j,O,M){for(var A=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)A[dt-2]=arguments[dt];return x.prototype[O].apply(j,A)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,R){R||(R=0);const j=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)j[O]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(O=0;O<16;++O)j[O]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=C.g[0],R=C.g[1],O=C.g[2];let M=C.g[3],A;A=x+(M^R&(O^M))+j[0]+3614090360&4294967295,x=R+(A<<7&4294967295|A>>>25),A=M+(O^x&(R^O))+j[1]+3905402710&4294967295,M=x+(A<<12&4294967295|A>>>20),A=O+(R^M&(x^R))+j[2]+606105819&4294967295,O=M+(A<<17&4294967295|A>>>15),A=R+(x^O&(M^x))+j[3]+3250441966&4294967295,R=O+(A<<22&4294967295|A>>>10),A=x+(M^R&(O^M))+j[4]+4118548399&4294967295,x=R+(A<<7&4294967295|A>>>25),A=M+(O^x&(R^O))+j[5]+1200080426&4294967295,M=x+(A<<12&4294967295|A>>>20),A=O+(R^M&(x^R))+j[6]+2821735955&4294967295,O=M+(A<<17&4294967295|A>>>15),A=R+(x^O&(M^x))+j[7]+4249261313&4294967295,R=O+(A<<22&4294967295|A>>>10),A=x+(M^R&(O^M))+j[8]+1770035416&4294967295,x=R+(A<<7&4294967295|A>>>25),A=M+(O^x&(R^O))+j[9]+2336552879&4294967295,M=x+(A<<12&4294967295|A>>>20),A=O+(R^M&(x^R))+j[10]+4294925233&4294967295,O=M+(A<<17&4294967295|A>>>15),A=R+(x^O&(M^x))+j[11]+2304563134&4294967295,R=O+(A<<22&4294967295|A>>>10),A=x+(M^R&(O^M))+j[12]+1804603682&4294967295,x=R+(A<<7&4294967295|A>>>25),A=M+(O^x&(R^O))+j[13]+4254626195&4294967295,M=x+(A<<12&4294967295|A>>>20),A=O+(R^M&(x^R))+j[14]+2792965006&4294967295,O=M+(A<<17&4294967295|A>>>15),A=R+(x^O&(M^x))+j[15]+1236535329&4294967295,R=O+(A<<22&4294967295|A>>>10),A=x+(O^M&(R^O))+j[1]+4129170786&4294967295,x=R+(A<<5&4294967295|A>>>27),A=M+(R^O&(x^R))+j[6]+3225465664&4294967295,M=x+(A<<9&4294967295|A>>>23),A=O+(x^R&(M^x))+j[11]+643717713&4294967295,O=M+(A<<14&4294967295|A>>>18),A=R+(M^x&(O^M))+j[0]+3921069994&4294967295,R=O+(A<<20&4294967295|A>>>12),A=x+(O^M&(R^O))+j[5]+3593408605&4294967295,x=R+(A<<5&4294967295|A>>>27),A=M+(R^O&(x^R))+j[10]+38016083&4294967295,M=x+(A<<9&4294967295|A>>>23),A=O+(x^R&(M^x))+j[15]+3634488961&4294967295,O=M+(A<<14&4294967295|A>>>18),A=R+(M^x&(O^M))+j[4]+3889429448&4294967295,R=O+(A<<20&4294967295|A>>>12),A=x+(O^M&(R^O))+j[9]+568446438&4294967295,x=R+(A<<5&4294967295|A>>>27),A=M+(R^O&(x^R))+j[14]+3275163606&4294967295,M=x+(A<<9&4294967295|A>>>23),A=O+(x^R&(M^x))+j[3]+4107603335&4294967295,O=M+(A<<14&4294967295|A>>>18),A=R+(M^x&(O^M))+j[8]+1163531501&4294967295,R=O+(A<<20&4294967295|A>>>12),A=x+(O^M&(R^O))+j[13]+2850285829&4294967295,x=R+(A<<5&4294967295|A>>>27),A=M+(R^O&(x^R))+j[2]+4243563512&4294967295,M=x+(A<<9&4294967295|A>>>23),A=O+(x^R&(M^x))+j[7]+1735328473&4294967295,O=M+(A<<14&4294967295|A>>>18),A=R+(M^x&(O^M))+j[12]+2368359562&4294967295,R=O+(A<<20&4294967295|A>>>12),A=x+(R^O^M)+j[5]+4294588738&4294967295,x=R+(A<<4&4294967295|A>>>28),A=M+(x^R^O)+j[8]+2272392833&4294967295,M=x+(A<<11&4294967295|A>>>21),A=O+(M^x^R)+j[11]+1839030562&4294967295,O=M+(A<<16&4294967295|A>>>16),A=R+(O^M^x)+j[14]+4259657740&4294967295,R=O+(A<<23&4294967295|A>>>9),A=x+(R^O^M)+j[1]+2763975236&4294967295,x=R+(A<<4&4294967295|A>>>28),A=M+(x^R^O)+j[4]+1272893353&4294967295,M=x+(A<<11&4294967295|A>>>21),A=O+(M^x^R)+j[7]+4139469664&4294967295,O=M+(A<<16&4294967295|A>>>16),A=R+(O^M^x)+j[10]+3200236656&4294967295,R=O+(A<<23&4294967295|A>>>9),A=x+(R^O^M)+j[13]+681279174&4294967295,x=R+(A<<4&4294967295|A>>>28),A=M+(x^R^O)+j[0]+3936430074&4294967295,M=x+(A<<11&4294967295|A>>>21),A=O+(M^x^R)+j[3]+3572445317&4294967295,O=M+(A<<16&4294967295|A>>>16),A=R+(O^M^x)+j[6]+76029189&4294967295,R=O+(A<<23&4294967295|A>>>9),A=x+(R^O^M)+j[9]+3654602809&4294967295,x=R+(A<<4&4294967295|A>>>28),A=M+(x^R^O)+j[12]+3873151461&4294967295,M=x+(A<<11&4294967295|A>>>21),A=O+(M^x^R)+j[15]+530742520&4294967295,O=M+(A<<16&4294967295|A>>>16),A=R+(O^M^x)+j[2]+3299628645&4294967295,R=O+(A<<23&4294967295|A>>>9),A=x+(O^(R|~M))+j[0]+4096336452&4294967295,x=R+(A<<6&4294967295|A>>>26),A=M+(R^(x|~O))+j[7]+1126891415&4294967295,M=x+(A<<10&4294967295|A>>>22),A=O+(x^(M|~R))+j[14]+2878612391&4294967295,O=M+(A<<15&4294967295|A>>>17),A=R+(M^(O|~x))+j[5]+4237533241&4294967295,R=O+(A<<21&4294967295|A>>>11),A=x+(O^(R|~M))+j[12]+1700485571&4294967295,x=R+(A<<6&4294967295|A>>>26),A=M+(R^(x|~O))+j[3]+2399980690&4294967295,M=x+(A<<10&4294967295|A>>>22),A=O+(x^(M|~R))+j[10]+4293915773&4294967295,O=M+(A<<15&4294967295|A>>>17),A=R+(M^(O|~x))+j[1]+2240044497&4294967295,R=O+(A<<21&4294967295|A>>>11),A=x+(O^(R|~M))+j[8]+1873313359&4294967295,x=R+(A<<6&4294967295|A>>>26),A=M+(R^(x|~O))+j[15]+4264355552&4294967295,M=x+(A<<10&4294967295|A>>>22),A=O+(x^(M|~R))+j[6]+2734768916&4294967295,O=M+(A<<15&4294967295|A>>>17),A=R+(M^(O|~x))+j[13]+1309151649&4294967295,R=O+(A<<21&4294967295|A>>>11),A=x+(O^(R|~M))+j[4]+4149444226&4294967295,x=R+(A<<6&4294967295|A>>>26),A=M+(R^(x|~O))+j[11]+3174756917&4294967295,M=x+(A<<10&4294967295|A>>>22),A=O+(x^(M|~R))+j[2]+718787259&4294967295,O=M+(A<<15&4294967295|A>>>17),A=R+(M^(O|~x))+j[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.v=function(C,x){x===void 0&&(x=C.length);const R=x-this.blockSize,j=this.C;let O=this.h,M=0;for(;M<x;){if(O==0)for(;M<=R;)o(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<x;)if(j[O++]=C.charCodeAt(M++),O==this.blockSize){o(this,j),O=0;break}}else for(;M<x;)if(j[O++]=C[M++],O==this.blockSize){o(this,j),O=0;break}}this.h=O,this.o+=x},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,R=0;R<4;++R)for(let j=0;j<32;j+=8)C[x++]=this.g[R]>>>j&255;return C};function h(C,x){var R=_;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=x(C)}function d(C,x){this.h=x;const R=[];let j=!0;for(let O=C.length-1;O>=0;O--){const M=C[O]|0;j&&M==x||(R[O]=M,j=!1)}this.g=R}var _={};function E(C){return-128<=C&&C<128?h(C,function(x){return new d([x|0],x<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return W(v(-C));const x=[];let R=1;for(let j=0;C>=R;j++)x[j]=C/R|0,R*=4294967296;return new d(x,0)}function S(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return W(S(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(x,8));let j=w;for(let M=0;M<C.length;M+=8){var O=Math.min(8,C.length-M);const A=parseInt(C.substring(M,M+O),x);O<8?(O=v(Math.pow(x,O)),j=j.j(O).add(v(A))):(j=j.j(R),j=j.add(v(A)))}return j}var w=E(0),N=E(1),G=E(16777216);s=d.prototype,s.m=function(){if($(this))return-W(this).m();let C=0,x=1;for(let R=0;R<this.g.length;R++){const j=this.i(R);C+=(j>=0?j:4294967296+j)*x,x*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if($(this))return"-"+W(this).toString(C);const x=v(Math.pow(C,6));var R=this;let j="";for(;;){const O=ht(R,x).g;R=_t(R,O.j(x));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=O,Z(R))return M+j;for(;M.length<6;)M="0"+M;j=M+j}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function $(C){return C.h==-1}s.l=function(C){return C=_t(this,C),$(C)?-1:Z(C)?0:1};function W(C){const x=C.g.length,R=[];for(let j=0;j<x;j++)R[j]=~C.g[j];return new d(R,~C.h).add(N)}s.abs=function(){return $(this)?W(this):this},s.add=function(C){const x=Math.max(this.g.length,C.g.length),R=[];let j=0;for(let O=0;O<=x;O++){let M=j+(this.i(O)&65535)+(C.i(O)&65535),A=(M>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);j=A>>>16,M&=65535,A&=65535,R[O]=A<<16|M}return new d(R,R[R.length-1]&-2147483648?-1:0)};function _t(C,x){return C.add(W(x))}s.j=function(C){if(Z(this)||Z(C))return w;if($(this))return $(C)?W(this).j(W(C)):W(W(this).j(C));if($(C))return W(this.j(W(C)));if(this.l(G)<0&&C.l(G)<0)return v(this.m()*C.m());const x=this.g.length+C.g.length,R=[];for(var j=0;j<2*x;j++)R[j]=0;for(j=0;j<this.g.length;j++)for(let O=0;O<C.g.length;O++){const M=this.i(j)>>>16,A=this.i(j)&65535,dt=C.i(O)>>>16,xt=C.i(O)&65535;R[2*j+2*O]+=A*xt,gt(R,2*j+2*O),R[2*j+2*O+1]+=M*xt,gt(R,2*j+2*O+1),R[2*j+2*O+1]+=A*dt,gt(R,2*j+2*O+1),R[2*j+2*O+2]+=M*dt,gt(R,2*j+2*O+2)}for(C=0;C<x;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=x;C<2*x;C++)R[C]=0;return new d(R,0)};function gt(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function ct(C,x){this.g=C,this.h=x}function ht(C,x){if(Z(x))throw Error("division by zero");if(Z(C))return new ct(w,w);if($(C))return x=ht(W(C),x),new ct(W(x.g),W(x.h));if($(x))return x=ht(C,W(x)),new ct(W(x.g),x.h);if(C.g.length>30){if($(C)||$(x))throw Error("slowDivide_ only works with positive integers.");for(var R=N,j=x;j.l(C)<=0;)R=Dt(R),j=Dt(j);var O=nt(R,1),M=nt(j,1);for(j=nt(j,2),R=nt(R,2);!Z(j);){var A=M.add(j);A.l(C)<=0&&(O=O.add(R),M=A),j=nt(j,1),R=nt(R,1)}return x=_t(C,O.j(x)),new ct(O,x)}for(O=w;C.l(x)>=0;){for(R=Math.max(1,Math.floor(C.m()/x.m())),j=Math.ceil(Math.log(R)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),M=v(R),A=M.j(x);$(A)||A.l(C)>0;)R-=j,M=v(R),A=M.j(x);Z(M)&&(M=N),O=O.add(M),C=_t(C,A)}return new ct(O,C)}s.B=function(C){return ht(this,C).h},s.and=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let j=0;j<x;j++)R[j]=this.i(j)&C.i(j);return new d(R,this.h&C.h)},s.or=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let j=0;j<x;j++)R[j]=this.i(j)|C.i(j);return new d(R,this.h|C.h)},s.xor=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let j=0;j<x;j++)R[j]=this.i(j)^C.i(j);return new d(R,this.h^C.h)};function Dt(C){const x=C.g.length+1,R=[];for(let j=0;j<x;j++)R[j]=C.i(j)<<1|C.i(j-1)>>>31;return new d(R,C.h)}function nt(C,x){const R=x>>5;x%=32;const j=C.g.length-R,O=[];for(let M=0;M<j;M++)O[M]=x>0?C.i(M+R)>>>x|C.i(M+R+1)<<32-x:C.i(M+R);return new d(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,l0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Ha=d}).apply(typeof Zy<"u"?Zy:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o0,Ql,u0,$u,ad,c0,h0,f0;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var y=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in y))break t;y=y[U]}u=u[u.length-1],b=y[u],m=m(b),m!=b&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&y.push([b,m[b]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=E,v.apply(null,arguments)}function S(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(b,U,P){for(var et=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)et[wt-2]=arguments[wt];return m.prototype[U].apply(b,et)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const y=Array(m);for(let b=0;b<m;b++)y[b]=u[b];return y}return[]}function Z(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const P=U.length||0;u.length=y+P;for(let et=0;et<P;et++)u[y+et]=U[et]}else u.push(U)}}class ${constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function _t(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,y){const b=ct.get();b.set(m,y),this.h?this.h.next=b:this.g=b,this.h=b}}var ct=new $(()=>new ht,u=>u.reset());class ht{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Dt,nt=!1,C=new gt,x=()=>{const u=Promise.resolve(void 0);Dt=()=>{u.then(R)}};function R(){for(var u;u=_t();){try{u.h.call(u.g)}catch(y){W(y)}var m=ct;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}nt=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function dt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(dt,O),dt.prototype.init=function(u,m){const y=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&dt.Z.h.call(this)},dt.prototype.h=function(){dt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),H=0;function it(u,m,y,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!b,this.ha=U,this.key=++H,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ft(u,m,y){for(const b in u)m.call(y,u[b],b,u)}function Vt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function I(u){const m={};for(const y in u)m[y]=u[y];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let y,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(y in b)u[y]=b[y];for(let P=0;P<Q.length;P++)y=Q[P],Object.prototype.hasOwnProperty.call(b,y)&&(u[y]=b[y])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,y,b,U){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const et=bt(u,m,b,U);return et>-1?(m=u[et],y||(m.fa=!1)):(m=new it(m,this.src,P,!!b,U),m.fa=y,u.push(m)),m};function Et(u,m){const y=m.type;if(y in u.g){var b=u.g[y],U=Array.prototype.indexOf.call(b,m,void 0),P;(P=U>=0)&&Array.prototype.splice.call(b,U,1),P&&(ot(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function bt(u,m,y,b){for(let U=0;U<u.length;++U){const P=u[U];if(!P.da&&P.listener==m&&P.capture==!!y&&P.ha==b)return U}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),ae={};function qt(u,m,y,b,U){if(Array.isArray(m)){for(let P=0;P<m.length;P++)qt(u,m[P],y,b,U);return null}return y=Ui(y),u&&u[xt]?u.J(m,y,_(b)?!!b.capture:!1,U):zi(u,m,y,!1,b,U)}function zi(u,m,y,b,U,P){if(!m)throw Error("Invalid event type");const et=_(U)?!!U.capture:!!U;let wt=de(u);if(wt||(u[Ot]=wt=new at(u)),y=wt.add(m,y,b,et,P),y.proxy)return y;if(b=In(),y.proxy=b,b.src=u,b.listener=y,u.addEventListener)M||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Ht(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function In(){function u(y){return m.call(u.src,u.listener,y)}const m=Oe;return u}function en(u,m,y,b,U){if(Array.isArray(m))for(var P=0;P<m.length;P++)en(u,m[P],y,b,U);else b=_(b)?!!b.capture:!!b,y=Ui(y),u&&u[xt]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],y=bt(m,y,b,U),y>-1&&(ot(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=de(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,y,b,U)),(y=u>-1?m[u]:null)&&Lt(y))}function Lt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])Et(m.i,u);else{var y=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(y,b,u.capture):m.detachEvent?m.detachEvent(Ht(y),b):m.addListener&&m.removeListener&&m.removeListener(b),(y=de(m))?(Et(y,u),y.h==0&&(y.src=null,m[Ot]=null)):ot(u)}}}function Ht(u){return u in ae?ae[u]:ae[u]="on"+u}function Oe(u,m){if(u.da)u=!0;else{m=new dt(m,this);const y=u.listener,b=u.ha||u.src;u.fa&&Lt(u),u=y.call(b,m)}return u}function de(u){return u=u[Ot],u instanceof at?u:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ui(u){return typeof u=="function"?u:(u[rn]||(u[rn]=function(m){return u.handleEvent(m)}),u[rn])}function ue(){j.call(this),this.i=new at(this),this.M=this,this.G=null}w(ue,j),ue.prototype[xt]=!0,ue.prototype.removeEventListener=function(u,m,y,b){en(this,u,m,y,b)};function pe(u,m){var y,b=u.G;if(b)for(y=[];b;b=b.G)y.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(b,u),tt(m,U)}U=!0;let P,et;if(y)for(et=y.length-1;et>=0;et--)P=m.g=y[et],U=la(P,b,!0,m)&&U;if(P=m.g=u,U=la(P,b,!0,m)&&U,U=la(P,b,!1,m)&&U,y)for(et=0;et<y.length;et++)P=m.g=y[et],U=la(P,b,!1,m)&&U}ue.prototype.N=function(){if(ue.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let b=0;b<y.length;b++)ot(y[b]);delete u.g[m],u.h--}}this.G=null},ue.prototype.J=function(u,m,y,b){return this.i.add(String(u),m,!1,y,b)},ue.prototype.K=function(u,m,y,b){return this.i.add(String(u),m,!0,y,b)};function la(u,m,y,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let P=0;P<m.length;++P){const et=m[P];if(et&&!et.da&&et.capture==y){const wt=et.listener,_e=et.ha||et.src;et.fa&&Et(u.i,et),U=wt.call(_e,b)!==!1&&U}}return U&&!b.defaultPrevented}function Lc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function mo(u){u.g=Lc(()=>{u.g=null,u.i&&(u.i=!1,mo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nn extends j{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){j.call(this),this.h=u,this.g={}}w(ts,j);var Pr=[];function qr(u){ft(u.g,function(m,y){this.g.hasOwnProperty(y)&&Lt(m)},u),u.g={}}ts.prototype.N=function(){ts.Z.N.call(this),qr(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oa=d.JSON.stringify,kc=d.JSON.parse,go=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function po(){}function yo(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){O.call(this,"d")}w(Pe,O);function Vn(){O.call(this,"c")}w(Vn,O);var ye={},_o=null;function js(){return _o=_o||new ue}ye.Ia="serverreachability";function vo(u){O.call(this,ye.Ia,u)}w(vo,O);function oi(u){const m=js();pe(m,new vo(m))}ye.STAT_EVENT="statevent";function es(u,m){O.call(this,ye.STAT_EVENT,u),this.stat=m}w(es,O);function Se(u){const m=js();pe(m,new es(m,u))}ye.Ja="timingevent";function ui(u,m){O.call(this,ye.Ja,u),this.size=m}w(ui,O);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Bc(u,m,y,b,U,P){u.info(function(){if(u.g)if(P){var et="",wt=P.split("&");for(let Qt=0;Qt<wt.length;Qt++){var _e=wt[Qt].split("=");if(_e.length>1){const ce=_e[0];_e=_e[1];const zn=ce.split("_");et=zn.length>=2&&zn[1]=="type"?et+(ce+"="+_e+"&"):et+(ce+"=redacted&")}}}else et=null;else et=P;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+y+`
`+et})}function Eo(u,m,y,b,U,P,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+y+`
`+P+" "+et})}function hi(u,m,y,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pc(u,y)+(b?" "+b:"")})}function ns(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function Pc(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var y=P[u];if(!(y.length<2)){var b=y[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return oa(P)}catch{return m}}var is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gr;function as(){}w(as,po),as.prototype.g=function(){return new XMLHttpRequest},Gr=new as;function Li(u){return encodeURIComponent(String(u))}function To(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Zn(u,m,y,b){this.j=u,this.i=m,this.l=y,this.S=b||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Ae={},Ue={};function fi(u,m,y){u.M=1,u.A=ss(we(m)),u.u=y,u.R=!0,zs(u,null)}function zs(u,m){u.F=Date.now(),di(u),u.B=we(u.A);var y=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Bs(y.i,"t",b),u.C=0,y=u.j.L,u.h=new Jn,u.g=zo(u.j,y?m:null,!u.u),u.P>0&&(u.O=new nn(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Pr[0]=U.toString()),U=Pr);for(let P=0;P<U.length;P++){const et=qt(y,U[P],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Bc(u.i,u.v,u.B,u.l,u.S,u.u)}Zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=ti(this.g),_e=this.g.ya(),Qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||wt!=4||_e==7||(_e==8||Qt<=0?oi(3):oi(2)),mi(this);var m=this.g.ca();this.X=m;var y=qc(this);if(this.o=m==200,Eo(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(b)){var P=b;break e}}P=null}if(u=P)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,Se(12),_n(this),On(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<y.length;)if(ce=So(this,y),ce==Ue){wt==4&&(this.m=4,Se(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Ae){this.m=4,Se(15),hi(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,ce,null),gi(this,ce);if(bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||y.length!=0||this.h.h||(this.m=1,Se(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,y,"[Invalid Chunked Response]"),_n(this),On(this);else if(y.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),sl(et),et.P=!0,Se(11))}}else hi(this.i,this.l,y,null),gi(this,y);wt==4&&_n(this),this.o&&!this.K&&(wt==4?Vo(this.j,this):(this.o=!1,di(this)))}else Bi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),_n(this),On(this)}}}catch{}finally{}};function qc(u){if(!bo(u))return u.g.la();const m=qe(u.g);if(m==="")return"";let y="";const b=m.length,U=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),On(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<b;P++)u.h.h=!0,y+=u.h.i.decode(m[P],{stream:!(U&&P==b-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function bo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function So(u,m){var y=u.C,b=m.indexOf(`
`,y);return b==-1?Ue:(y=Number(m.substring(y,b)),isNaN(y)?Ae:(b+=1,b+y>m.length?Ue:(m=m.slice(b,b+y),u.C=b+y,m)))}Zn.prototype.cancel=function(){this.K=!0,_n(this)};function di(u){u.T=Date.now()+u.H,Us(u,u.H)}function Us(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(v(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ns(this.i,this.B),this.M!=2&&(oi(),Se(17)),_n(this),this.m=2,On(this)):Us(this,this.T-u)};function On(u){u.j.I==0||u.K||Vo(u.j,u)}function _n(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,qr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||yi(y.h,u))){if(!u.L&&yi(y.h,u)&&y.I==3){try{var b=y.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Fs(y),pa(y);else break t;fs(y),Se(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ci(v(y.Va,y),6e3));pi(y.h)<=1&&y.ta&&(y.ta=void 0)}else Si(y,11)}else if((u.L||y.g==u)&&Fs(y),!A(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let Qt=U[m];const ce=Qt[0];if(!(ce<=y.K))if(y.K=ce,Qt=Qt[1],y.I==2)if(Qt[0]=="c"){y.M=Qt[1],y.ba=Qt[2];const zn=Qt[3];zn!=null&&(y.ka=zn,y.j.info("VER="+y.ka));const Ai=Qt[4];Ai!=null&&(y.za=Ai,y.j.info("SVER="+y.za));const ei=Qt[5];ei!=null&&typeof ei=="number"&&ei>0&&(b=1.5*ei,y.O=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const ni=u.g;if(ni){const ds=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var P=b.h;P.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Yr(P,P.h),P.h=null))}if(b.G){const Qs=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(b.wa=Qs,Kt(b.J,b.G,Qs))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),b=y;var et=u;if(b.na=jo(b,b.L?b.ba:null,b.W),et.L){Xr(b.h,et);var wt=et,_e=b.O;_e&&(wt.H=_e),wt.D&&(mi(wt),di(wt)),b.g=et}else No(b);y.i.length>0&&bi(y)}else Qt[0]!="stop"&&Qt[0]!="close"||Si(y,7);else y.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Si(y,7):il(y):Qt[0]!="noop"&&y.l&&y.l.qa(Qt),y.A=0)}}oi(4)}catch{}}var xe=class{constructor(u,m){this.g=u,this.map=m}};function Fr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Yr(u,m){u.g?u.g.add(m):u.h=m}function Xr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Fr.prototype.cancel=function(){if(this.i=Kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Kr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return G(u.i)}var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ls(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const b=u[y].indexOf("=");let U,P=null;b>=0?(U=u[y].substring(0,b),P=u[y].substring(b+1)):U=u[y],m(U,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,ua(this,u.u),this.h=u.h,Zr(this,Ro(u.i)),this.m=u.m):u&&(m=String(u).match(Ao))?(this.l=!1,Le(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),ua(this,m[4]),this.h=_i(m[5]||"",!0),Zr(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new ha(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(rs(m,ks,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(rs(m,ks,!0),"@"),u.push(Li(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(rs(y,y.charAt(0)=="/"?Jr:xo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",rs(y,wo)),u.join("")},vn.prototype.resolve=function(u){const m=we(this);let y=!!u.j;y?Le(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var b=u.h;if(y)ua(m,u.u);else if(y=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const P=[];for(let et=0;et<U.length;){const wt=U[et++];wt=="."?b&&et==U.length&&P.push(""):wt==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),b&&et==U.length&&P.push("")):(P.push(wt),b=!0)}b=P.join("/")}else b=U}return y?m.h=b:y=u.i.toString()!=="",y?Zr(m,Ro(u.i)):y=!!u.m,y&&(m.m=u.m),m};function we(u){return new vn(u)}function Le(u,m,y){u.j=y?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ua(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Zr(u,m,y){m instanceof ha?(u.i=m,Ps(u.i,u.l)):(y||(m=rs(m,ca)),u.i=new ha(m,u.l))}function Kt(u,m,y){u.i.set(m,y)}function ss(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function rs(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,ln),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ks=/[#\/\?@]/g,xo=/[#\?:]/g,Jr=/[#\?]/g,ca=/[#\?@]/g,wo=/#/g;function ha(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&Ls(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=ha.prototype,s.add=function(u,m){on(this),this.i=null,u=fa(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Co(u,m){on(u),m=fa(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function $r(u,m){return on(u),m=fa(u,m),u.g.has(m)}s.forEach=function(u,m){on(this),this.g.forEach(function(y,b){y.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Wr(u,m){on(u);let y=[];if(typeof m=="string")$r(u,m)&&(y=y.concat(u.g.get(fa(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return on(this),this.i=null,u=fa(this,u),$r(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Wr(this,u),u.length>0?String(u[0]):m):m};function Bs(u,m,y){Co(u,m),y.length>0&&(u.i=null,u.g.set(fa(u,m),G(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var y=m[b];const U=Li(y);y=Wr(this,y);for(let P=0;P<y.length;P++){let et=U;y[P]!==""&&(et+="="+Li(y[P])),u.push(et)}}return this.i=u.join("&")};function Ro(u){const m=new ha;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fa(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ps(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(y,b){const U=b.toLowerCase();b!=U&&(Co(this,b),Bs(this,U,y))},u)),u.j=m}function $n(u,m){const y=new Kn;if(d.Image){const b=new Image;b.onload=S(Mn,y,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Mn,y,"TestLoadImage: error",!1,m,b),b.onabort=S(Mn,y,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Mn,y,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function tl(u,m){const y=new Kn,b=new AbortController,U=setTimeout(()=>{b.abort(),Mn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(P=>{clearTimeout(U),P.ok?Mn(y,"TestPingServer: ok",!0,m):Mn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Mn(y,"TestPingServer: error",!1,m)})}function Mn(u,m,y,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(y)}catch{}}function da(){this.g=new go}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(vi,po),vi.prototype.g=function(){return new ls(this.i,this.h)};function ls(u,m){ue.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ls,ue),s=ls.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Wn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function qs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ma(this):Wn(this),this.readyState==3&&qs(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ma(this))},s.Na=function(u){this.g&&(this.response=u,ma(this))},s.ga=function(){this.g&&ma(this)};function ma(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jn(u){let m="";return ft(u,function(y,b){m+=b,m+=":",m+=y,m+=`\r
`}),m}function os(u,m,y){t:{for(b in y){var b=!1;break t}b=!0}b||(y=jn(y),typeof u=="string"?y!=null&&Li(y):Kt(u,m,y))}function $t(u){ue.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w($t,ue);var Ei=/^https?$/i,el=["POST","PUT"];s=$t.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gr.g(),this.g.onreadystatechange=N(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){us(this,P);return}if(u=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)y.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const P of b.keys())y.set(P,b.get(P));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(P=>P.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(el,m,void 0)>=0)||b||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,et]of y)this.g.setRequestHeader(P,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){us(this,P)}};function us(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,nl(u),ki(u)}function nl(u){u.A||(u.A=!0,pe(u,"complete"),pe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,pe(this,"complete"),pe(this,"abort"),ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?cs(this):this.Xa())},s.Xa=function(){cs(this)};function cs(u){if(u.h&&typeof h<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(pe(u,"readystatechange"),ti(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var b;if(b=P===0){let et=String(u.D).match(Ao)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!Ei.test(et?et.toLowerCase():"")}y=b}if(y)pe(u,"complete"),pe(u,"success");else{u.o=6;try{var U=ti(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",nl(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||pe(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),kc(m)}};function qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(A(u[b]))continue;var y=To(u[b]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const P=m[U]||[];m[U]=P,P.push(y)}Vt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ga(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Fr(u&&u.concurrentRequestLimit),this.Ba=new da,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ga.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,b){Se(0),this.W=u,this.H=m||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.J=jo(this,null,this.W),bi(this)};function il(u){if(Hs(u),u.I==3){var m=u.V++,y=we(u.J);if(Kt(y,"SID",u.M),Kt(y,"RID",m),Kt(y,"TYPE","terminate"),hs(u,y),m=new Zn(u,u.j,m),m.M=2,m.A=ss(we(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=zo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}Mo(u)}function pa(u){u.g&&(sl(u),u.g.cancel(),u.g=null)}function Hs(u){pa(u),u.v&&(d.clearTimeout(u.v),u.v=null),Fs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function bi(u){if(!Qr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Dt||x(),nt||(Dt(),nt=!0),C.add(m,u),u.D=0}}function Gs(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(v(u.Ea,u,m),Oo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Zn(this,this.j,u);let P=this.o;if(this.U&&(P?(P=I(P),tt(P,this.U)):P=this.U),this.u!==null||this.R||(U.J=P,P=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Do(this,U,m),y=we(this.J),Kt(y,"RID",u),Kt(y,"CVER",22),this.G&&Kt(y,"X-HTTP-Session-Id",this.G),hs(this,y),P&&(this.R?m="headers="+Li(jn(P))+"&"+m:this.u&&os(y,this.u,P)),Yr(this.h,U),this.Ra&&Kt(y,"TYPE","init"),this.S?(Kt(y,"$req",m),Kt(y,"SID","null"),U.U=!0,fi(U,y,null)):fi(U,y,m),this.I=2}}else this.I==3&&(u?al(this,u):this.i.length==0||Qr(this.h)||al(this))};function al(u,m){var y;m?y=m.l:y=u.V++;const b=we(u.J);Kt(b,"SID",u.M),Kt(b,"RID",y),Kt(b,"AID",u.K),hs(u,b),u.u&&u.o&&os(b,u.u,u.o),y=new Zn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Do(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Yr(u.h,y),fi(y,b,m)}function hs(u,m){u.H&&ft(u.H,function(y,b){Kt(m,b,y)}),u.l&&ft({},function(y,b){Kt(m,b,y)})}function Do(u,m,y){y=Math.min(u.i.length,y);const b=u.l?v(u.l.Ka,u.l,u):null;t:{var U=u.i;let wt=-1;for(;;){const _e=["count="+y];wt==-1?y>0?(wt=U[0].g,_e.push("ofs="+wt)):wt=0:_e.push("ofs="+wt);let Qt=!0;for(let ce=0;ce<y;ce++){var P=U[ce].g;const zn=U[ce].map;if(P-=wt,P<0)wt=Math.max(0,U[ce].g-100),Qt=!1;else try{P="req"+P+"_"||"";try{var et=zn instanceof Map?zn:Object.entries(zn);for(const[Ai,ei]of et){let ni=ei;_(ei)&&(ni=oa(ei)),_e.push(P+Ai+"="+encodeURIComponent(ni))}}catch(Ai){throw _e.push(P+"type="+encodeURIComponent("_badmap")),Ai}}catch{b&&b(zn)}}if(Qt){et=_e.join("&");break t}}et=void 0}return u=u.i.splice(0,y),m.G=u,et}function No(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Dt||x(),nt||(Dt(),nt=!0),C.add(m,u),u.A=0}}function fs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(v(u.Da,u),Oo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),pa(this),Io(this))};function sl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Io(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=we(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),hs(u,m),u.u&&u.o&&os(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=ss(we(m)),y.u=null,y.R=!0,zs(y,u)}s.Va=function(){this.C!=null&&(this.C=null,pa(this),fs(this),Se(19))};function Fs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Vo(u,m){var y=null;if(u.g==m){Fs(u),sl(u),u.g=null;var b=2}else if(yi(u.h,m))y=m.G,Xr(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=js(),pe(b,new ui(b,y)),bi(u)}else No(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&Gs(u,m)||b==2&&fs(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function Oo(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),b=u.Ua;const U=!b;b=new vn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(b,"https"),ss(b),U?$n(b.toString(),y):tl(b.toString(),y)}else Se(2);u.I=0,u.l&&u.l.pa(m),Mo(u),Hs(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Mo(u){if(u.I=0,u.ja=[],u.l){const m=Kr(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function jo(u,m,y){var b=y instanceof vn?we(y):new vn(y);if(b.g!="")m&&(b.g=m+"."+b.g),ua(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const P=new vn(null);b&&Le(P,b),m&&(P.g=m),U&&ua(P,U),y&&(P.h=y),b=P}return y=u.G,m=u.wa,y&&m&&Kt(b,y,m),Kt(b,"VER",u.ka),hs(u,b),b}function zo(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new vi({ab:y})):new $t(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}s=Uo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ya(){}ya.prototype.g=function(u,m){return new an(u,m)};function an(u,m){ue.call(this),this.g=new ga(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!A(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pi(this)}w(an,ue),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){il(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=oa(u),u=y);m.i.push(new xe(m.Ya++,u)),m.I==3&&bi(m)},an.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,an.Z.N.call(this)};function Lo(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Lo,Pe);function ko(){Vn.call(this),this.status=1}w(ko,Vn);function Pi(u){this.g=u}w(Pi,Uo),Pi.prototype.ra=function(){pe(this.g,"a")},Pi.prototype.qa=function(u){pe(this.g,new Lo(u))},Pi.prototype.pa=function(u){pe(this.g,new ko)},Pi.prototype.oa=function(){pe(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,f0=function(){return new ya},h0=function(){return js()},c0=ye,ad={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,$u=is,Hr.COMPLETE="complete",u0=Hr,yo.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",ue.prototype.listen=ue.prototype.J,Ql=yo,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,o0=$t}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const Jy="@firebase/firestore",$y="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new e0("@firebase/firestore");function br(){return Is.logLevel}function st(s,...e){if(Is.logLevel<=Pt.DEBUG){const i=e.map(wd);Is.debug(`Firestore (${Ur}): ${s}`,...i)}}function sa(s,...e){if(Is.logLevel<=Pt.ERROR){const i=e.map(wd);Is.error(`Firestore (${Ur}): ${s}`,...i)}}function Nr(s,...e){if(Is.logLevel<=Pt.WARN){const i=e.map(wd);Is.warn(`Firestore (${Ur}): ${s}`,...i)}}function wd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,d0(s,r,i)}function d0(s,e,i){let r=`FIRESTORE (${Ur}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw sa(r),new Error(r)}function Xt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||d0(e,o,r)}function At(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends zr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(We.UNAUTHENTICATED)))}shutdown(){}}class gb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class pb{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Xt(this.o===void 0,42304);let r=this.i;const o=E=>this.i!==r?(r=this.i,i(E)):Promise.resolve();let h=new Ga;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ga,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const E=h;e.enqueueRetryable((async()=>{await E.promise,await o(this.currentUser)}))},_=E=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((E=>_(E))),setTimeout((()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?_(E):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ga)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new m0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new We(e)}}class yb{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _b{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new yb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,J1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Xt(this.o===void 0,3512);const r=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Wy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Eb(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function zt(s,e){return s<e?-1:s>e?1:0}function sd(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return Yf(o)===Yf(h)?zt(o,h):Yf(o)?1:-1}return zt(s.length,e.length)}const Tb=55296,bb=57343;function Yf(s){const e=s.charCodeAt(0);return e>=Tb&&e<=bb}function Ir(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="__name__";class Di{constructor(e,i,r){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&vt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=Di.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return zt(e.length,i.length)}static compareSegments(e,i){const r=Di.isNumericId(e),o=Di.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Di.extractNumericId(e).compare(Di.extractNumericId(i)):sd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ha.fromString(e.substring(4,e.length-2))}}class le extends Di{construct(e,i,r){return new le(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const Sb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Di{construct(e,i,r){return new Xe(e,i,r)}static isValidIdentifier(e){return Sb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t_}static keyField(){return new Xe([t_])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if(E!=="\\"&&E!=="."&&E!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(r+=_,o++):(h(),o++)}if(h(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(i)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(le.fromString(e))}static fromName(e){return new pt(le.fromString(e).popFirst(5))}static empty(){return new pt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return le.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(s,e,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Ab(s,e,i,r){if(e===!0&&r===!0)throw new lt(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function e_(s){if(!pt.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function n_(s){if(pt.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function p0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Rd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function oc(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rd(s);throw new lt(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(s,e){const i={typeString:s};return e&&(i.value=e),i}function oo(s,e){if(!p0(s))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new lt(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-62135596800,a_=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(e){return oe.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*a_);return new oe(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<i_)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oo(e,oe._jsonSchema))return new oe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-i_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ve("string",oe._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new oe(0,0))}static max(){return new Tt(new oe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=-1;function xb(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(r===1e9?new oe(i+1,0):new oe(i,r));return new Qa(o,pt.empty(),e)}function wb(s){return new Qa(s.readTime,s.key,no)}class Qa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Qa(Tt.min(),pt.empty(),no)}static max(){return new Qa(Tt.max(),pt.empty(),no)}}function Cb(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,e.documentKey),i!==0?i:zt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Db{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lr(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==Rb)throw s;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,r)=>{i(e)}))}static reject(e){return new K(((i,r)=>{r(e)}))}static waitFor(e){return new K(((i,r)=>{let o=0,h=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++h,d&&h===o&&i()}),(E=>r(E)))})),d=!0,h===o&&i()}))}static or(e){let i=K.resolve(!1);for(const r of e)i=i.next((o=>o?K.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new K(((r,o)=>{const h=e.length,d=new Array(h);let _=0;for(let E=0;E<h;E++){const v=E;i(e[v]).next((S=>{d[v]=S,++_,_===h&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new K(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function Nb(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function kr(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=-1;function bc(s){return s==null}function uc(s){return s===0&&1/s==-1/0}function Ib(s){return typeof s=="number"&&Number.isInteger(s)&&!uc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="";function Vb(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=s_(e)),e=Ob(s.get(i),e);return s_(e)}function Ob(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case y0:i+="";break;default:i+=h}}return i}function s_(s){return s+y0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function $a(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function _0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,i){this.comparator=e,this.root=i||Ye.EMPTY}insert(e,i){return new fe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Ye.RED,this.left=o??Ye.EMPTY,this.right=h??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Ye(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ye.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Ye(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(e){return new l_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new ze(this.comparator);return i.data=e,i}}class l_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new Rn([])}unionWith(e){let i=new ze(Xe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Rn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ir(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new v0("Invalid base64 string: "+h):h}})(e);return new Ze(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Ze(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const Mb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ya(s){if(Xt(!!s,39018),typeof s=="string"){let e=0;const i=Mb.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Te(s.seconds),nanos:Te(s.nanos)}}function Te(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Xa(s){return typeof s=="string"?Ze.fromBase64String(s):Ze.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="server_timestamp",T0="__type__",b0="__previous_value__",S0="__local_write_time__";function Nd(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[T0])==null?void 0:r.stringValue)===E0}function Sc(s){const e=s.mapValue.fields[b0];return Nd(e)?Sc(e):e}function io(s){const e=Ya(s.mapValue.fields[S0].timestampValue);return new oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,i,r,o,h,d,_,E,v,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=E,this.useFetchStreams=v,this.isUsingEmulator=S}}const cc="(default)";class ao{constructor(e,i){this.projectId=e,this.database=i||cc}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===cc}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__type__",zb="__max__",Fu={mapValue:{}},x0="__vector__",hc="value";function Ka(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Nd(s)?4:Lb(s)?9007199254740991:Ub(s)?10:11:vt(28295,{value:s})}function Mi(s,e){if(s===e)return!0;const i=Ka(s);if(i!==Ka(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return io(s).isEqual(io(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ya(o.timestampValue),_=Ya(h.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return Xa(o.bytesValue).isEqual(Xa(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return Te(o.geoPointValue.latitude)===Te(h.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Te(o.integerValue)===Te(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Te(o.doubleValue),_=Te(h.doubleValue);return d===_?uc(d)===uc(_):isNaN(d)&&isNaN(_)}return!1})(s,e);case 9:return Ir(s.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},_=h.mapValue.fields||{};if(r_(d)!==r_(_))return!1;for(const E in d)if(d.hasOwnProperty(E)&&(_[E]===void 0||!Mi(d[E],_[E])))return!1;return!0})(s,e);default:return vt(52216,{left:s})}}function so(s,e){return(s.values||[]).find((i=>Mi(i,e)))!==void 0}function Vr(s,e){if(s===e)return 0;const i=Ka(s),r=Ka(e);if(i!==r)return zt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const _=Te(h.integerValue||h.doubleValue),E=Te(d.integerValue||d.doubleValue);return _<E?-1:_>E?1:_===E?0:isNaN(_)?isNaN(E)?0:-1:1})(s,e);case 3:return o_(s.timestampValue,e.timestampValue);case 4:return o_(io(s),io(e));case 5:return sd(s.stringValue,e.stringValue);case 6:return(function(h,d){const _=Xa(h),E=Xa(d);return _.compareTo(E)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const _=h.split("/"),E=d.split("/");for(let v=0;v<_.length&&v<E.length;v++){const S=zt(_[v],E[v]);if(S!==0)return S}return zt(_.length,E.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const _=zt(Te(h.latitude),Te(d.latitude));return _!==0?_:zt(Te(h.longitude),Te(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return u_(s.arrayValue,e.arrayValue);case 10:return(function(h,d){var N,G,Z,$;const _=h.fields||{},E=d.fields||{},v=(N=_[hc])==null?void 0:N.arrayValue,S=(G=E[hc])==null?void 0:G.arrayValue,w=zt(((Z=v==null?void 0:v.values)==null?void 0:Z.length)||0,(($=S==null?void 0:S.values)==null?void 0:$.length)||0);return w!==0?w:u_(v,S)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Fu.mapValue&&d===Fu.mapValue)return 0;if(h===Fu.mapValue)return 1;if(d===Fu.mapValue)return-1;const _=h.fields||{},E=Object.keys(_),v=d.fields||{},S=Object.keys(v);E.sort(),S.sort();for(let w=0;w<E.length&&w<S.length;++w){const N=sd(E[w],S[w]);if(N!==0)return N;const G=Vr(_[E[w]],v[S[w]]);if(G!==0)return G}return zt(E.length,S.length)})(s.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function o_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return zt(s,e);const i=Ya(s),r=Ya(e),o=zt(i.seconds,r.seconds);return o!==0?o:zt(i.nanos,r.nanos)}function u_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Vr(i[o],r[o]);if(h)return h}return zt(i.length,r.length)}function Or(s){return rd(s)}function rd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ya(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Xa(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=rd(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${rd(i.fields[d])}`;return o+"}"})(s.mapValue):vt(61005,{value:s})}function Wu(s){switch(Ka(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sc(s);return e?16+Wu(e):16;case 5:return 2*s.stringValue.length;case 6:return Xa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Wu(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return $a(r.fields,((h,d)=>{o+=h.length+Wu(d)})),o})(s.mapValue);default:throw vt(13486,{value:s})}}function ld(s){return!!s&&"integerValue"in s}function Id(s){return!!s&&"arrayValue"in s}function c_(s){return!!s&&"nullValue"in s}function h_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function tc(s){return!!s&&"mapValue"in s}function Ub(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[A0])==null?void 0:r.stringValue)===x0}function Zl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return $a(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Zl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Zl(s.arrayValue.values[i]);return e}return{...s}}function Lb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===zb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!tc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(i)}setAll(e){let i=Xe.emptyPath(),r={},o=[];e.forEach(((d,_)=>{if(!i.isImmediateParentOf(_)){const E=this.getFieldsMap(i);this.applyChanges(E,r,o),r={},o=[],i=_.popLast()}d?r[_.lastSegment()]=Zl(d):o.push(_.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());tc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];tc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){$a(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new yn(Zl(this.value))}}function w0(s){const e=[];return $a(s.fields,((i,r)=>{const o=new Xe([i]);if(tc(r)){const h=w0(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,i,r,o,h,d,_){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=_}static newInvalidDocument(e){return new tn(e,0,Tt.min(),Tt.min(),Tt.min(),yn.empty(),0)}static newFoundDocument(e,i,r,o){return new tn(e,1,i,Tt.min(),r,o,0)}static newNoDocument(e,i){return new tn(e,2,i,Tt.min(),Tt.min(),yn.empty(),0)}static newUnknownDocument(e,i){return new tn(e,3,i,Tt.min(),Tt.min(),yn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i){this.position=e,this.inclusive=i}}function f_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=pt.comparator(pt.fromName(d.referenceValue),i.key):r=Vr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function d_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Mi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i="asc"){this.field=e,this.dir=i}}function kb(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{}class je extends C0{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Pb(e,i,r):i==="array-contains"?new Gb(e,r):i==="in"?new Fb(e,r):i==="not-in"?new Qb(e,r):i==="array-contains-any"?new Yb(e,r):new je(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new qb(e,r):new Hb(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Vr(i,this.value)):i!==null&&Ka(this.value)===Ka(i)&&this.matchesComparison(Vr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends C0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ji(e,i)}matches(e){return R0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R0(s){return s.op==="and"}function D0(s){return Bb(s)&&R0(s)}function Bb(s){for(const e of s.filters)if(e instanceof ji)return!1;return!0}function od(s){if(s instanceof je)return s.field.canonicalString()+s.op.toString()+Or(s.value);if(D0(s))return s.filters.map((e=>od(e))).join(",");{const e=s.filters.map((i=>od(i))).join(",");return`${s.op}(${e})`}}function N0(s,e){return s instanceof je?(function(r,o){return o instanceof je&&r.op===o.op&&r.field.isEqual(o.field)&&Mi(r.value,o.value)})(s,e):s instanceof ji?(function(r,o){return o instanceof ji&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,_)=>h&&N0(d,o.filters[_])),!0):!1})(s,e):void vt(19439)}function I0(s){return s instanceof je?(function(i){return`${i.field.canonicalString()} ${i.op} ${Or(i.value)}`})(s):s instanceof ji?(function(i){return i.op.toString()+" {"+i.getFilters().map(I0).join(" ,")+"}"})(s):"Filter"}class Pb extends je{constructor(e,i,r){super(e,i,r),this.key=pt.fromName(r.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class qb extends je{constructor(e,i){super(e,"in",i),this.keys=V0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Hb extends je{constructor(e,i){super(e,"not-in",i),this.keys=V0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function V0(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>pt.fromName(r.referenceValue)))}class Gb extends je{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Id(i)&&so(i.arrayValue,this.value)}}class Fb extends je{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class Qb extends je{constructor(e,i){super(e,"not-in",i)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!so(this.value.arrayValue,i)}}class Yb extends je{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Id(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>so(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,i=null,r=[],o=[],h=null,d=null,_=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=_,this.Te=null}}function m_(s,e=null,i=[],r=[],o=null,h=null,d=null){return new Xb(s,e,i,r,o,h,d)}function Vd(s){const e=At(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>od(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),bc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Or(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Or(r))).join(",")),e.Te=i}return e.Te}function Od(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!kb(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!N0(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!d_(s.startAt,e.startAt)&&d_(s.endAt,e.endAt)}function ud(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i=null,r=[],o=[],h=null,d="F",_=null,E=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=_,this.endAt=E,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Kb(s,e,i,r,o,h,d,_){return new Ac(s,e,i,r,o,h,d,_)}function O0(s){return new Ac(s)}function g_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Zb(s){return s.collectionGroup!==null}function Jl(s){const e=At(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new ze(Xe.comparator);return d.filters.forEach((E=>{E.getFlattenedFilters().forEach((v=>{v.isInequality()&&(_=_.add(v.field))}))})),_})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new dc(h,r))})),i.has(Xe.keyField().canonicalString())||e.Ie.push(new dc(Xe.keyField(),r))}return e.Ie}function Ni(s){const e=At(s);return e.Ee||(e.Ee=Jb(e,Jl(s))),e.Ee}function Jb(s,e){if(s.limitType==="F")return m_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new dc(o.field,h)}));const i=s.endAt?new fc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new fc(s.startAt.position,s.startAt.inclusive):null;return m_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function cd(s,e,i){return new Ac(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function xc(s,e){return Od(Ni(s),Ni(e))&&s.limitType===e.limitType}function M0(s){return`${Vd(Ni(s))}|lt:${s.limitType}`}function Sr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>I0(o))).join(", ")}]`),bc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Or(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Or(o))).join(",")),`Target(${r})`})(Ni(s))}; limitType=${s.limitType})`}function wc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):pt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of Jl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,_,E){const v=f_(d,_,E);return d.inclusive?v<=0:v<0})(r.startAt,Jl(r),o)||r.endAt&&!(function(d,_,E){const v=f_(d,_,E);return d.inclusive?v>=0:v>0})(r.endAt,Jl(r),o))})(s,e)}function $b(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function j0(s){return(e,i)=>{let r=!1;for(const o of Jl(s)){const h=Wb(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function Wb(s,e,i){const r=s.field.isKeyField()?pt.comparator(e.key,i.key):(function(h,d,_){const E=d.data.field(h),v=_.data.field(h);return E!==null&&v!==null?Vr(E,v):vt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return _0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=new fe(pt.comparator);function ra(){return tS}const z0=new fe(pt.comparator);function Yl(...s){let e=z0;for(const i of s)e=e.insert(i.key,i);return e}function U0(s){let e=z0;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ns(){return $l()}function L0(){return $l()}function $l(){return new Os((s=>s.toString()),((s,e)=>s.isEqual(e)))}const eS=new fe(pt.comparator),nS=new ze(pt.comparator);function Ut(...s){let e=nS;for(const i of s)e=e.add(i);return e}const iS=new ze(zt);function aS(){return iS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function k0(s){return{integerValue:""+s}}function sS(s,e){return Ib(e)?k0(e):Md(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this._=void 0}}function rS(s,e,i){return s instanceof mc?(function(o,h){const d={fields:{[T0]:{stringValue:E0},[S0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Nd(h)&&(h=Sc(h)),h&&(d.fields[b0]=h),{mapValue:d}})(i,e):s instanceof ro?P0(s,e):s instanceof lo?q0(s,e):(function(o,h){const d=B0(o,h),_=p_(d)+p_(o.Ae);return ld(d)&&ld(o.Ae)?k0(_):Md(o.serializer,_)})(s,e)}function lS(s,e,i){return s instanceof ro?P0(s,e):s instanceof lo?q0(s,e):i}function B0(s,e){return s instanceof gc?(function(r){return ld(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class mc extends Cc{}class ro extends Cc{constructor(e){super(),this.elements=e}}function P0(s,e){const i=H0(e);for(const r of s.elements)i.some((o=>Mi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class lo extends Cc{constructor(e){super(),this.elements=e}}function q0(s,e){let i=H0(e);for(const r of s.elements)i=i.filter((o=>!Mi(o,r)));return{arrayValue:{values:i}}}class gc extends Cc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function p_(s){return Te(s.integerValue||s.doubleValue)}function H0(s){return Id(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function oS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof ro&&o instanceof ro||r instanceof lo&&o instanceof lo?Ir(r.elements,o.elements,Mi):r instanceof gc&&o instanceof gc?Mi(r.Ae,o.Ae):r instanceof mc&&o instanceof mc})(s.transform,e.transform)}class uS{constructor(e,i){this.version=e,this.transformResults=i}}class li{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Rc{}function G0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new jd(s.key,li.none()):new uo(s.key,s.data,li.none());{const i=s.data,r=yn.empty();let o=new ze(Xe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Wa(s.key,r,new Rn(o.toArray()),li.none())}}function cS(s,e,i){s instanceof uo?(function(o,h,d){const _=o.value.clone(),E=__(o.fieldTransforms,h,d.transformResults);_.setAll(E),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):s instanceof Wa?(function(o,h,d){if(!ec(o.precondition,h))return void h.convertToUnknownDocument(d.version);const _=__(o.fieldTransforms,h,d.transformResults),E=h.data;E.setAll(F0(o)),E.setAll(_),h.convertToFoundDocument(d.version,E).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Wl(s,e,i,r){return s instanceof uo?(function(h,d,_,E){if(!ec(h.precondition,d))return _;const v=h.value.clone(),S=v_(h.fieldTransforms,E,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof Wa?(function(h,d,_,E){if(!ec(h.precondition,d))return _;const v=v_(h.fieldTransforms,E,d),S=d.data;return S.setAll(F0(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(h,d,_){return ec(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(s,e,i)}function hS(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=B0(r.transform,o||null);h!=null&&(i===null&&(i=yn.empty()),i.set(r.field,h))}return i||null}function y_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ir(r,o,((h,d)=>oS(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class uo extends Rc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Wa extends Rc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function F0(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function __(s,e,i){const r=new Map;Xt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,_=e.data.field(h.field);r.set(h.field,lS(d,_,i[o]))}return r}function v_(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,rS(h,d,e))}return r}class jd extends Rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fS extends Rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&cS(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Wl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Wl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=L0();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let _=this.applyToLocalView(d,h.mutatedFields);_=i.has(o.key)?null:_;const E=G0(d,_);E!==null&&r.set(o.key,E),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ut())}isEqual(e){return this.batchId===e.batchId&&Ir(this.mutations,e.mutations,((i,r)=>y_(i,r)))&&Ir(this.baseMutations,e.baseMutations,((i,r)=>y_(i,r)))}}class zd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return eS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new zd(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,Bt;function pS(s){switch(s){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function Q0(s){if(s===void 0)return sa("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ie.OK:return J.OK;case Ie.CANCELLED:return J.CANCELLED;case Ie.UNKNOWN:return J.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return J.INTERNAL;case Ie.UNAVAILABLE:return J.UNAVAILABLE;case Ie.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ie.NOT_FOUND:return J.NOT_FOUND;case Ie.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ie.ABORTED:return J.ABORTED;case Ie.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ie.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:s})}}(Bt=Ie||(Ie={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new Ha([4294967295,4294967295],0);function E_(s){const e=yS().encode(s),i=new l0;return i.update(e),new Uint8Array(i.digest())}function T_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ha([i,r],0),new Ha([o,h],0)]}class Ud{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Xl(`Invalid padding: ${i}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ha.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ha.fromNumber(r)));return o.compare(_S)===1&&(o=new Ha([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=E_(e),[r,o]=T_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ud(h,o,i);return r.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const i=E_(e),[r,o]=T_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,co.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Dc(Tt.min(),o,new fe(zt),ra(),Ut())}}class co{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new co(r,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Y0{constructor(e,i){this.targetId=e,this.Ce=i}}class X0{constructor(e,i,r=Ze.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class b_{constructor(){this.ve=0,this.Fe=S_(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ut(),i=Ut(),r=Ut();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:vt(38017,{changeType:h})}})),new co(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=S_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vS{constructor(e){this.Ge=e,this.ze=new Map,this.je=ra(),this.Je=Qu(),this.He=Qu(),this.Ye=new fe(zt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ud(h))if(r===0){const d=new pt(h.path);this.et(i,d,tn.newNoDocument(d,Tt.min()))}else Xt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const _=this.ut(e),E=_?this.ct(_,e,d):1;if(E!==0){this.it(i);const v=E===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,_;try{d=Xa(r).toUint8Array()}catch(E){if(E instanceof v0)return Nr("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw E}try{_=new Ud(d,o,h)}catch(E){return Nr(E instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",E),null}return _.ge===0?null:_}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(_)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const _=this.ot(d);if(_){if(h.current&&ud(_.target)){const E=new pt(_.target.path);this.It(E).has(d)||this.Et(d,E)||this.et(d,E,tn.newNoDocument(E,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Ut();this.He.forEach(((h,d)=>{let _=!0;d.forEachWhile((E=>{const v=this.ot(E);return!v||v.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Dc(e,i,this.Ye,this.je,r);return this.je=ra(),this.Je=Qu(),this.He=Qu(),this.Ye=new fe(zt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new b_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new ze(zt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new ze(zt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Qu(){return new fe(pt.comparator)}function S_(){return new fe(pt.comparator)}const ES={asc:"ASCENDING",desc:"DESCENDING"},TS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bS={and:"AND",or:"OR"};class SS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hd(s,e){return s.useProto3Json||bc(e)?e:{value:e}}function pc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function AS(s,e){return pc(s,e.toTimestamp())}function Ii(s){return Xt(!!s,49232),Tt.fromTimestamp((function(i){const r=Ya(i);return new oe(r.seconds,r.nanos)})(s))}function Ld(s,e){return fd(s,e).canonicalString()}function fd(s,e){const i=(function(o){return new le(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Z0(s){const e=le.fromString(s);return Xt(ev(e),10190,{key:e.toString()}),e}function dd(s,e){return Ld(s.databaseId,e.path)}function Xf(s,e){const i=Z0(e);if(i.get(1)!==s.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt($0(i))}function J0(s,e){return Ld(s.databaseId,e)}function xS(s){const e=Z0(s);return e.length===4?le.emptyPath():$0(e)}function md(s){return new le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function $0(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function A_(s,e,i){return{name:dd(s,e),fields:i.value.mapValue.fields}}function wS(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:vt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(v,S){return v.useProto3Json?(Xt(S===void 0||typeof S=="string",58123),Ze.fromBase64String(S||"")):(Xt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ze.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(v){const S=v.code===void 0?J.UNKNOWN:Q0(v.code);return new lt(S,v.message||"")})(d);i=new X0(r,o,h,_||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Xf(s,r.document.name),h=Ii(r.document.updateTime),d=r.document.createTime?Ii(r.document.createTime):Tt.min(),_=new yn({mapValue:{fields:r.document.fields}}),E=tn.newFoundDocument(o,h,d,_),v=r.targetIds||[],S=r.removedTargetIds||[];i=new nc(v,S,E.key,E)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Xf(s,r.document),h=r.readTime?Ii(r.readTime):Tt.min(),d=tn.newNoDocument(o,h),_=r.removedTargetIds||[];i=new nc([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Xf(s,r.document),h=r.removedTargetIds||[];i=new nc([],h,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new gS(o,h),_=r.targetId;i=new Y0(_,d)}}return i}function CS(s,e){let i;if(e instanceof uo)i={update:A_(s,e.key,e.value)};else if(e instanceof jd)i={delete:dd(s,e.key)};else if(e instanceof Wa)i={update:A_(s,e.key,e.data),updateMask:zS(e.fieldMask)};else{if(!(e instanceof fS))return vt(16599,{Vt:e.type});i={verify:dd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const _=d.transform;if(_ instanceof mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof gc)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw vt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:AS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)})(s,e.precondition)),i}function RS(s,e){return s&&s.length>0?(Xt(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?Ii(o.updateTime):Ii(h);return d.isEqual(Tt.min())&&(d=Ii(h)),new uS(d,o.transformResults||[])})(i,e)))):[]}function DS(s,e){return{documents:[J0(s,e.path)]}}function NS(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=J0(s,o);const h=(function(v){if(v.length!==0)return tv(ji.create(v,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((S=>(function(N){return{field:Ar(N.field),direction:OS(N.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const _=hd(s,e.limit);return _!==null&&(i.structuredQuery.limit=_),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function IS(s){let e=xS(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Xt(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=(function(w){const N=W0(w);return N instanceof ji&&D0(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((N=>(function(Z){return new dc(xr(Z.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(i.orderBy));let _=null;i.limit&&(_=(function(w){let N;return N=typeof w=="object"?w.value:w,bc(N)?null:N})(i.limit));let E=null;i.startAt&&(E=(function(w){const N=!!w.before,G=w.values||[];return new fc(G,N)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const N=!w.before,G=w.values||[];return new fc(G,N)})(i.endAt)),Kb(e,o,d,h,_,"F",E,v)}function VS(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function W0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=xr(i.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=xr(i.unaryFilter.field);return je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=xr(i.unaryFilter.field);return je.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xr(i.unaryFilter.field);return je.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return je.create(xr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ji.create(i.compositeFilter.filters.map((r=>W0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function OS(s){return ES[s]}function MS(s){return TS[s]}function jS(s){return bS[s]}function Ar(s){return{fieldPath:s.canonicalString()}}function xr(s){return Xe.fromServerFormat(s.fieldPath)}function tv(s){return s instanceof je?(function(i){if(i.op==="=="){if(h_(i.value))return{unaryFilter:{field:Ar(i.field),op:"IS_NAN"}};if(c_(i.value))return{unaryFilter:{field:Ar(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(h_(i.value))return{unaryFilter:{field:Ar(i.field),op:"IS_NOT_NAN"}};if(c_(i.value))return{unaryFilter:{field:Ar(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ar(i.field),op:MS(i.op),value:i.value}}})(s):s instanceof ji?(function(i){const r=i.getFilters().map((o=>tv(o)));return r.length===1?r[0]:{compositeFilter:{op:jS(i.op),filters:r}}})(s):vt(54877,{filter:s})}function zS(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function ev(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,i,r,o,h=Tt.min(),d=Tt.min(),_=Ze.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=E}withSequenceNumber(e){return new Ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.yt=e}}function LS(s){const e=IS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.Cn=new BS}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Qa.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Qa.min())}updateCollectionGroup(e,i,r){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class BS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new ze(le.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new ze(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nv=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(nv,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mr(0)}static cr(){return new Mr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="LruGarbageCollector",PS=1048576;function C_([s,e],[i,r]){const o=zt(s,i);return o===0?zt(e,r):o}class qS{constructor(e){this.Ir=e,this.buffer=new ze(C_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();C_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class HS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(w_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){kr(i)?st(w_,"Ignoring IndexedDB error during garbage collection: ",i):await Lr(i)}await this.Vr(3e5)}))}}class GS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(Tc.ce);const r=new qS(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(x_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,_,E,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,_=Date.now(),this.removeTargets(e,r,i)))).next((w=>(h=w,E=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(v=Date.now(),br()<=Pt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${h} targets in `+(E-_)+`ms
	Removed ${w} documents in `+(v-E)+`ms
Total Duration: ${v-S}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:w}))))}}function FS(s,e){return new GS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.changes=new Os((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?K.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Wl(r.mutation,o,Rn.empty(),oe.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ut()){const o=Ns();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Yl();return h.forEach(((_,E)=>{d=d.insert(_,E.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Ns();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ut())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,_)=>{i.set(d,_)}))}))}computeViews(e,i,r,o){let h=ra();const d=$l(),_=(function(){return $l()})();return i.forEach(((E,v)=>{const S=r.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof Wa)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),Wl(S.mutation,v,S.mutation.getFieldMask(),oe.now())):d.set(v.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,h).next((E=>(E.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>_.set(v,new YS(S,d.get(v)??null)))),_)))}recalculateAndSaveOverlays(e,i){const r=$l();let o=new fe(((d,_)=>d-_)),h=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const _ of d)_.keys().forEach((E=>{const v=i.get(E);if(v===null)return;let S=r.get(E)||Rn.empty();S=_.applyToLocalView(v,S),r.set(E,S);const w=(o.get(_.batchId)||Ut()).add(E);o=o.insert(_.batchId,w)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const E=_.getNext(),v=E.key,S=E.value,w=L0();S.forEach((N=>{if(!h.has(N)){const G=G0(i.get(N),r.get(N));G!==null&&w.set(N,G),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,w))}return K.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Zb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):K.resolve(Ns());let _=no,E=h;return d.next((v=>K.forEach(v,((S,w)=>(_<w.largestBatchId&&(_=w.largestBatchId),h.get(S)?K.resolve():this.remoteDocumentCache.getEntry(e,S).next((N=>{E=E.insert(S,N)}))))).next((()=>this.populateOverlays(e,v,h))).next((()=>this.computeViews(e,E,v,Ut()))).next((S=>({batchId:_,changes:U0(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((r=>{let o=Yl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(e,h).next((_=>K.forEach(_,(E=>{const v=(function(w,N){return new Ac(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,E.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,r,o).next((S=>{S.forEach(((w,N)=>{d=d.insert(w,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((E,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,tn.newInvalidDocument(S)))}));let _=Yl();return d.forEach(((E,v)=>{const S=h.get(E);S!==void 0&&Wl(S.mutation,v,Rn.empty(),oe.now()),wc(i,v)&&(_=_.insert(E,v))})),_}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:LS(o.bundledQuery),readTime:Ii(o.readTime)}})(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.overlays=new fe(pt.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ns();return K.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),K.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,i,r){const o=Ns(),h=i.length+1,d=new pt(i.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const E=_.getNext().value,v=E.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&E.largestBatchId>r&&o.set(E.getKey(),E)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new fe(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let S=h.get(v.largestBatchId);S===null&&(S=Ns(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const _=Ns(),E=h.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach(((v,S)=>_.set(v,S))),!(_.size()>=o)););return K.resolve(_)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new mS(i,r));let h=this.qr.get(i);h===void 0&&(h=Ut(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this.Qr=new ze(Be.$r),this.Ur=new ze(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Be(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Be(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new pt(new le([])),r=new Be(i,e),o=new Be(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new le([])),r=new Be(i,e),o=new Be(i,e+1);let h=Ut();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Be(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Be{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||zt(e.Yr,i.Yr)}static Kr(e,i){return zt(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(Be.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new dS(h,i,r,o);this.mutationQueue.push(d);for(const _ of o)this.Zr=this.Zr.add(new Be(_.key,h)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Dd:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const _=this.Xr(d.Yr);h.push(_)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new ze(zt);return i.forEach((o=>{const h=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(_=>{r=r.add(_.Yr)}))})),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;pt.isDocumentKey(h)||(h=h.child(""));const d=new Be(new pt(h),0);let _=new ze(zt);return this.Zr.forEachWhile((E=>{const v=E.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(_=_.add(E.Yr)),!0)}),d),K.resolve(this.ti(_))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(i.mutations,(o=>{const h=new Be(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Be(i,0),o=this.Zr.firstAfterOrEqual(r);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.ri=e,this.docs=(function(){return new fe(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return K.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(e,i){let r=ra();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():tn.newInvalidDocument(o))})),K.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=ra();const d=i.path,_=new pt(d.child("__id-9223372036854775808__")),E=this.docs.getIteratorFrom(_);for(;E.hasNext();){const{key:v,value:{document:S}}=E.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Cb(wb(S),r)<=0||(o.has(S.key)||wc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,r,o){vt(9500)}ii(e,i){return K.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new tA(this)}getSize(e){return K.resolve(this.size)}}class tA extends QS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.persistence=e,this.si=new Os((i=>Vd(i)),Od),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new kd,this.targetCount=0,this.ai=Mr.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Mr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,_)=>{_.sequenceNumber<=i&&r.get(_.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),K.waitFor(h).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return K.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),K.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return K.resolve(r)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,i){this.ui={},this.overlays={},this.ci=new Tc(0),this.li=!1,this.li=!0,this.hi=new JS,this.referenceDelegate=e(this),this.Pi=new eA(this),this.indexManager=new kS,this.remoteDocumentCache=(function(o){return new WS(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new US(i),this.Ii=new KS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ZS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new $S(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){st("MemoryPersistence","Starting transaction:",e);const o=new nA(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return K.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class nA extends Db{constructor(e){super(),this.currentSequenceNumber=e}}class Bd{constructor(e){this.persistence=e,this.Ri=new kd,this.Vi=null}static mi(e){return new Bd(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),K.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(r=>{const o=pt.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class yc{constructor(e,i){this.persistence=e,this.pi=new Os((r=>Vb(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=FS(this,i)}static mi(e,i){return new yc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return K.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?K.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((_=>{_||(r++,h.removeEntry(d,Tt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Wu(e.data.value)),i}br(e,i,r){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return K.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ut(),o=Ut();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Pd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XT()?8:Nb(QT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new iA;return this.Ss(e,i,d).next((_=>{if(h.result=_,this.Vs)return this.bs(e,i,d,_.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(br()<=Pt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Sr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(br()<=Pt.DEBUG&&st("QueryEngine","Query:",Sr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(br()<=Pt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Sr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(i))):K.resolve())}ys(e,i){if(g_(i))return K.resolve(null);let r=Ni(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=cd(i,null,"F"),r=Ni(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Ut(...h);return this.ps.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,r).next((E=>{const v=this.Ds(i,_);return this.Cs(i,v,d,E.readTime)?this.ys(e,cd(i,null,"F")):this.vs(e,v,i,E)}))))})))))}ws(e,i,r,o){return g_(i)||o.isEqual(Tt.min())?K.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?K.resolve(null):(br()<=Pt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Sr(i)),this.vs(e,d,i,xb(o,no)).next((_=>_)))}))}Ds(e,i){let r=new ze(j0(e));return i.forEach(((o,h)=>{wc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return br()<=Pt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Sr(i)),this.ps.getDocumentsMatchingQuery(e,i,Qa.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="LocalStore",sA=3e8;class rA{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new fe(zt),this.xs=new Os((h=>Vd(h)),Od),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function lA(s,e,i,r){return new rA(s,e,i,r)}async function av(s,e){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],_=[];let E=Ut();for(const v of o){d.push(v.batchId);for(const S of v.mutations)E=E.add(S.key)}for(const v of h){_.push(v.batchId);for(const S of v.mutations)E=E.add(S.key)}return i.localDocuments.getDocuments(r,E).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:_})))}))}))}function oA(s,e){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(_,E,v,S){const w=v.batch,N=w.keys();let G=K.resolve();return N.forEach((Z=>{G=G.next((()=>S.getEntry(E,Z))).next(($=>{const W=v.docVersions.get(Z);Xt(W!==null,48541),$.version.compareTo(W)<0&&(w.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),S.addEntry($)))}))})),G.next((()=>_.mutationQueue.removeMutationBatch(E,w)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(_){let E=Ut();for(let v=0;v<_.mutationResults.length;++v)_.mutationResults[v].transformResults.length>0&&(E=E.add(_.batch.mutations[v].key));return E})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function sv(s){const e=At(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function uA(s,e){const i=At(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const _=[];e.targetChanges.forEach(((S,w)=>{const N=o.get(w);if(!N)return;_.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,w))));let G=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(Ze.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,r)),o=o.insert(w,G),(function($,W,_t){return $.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=sA?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0})(N,G,S)&&_.push(i.Pi.updateTargetData(h,G))}));let E=ra(),v=Ut();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),_.push(cA(h,d,e.documentUpdates).next((S=>{E=S.ks,v=S.qs}))),!r.isEqual(Tt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((w=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));_.push(S)}return K.waitFor(_).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,E,v))).next((()=>E))})).then((h=>(i.Ms=o,h)))}function cA(s,e,i){let r=Ut(),o=Ut();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=ra();return i.forEach(((_,E)=>{const v=h.get(_);E.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(_)),E.isNoDocument()&&E.version.isEqual(Tt.min())?(e.removeEntry(_,E.readTime),d=d.insert(_,E)):!v.isValidDocument()||E.version.compareTo(v.version)>0||E.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(E),d=d.insert(_,E)):st(qd,"Ignoring outdated watch update for ",_,". Current version:",v.version," Watch version:",E.version)})),{ks:d,qs:o}}))}function hA(s,e){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Dd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fA(s,e){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,K.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Ba(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function gd(s,e,i){const r=At(s),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!kr(d))throw d;st(qd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function R_(s,e,i){const r=At(s);let o=Tt.min(),h=Ut();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(E,v,S){const w=At(E),N=w.xs.get(S);return N!==void 0?K.resolve(w.Ms.get(N)):w.Pi.getTargetData(v,S)})(r,d,Ni(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,_.targetId).next((E=>{h=E}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:Ut()))).next((_=>(dA(r,$b(e),_),{documents:_,Qs:h})))))}function dA(s,e,i){let r=s.Os.get(e)||Tt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class D_{constructor(){this.activeTargetIds=aS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mA{constructor(){this.Mo=new D_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new D_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="ConnectivityMonitor";class I_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(N_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(N_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function pd(){return Yu===null?Yu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="RestConnection",pA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===cc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=pd(),_=this.zo(e,i.toUriEncodedString());st(Kf,`Sending RPC '${e}' ${d}:`,_,r);const E={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(E,o,h);const{host:v}=new URL(_),S=Ad(v);return this.Jo(e,_,E,r,S).then((w=>(st(Kf,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Nr(Kf,`RPC '${e}' ${d} failed with error: `,w,"url: ",_,"request:",r),w}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ur})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=pA[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class vA extends yA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=pd();return new Promise(((_,E)=>{const v=new o0;v.setWithCredentials(!0),v.listenOnce(u0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case $u.NO_ERROR:const w=v.getResponseJson();st($e,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),_(w);break;case $u.TIMEOUT:st($e,`RPC '${e}' ${d} timed out`),E(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const N=v.getStatus();if(st($e,`RPC '${e}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G==null?void 0:G.error;if(Z&&Z.status&&Z.message){const $=(function(_t){const gt=_t.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(gt)>=0?gt:J.UNKNOWN})(Z.status);E(new lt($,Z.message))}else E(new lt(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else E(new lt(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{st($e,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);st($e,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=pd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=f0(),_=h0(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(E.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(E.useFetchStreams=!0),this.jo(E.initMessageHeaders,i,r),E.encodeInitMessageHeaders=!0;const S=h.join("");st($e,`Creating RPC '${e}' stream ${o}: ${S}`,E);const w=d.createWebChannel(S,E);this.I_(w);let N=!1,G=!1;const Z=new _A({Yo:W=>{G?st($e,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(N||(st($e,`Opening RPC '${e}' stream ${o} transport.`),w.open(),N=!0),st($e,`RPC '${e}' stream ${o} sending:`,W),w.send(W))},Zo:()=>w.close()}),$=(W,_t,gt)=>{W.listen(_t,(ct=>{try{gt(ct)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return $(w,Ql.EventType.OPEN,(()=>{G||(st($e,`RPC '${e}' stream ${o} transport opened.`),Z.o_())})),$(w,Ql.EventType.CLOSE,(()=>{G||(G=!0,st($e,`RPC '${e}' stream ${o} transport closed`),Z.a_(),this.E_(w))})),$(w,Ql.EventType.ERROR,(W=>{G||(G=!0,Nr($e,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),Z.a_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),$(w,Ql.EventType.MESSAGE,(W=>{var _t;if(!G){const gt=W.data[0];Xt(!!gt,16349);const ct=gt,ht=(ct==null?void 0:ct.error)||((_t=ct[0])==null?void 0:_t.error);if(ht){st($e,`RPC '${e}' stream ${o} received error:`,ht);const Dt=ht.status;let nt=(function(R){const j=Ie[R];if(j!==void 0)return Q0(j)})(Dt),C=ht.message;nt===void 0&&(nt=J.INTERNAL,C="Unknown error status: "+Dt+" with message "+ht.message),G=!0,Z.a_(new lt(nt,C)),w.close()}else st($e,`RPC '${e}' stream ${o} received:`,gt),Z.u_(gt)}})),$(_,c0.STAT_EVENT,(W=>{W.stat===ad.PROXY?st($e,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===ad.NOPROXY&&st($e,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(s){return new SS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="PersistentStream";class lv{constructor(e,i,r,o,h,d,_,E){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=E,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(sa(i.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new lt(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(V_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(st(V_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EA extends lv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=wS(this.serializer,e),r=(function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Ii(d.readTime):Tt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=md(this.serializer),i.addTarget=(function(h,d){let _;const E=d.target;if(_=ud(E)?{documents:DS(h,E)}:{query:NS(h,E).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=K0(h,d.resumeToken);const v=hd(h,d.expectedCount);v!==null&&(_.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){_.readTime=pc(h,d.snapshotVersion.toTimestamp());const v=hd(h,d.expectedCount);v!==null&&(_.expectedCount=v)}return _})(this.serializer,e);const r=VS(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=md(this.serializer),i.removeTarget=e,this.q_(i)}}class TA extends lv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=RS(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=md(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>CS(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{}class SA extends bA{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,fd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(J.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.Ho(e,fd(i,r),o,d,_,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sa(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class xA{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ms(this)&&(st(Vs,"Restarting streams for network reachability change."),await(async function(E){const v=At(E);v.Ea.add(4),await ho(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Ic(v)})(this))}))})),this.Ra=new AA(r,o)}}async function Ic(s){if(Ms(s))for(const e of s.da)await e(!0)}async function ho(s){for(const e of s.da)await e(!1)}function ov(s,e){const i=At(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Qd(i)?Fd(i):Br(i).O_()&&Gd(i,e))}function Hd(s,e){const i=At(s),r=Br(i);i.Ia.delete(e),r.O_()&&uv(i,e),i.Ia.size===0&&(r.O_()?r.L_():Ms(i)&&i.Ra.set("Unknown"))}function Gd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Br(s).Y_(e)}function uv(s,e){s.Va.Ue(e),Br(s).Z_(e)}function Fd(s){s.Va=new vS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Br(s).start(),s.Ra.ua()}function Qd(s){return Ms(s)&&!Br(s).x_()&&s.Ia.size>0}function Ms(s){return At(s).Ea.size===0}function cv(s){s.Va=void 0}async function wA(s){s.Ra.set("Online")}async function CA(s){s.Ia.forEach(((e,i)=>{Gd(s,e)}))}async function RA(s,e){cv(s),Qd(s)?(s.Ra.ha(e),Fd(s)):s.Ra.set("Unknown")}async function DA(s,e,i){if(s.Ra.set("Online"),e instanceof X0&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const _ of h.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.Va.removeTarget(_))})(s,e)}catch(r){st(Vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _c(s,r)}else if(e instanceof nc?s.Va.Ze(e):e instanceof Y0?s.Va.st(e):s.Va.tt(e),!i.isEqual(Tt.min()))try{const r=await sv(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const _=h.Va.Tt(d);return _.targetChanges.forEach(((E,v)=>{if(E.resumeToken.approximateByteSize()>0){const S=h.Ia.get(v);S&&h.Ia.set(v,S.withResumeToken(E.resumeToken,d))}})),_.targetMismatches.forEach(((E,v)=>{const S=h.Ia.get(E);if(!S)return;h.Ia.set(E,S.withResumeToken(Ze.EMPTY_BYTE_STRING,S.snapshotVersion)),uv(h,E);const w=new Ba(S.target,E,v,S.sequenceNumber);Gd(h,w)})),h.remoteSyncer.applyRemoteEvent(_)})(s,i)}catch(r){st(Vs,"Failed to raise snapshot:",r),await _c(s,r)}}async function _c(s,e,i){if(!kr(e))throw e;s.Ea.add(1),await ho(s),s.Ra.set("Offline"),i||(i=()=>sv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Vs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ic(s)}))}function hv(s,e){return e().catch((i=>_c(s,i,e)))}async function Vc(s){const e=At(s),i=Za(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dd;for(;NA(e);)try{const o=await hA(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,IA(e,o)}catch(o){await _c(e,o)}fv(e)&&dv(e)}function NA(s){return Ms(s)&&s.Ta.length<10}function IA(s,e){s.Ta.push(e);const i=Za(s);i.O_()&&i.X_&&i.ea(e.mutations)}function fv(s){return Ms(s)&&!Za(s).x_()&&s.Ta.length>0}function dv(s){Za(s).start()}async function VA(s){Za(s).ra()}async function OA(s){const e=Za(s);for(const i of s.Ta)e.ea(i.mutations)}async function MA(s,e,i){const r=s.Ta.shift(),o=zd.from(r,e,i);await hv(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Vc(s)}async function jA(s,e){e&&Za(s).X_&&await(async function(r,o){if((function(d){return pS(d)&&d!==J.ABORTED})(o.code)){const h=r.Ta.shift();Za(r).B_(),await hv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Vc(r)}})(s,e),fv(s)&&dv(s)}async function O_(s,e){const i=At(s);i.asyncQueue.verifyOperationInProgress(),st(Vs,"RemoteStore received new credentials");const r=Ms(i);i.Ea.add(3),await ho(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ic(i)}async function zA(s,e){const i=At(s);e?(i.Ea.delete(2),await Ic(i)):e||(i.Ea.add(2),await ho(i),i.Ra.set("Unknown"))}function Br(s){return s.ma||(s.ma=(function(i,r,o){const h=At(i);return h.sa(),new EA(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:wA.bind(null,s),t_:CA.bind(null,s),r_:RA.bind(null,s),H_:DA.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Qd(s)?Fd(s):s.Ra.set("Unknown")):(await s.ma.stop(),cv(s))}))),s.ma}function Za(s){return s.fa||(s.fa=(function(i,r,o){const h=At(i);return h.sa(),new TA(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:VA.bind(null,s),r_:jA.bind(null,s),ta:OA.bind(null,s),na:MA.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Vc(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Vs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,_=new Yd(e,i,d,o,h);return _.start(r),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xd(s,e){if(sa("AsyncQueue",`${e}: ${s}`),kr(s))return new lt(J.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{static emptySet(e){return new Cr(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||pt.comparator(i.key,r.key):(i,r)=>pt.comparator(i.key,r.key),this.keyedMap=Yl(),this.sortedSet=new fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Cr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Cr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.ga=new fe(pt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class jr{constructor(e,i,r,o,h,d,_,E,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=E,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((_=>{d.push({type:0,doc:_})})),new jr(e,i,Cr.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LA{constructor(){this.queries=j_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=At(i),h=o.queries;o.queries=j_(),h.forEach(((d,_)=>{for(const E of _.Sa)E.onError(r)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function j_(){return new Os((s=>M0(s)),xc)}async function kA(s,e){const i=At(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new UA,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const _=Xd(d,`Initialization of query '${Sr(e.query)}' failed`);return void e.onError(_)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Kd(i)}async function BA(s,e){const i=At(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function PA(s,e){const i=At(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const _ of d.Sa)_.Fa(o)&&(r=!0);d.wa=o}}r&&Kd(i)}function qA(s,e,i){const r=At(s),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function Kd(s){s.Ca.forEach((e=>{e.next()}))}var yd,z_;(z_=yd||(yd={})).Ma="default",z_.Cache="cache";class HA{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new jr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.key=e}}class gv{constructor(e){this.key=e}}class GA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=j0(e),this.tu=new Cr(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new M_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,_=!1;const E=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const N=o.get(S),G=wc(this.query,w)?w:null,Z=!!N&&this.mutatedKeys.has(N.key),$=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;N&&G?N.data.isEqual(G.data)?Z!==$&&(r.track({type:3,doc:G}),W=!0):this.su(N,G)||(r.track({type:2,doc:G}),W=!0,(E&&this.eu(G,E)>0||v&&this.eu(G,v)<0)&&(_=!0)):!N&&G?(r.track({type:0,doc:G}),W=!0):N&&!G&&(r.track({type:1,doc:N}),W=!0,(E||v)&&(_=!0)),W&&(G?(d=d.add(G),h=$?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:_,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(G,Z){const $=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:W})}};return $(G)-$(Z)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(r),o=o??!1;const _=i&&!o?this._u():[],E=this.Xa.size===0&&this.current&&!o?1:0,v=E!==this.Za;return this.Za=E,d.length!==0||v?{snapshot:new jr(this.query,e.tu,h,d,e.mutatedKeys,E===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new gv(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new mv(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ut();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return jr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zd="SyncEngine";class FA{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class QA{constructor(e){this.key=e,this.hu=!1}}class YA{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Os((_=>M0(_)),xc),this.Iu=new Map,this.Eu=new Set,this.du=new fe(pt.comparator),this.Au=new Map,this.Ru=new kd,this.Vu={},this.mu=new Map,this.fu=Mr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XA(s,e,i=!0){const r=Tv(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await pv(r,e,i,!0),o}async function KA(s,e){const i=Tv(s);await pv(i,e,!0,!1)}async function pv(s,e,i,r){const o=await fA(s.localStore,Ni(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let _;return r&&(_=await ZA(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&ov(s.remoteStore,o),_}async function ZA(s,e,i,r,o){s.pu=(w,N,G)=>(async function($,W,_t,gt){let ct=W.view.ru(_t);ct.Cs&&(ct=await R_($.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,ct))));const ht=gt&&gt.targetChanges.get(W.targetId),Dt=gt&&gt.targetMismatches.get(W.targetId)!=null,nt=W.view.applyChanges(ct,$.isPrimaryClient,ht,Dt);return L_($,W.targetId,nt.au),nt.snapshot})(s,w,N,G);const h=await R_(s.localStore,e,!0),d=new GA(e,h.Qs),_=d.ru(h.documents),E=co.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),v=d.applyChanges(_,s.isPrimaryClient,E);L_(s,i,v.au);const S=new FA(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function JA(s,e,i){const r=At(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!xc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await gd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Hd(r.remoteStore,o.targetId),_d(r,o.targetId)})).catch(Lr)):(_d(r,o.targetId),await gd(r.localStore,o.targetId,!0))}async function $A(s,e){const i=At(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Hd(i.remoteStore,r.targetId))}async function WA(s,e,i){const r=r2(s);try{const o=await(function(d,_){const E=At(d),v=oe.now(),S=_.reduce(((G,Z)=>G.add(Z.key)),Ut());let w,N;return E.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=ra(),$=Ut();return E.Ns.getEntries(G,S).next((W=>{Z=W,Z.forEach(((_t,gt)=>{gt.isValidDocument()||($=$.add(_t))}))})).next((()=>E.localDocuments.getOverlayedDocuments(G,Z))).next((W=>{w=W;const _t=[];for(const gt of _){const ct=hS(gt,w.get(gt.key).overlayedDocument);ct!=null&&_t.push(new Wa(gt.key,ct,w0(ct.value.mapValue),li.exists(!0)))}return E.mutationQueue.addMutationBatch(G,v,_t,_)})).next((W=>{N=W;const _t=W.applyToLocalDocumentSet(w,$);return E.documentOverlayCache.saveOverlays(G,W.batchId,_t)}))})).then((()=>({batchId:N.batchId,changes:U0(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,_,E){let v=d.Vu[d.currentUser.toKey()];v||(v=new fe(zt)),v=v.insert(_,E),d.Vu[d.currentUser.toKey()]=v})(r,o.batchId,i),await fo(r,o.changes),await Vc(r.remoteStore)}catch(o){const h=Xd(o,"Failed to persist write");i.reject(h)}}async function yv(s,e){const i=At(s);try{const r=await uA(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Xt(d.hu,14607):o.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await fo(i,r,e)}catch(r){await Lr(r)}}function U_(s,e,i){const r=At(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const E=At(d);E.onlineState=_;let v=!1;E.queries.forEach(((S,w)=>{for(const N of w.Sa)N.va(_)&&(v=!0)})),v&&Kd(E)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function t2(s,e,i){const r=At(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new fe(pt.comparator);d=d.insert(h,tn.newNoDocument(h,Tt.min()));const _=Ut().add(h),E=new Dc(Tt.min(),new Map,new fe(zt),d,_);await yv(r,E),r.du=r.du.remove(h),r.Au.delete(e),Jd(r)}else await gd(r.localStore,e,!1).then((()=>_d(r,e,i))).catch(Lr)}async function e2(s,e){const i=At(s),r=e.batch.batchId;try{const o=await oA(i.localStore,e);vv(i,r,null),_v(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await fo(i,o)}catch(o){await Lr(o)}}async function n2(s,e,i){const r=At(s);try{const o=await(function(d,_){const E=At(d);return E.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let S;return E.mutationQueue.lookupMutationBatch(v,_).next((w=>(Xt(w!==null,37113),S=w.keys(),E.mutationQueue.removeMutationBatch(v,w)))).next((()=>E.mutationQueue.performConsistencyCheck(v))).next((()=>E.documentOverlayCache.removeOverlaysForBatchId(v,S,_))).next((()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S))).next((()=>E.localDocuments.getDocuments(v,S)))}))})(r.localStore,e);vv(r,e,i),_v(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await fo(r,o)}catch(o){await Lr(o)}}function _v(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function vv(s,e,i){const r=At(s);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function _d(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Ev(s,r)}))}function Ev(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Hd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Jd(s))}function L_(s,e,i){for(const r of i)r instanceof mv?(s.Ru.addReference(r.key,e),i2(s,r)):r instanceof gv?(st(Zd,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Ev(s,r.key)):vt(19791,{wu:r})}function i2(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(st(Zd,"New document in limbo: "+i),s.Eu.add(r),Jd(s))}function Jd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pt(le.fromString(e)),r=s.fu.next();s.Au.set(r,new QA(i)),s.du=s.du.insert(i,r),ov(s.remoteStore,new Ba(Ni(O0(i.path)),r,"TargetPurposeLimboResolution",Tc.ce))}}async function fo(s,e,i){const r=At(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((_,E)=>{d.push(r.pu(E,e,i).then((v=>{var S;if((v||i)&&r.isPrimaryClient){const w=v?!v.fromCache:(S=i==null?void 0:i.targetChanges.get(E.targetId))==null?void 0:S.current;r.sharedClientState.updateQueryState(E.targetId,w?"current":"not-current")}if(v){o.push(v);const w=Pd.As(E.targetId,v);h.push(w)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(E,v){const S=At(E);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>K.forEach(v,(N=>K.forEach(N.Es,(G=>S.persistence.referenceDelegate.addReference(w,N.targetId,G))).next((()=>K.forEach(N.ds,(G=>S.persistence.referenceDelegate.removeReference(w,N.targetId,G)))))))))}catch(w){if(!kr(w))throw w;st(qd,"Failed to update sequence numbers: "+w)}for(const w of v){const N=w.targetId;if(!w.fromCache){const G=S.Ms.get(N),Z=G.snapshotVersion,$=G.withLastLimboFreeSnapshotVersion(Z);S.Ms=S.Ms.insert(N,$)}}})(r.localStore,h))}async function a2(s,e){const i=At(s);if(!i.currentUser.isEqual(e)){st(Zd,"User change. New user:",e.toKey());const r=await av(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((_=>{_.forEach((E=>{E.reject(new lt(J.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fo(i,r.Ls)}}function s2(s,e){const i=At(s),r=i.Au.get(e);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const _=i.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function Tv(s){const e=At(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t2.bind(null,e),e.Pu.H_=PA.bind(null,e.eventManager),e.Pu.yu=qA.bind(null,e.eventManager),e}function r2(s){const e=At(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n2.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return lA(this.persistence,new aA,e.initialUser,this.serializer)}Cu(e){return new iv(Bd.mi,this.serializer)}Du(e){return new mA}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class l2 extends vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Xt(this.persistence.referenceDelegate instanceof yc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new iv((r=>yc.mi(r,i)),this.serializer)}}class vd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a2.bind(null,this.syncEngine),await zA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LA})()}createDatastore(e){const i=Nc(e.databaseInfo.databaseId),r=(function(h){return new vA(h)})(e.databaseInfo);return(function(h,d,_,E){return new SA(h,d,_,E)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,_){return new xA(r,o,h,d,_)})(this.localStore,this.datastore,e.asyncQueue,(i=>U_(this.syncEngine,i,0)),(function(){return I_.v()?new I_:new gA})())}createSyncEngine(e,i){return(function(o,h,d,_,E,v,S){const w=new YA(o,h,d,_,E,v);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=At(o);st(Vs,"RemoteStore shutting down."),h.Ea.add(5),await ho(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}vd.provider={build:()=>new vd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="FirestoreClient";class u2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=Cd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{st(Ja,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(Ja,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Xd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Jf(s,e){s.asyncQueue.verifyOperationInProgress(),st(Ja,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await av(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function k_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await c2(s);st(Ja,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>O_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>O_(e.remoteStore,o))),s._onlineComponents=e}async function c2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(Ja,"Using user provided OfflineComponentProvider");try{await Jf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Nr("Error using user provided cache. Falling back to memory cache: "+i),await Jf(s,new vc)}}else st(Ja,"Using default OfflineComponentProvider"),await Jf(s,new l2(void 0));return s._offlineComponents}async function bv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(Ja,"Using user provided OnlineComponentProvider"),await k_(s,s._uninitializedComponentsProvider._online)):(st(Ja,"Using default OnlineComponentProvider"),await k_(s,new vd))),s._onlineComponents}function h2(s){return bv(s).then((e=>e.syncEngine))}async function f2(s){const e=await bv(s),i=e.eventManager;return i.onListen=XA.bind(null,e.syncEngine),i.onUnlisten=JA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=KA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=$A.bind(null,e.syncEngine),i}function d2(s,e,i={}){const r=new Ga;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,_,E,v){const S=new o2({next:N=>{S.Nu(),d.enqueueAndForget((()=>BA(h,w))),N.fromCache&&E.source==="server"?v.reject(new lt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),w=new HA(_,S,{includeMetadataChanges:!0,qa:!0});return kA(h,w)})(await f2(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="firestore.googleapis.com",P_=!0;class q_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Av,this.ssl=P_}else this.host=e.host,this.ssl=e.ssl??P_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PS)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ab("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mb;switch(r.type){case"firstParty":return new _b(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=B_.get(i);r&&(st("ComponentProvider","Removing Datastore"),B_.delete(i),r.terminate())})(this),Promise.resolve()}}function m2(s,e,i,r={}){var v;s=oc(s,Oc);const o=Ad(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},_=`${e}:${i}`;o&&(PT(`https://${_}`),FT("Firestore",!0)),h.host!==Av&&h.host!==_&&Nr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E={...h,host:_,ssl:o,emulatorOptions:r};if(!sc(E,d)&&(s._setSettings(E),r.mockUserToken)){let S,w;if(typeof r.mockUserToken=="string")S=r.mockUserToken,w=We.MOCK_USER;else{S=qT(r.mockUserToken,(v=s._app)==null?void 0:v.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new We(N)}s._authCredentials=new gb(new m0(S,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class Ke{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ke(this.firestore,e,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(oo(i,Ke._jsonSchema))return new Ke(e,r||null,new pt(le.fromString(i.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Ve("string",Ke._jsonSchemaVersion),referencePath:Ve("string")};class Fa extends Mc{constructor(e,i,r){super(e,i,O0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new pt(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function Gl(s,e,...i){if(s=ia(s),g0("collection","path",e),s instanceof Oc){const r=le.fromString(e,...i);return n_(r),new Fa(s,null,r)}{if(!(s instanceof Ke||s instanceof Fa))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(le.fromString(e,...i));return n_(r),new Fa(s.firestore,null,r)}}function Xu(s,e,...i){if(s=ia(s),arguments.length===1&&(e=Cd.newId()),g0("doc","path",e),s instanceof Oc){const r=le.fromString(e,...i);return e_(r),new Ke(s,null,new pt(r))}{if(!(s instanceof Ke||s instanceof Fa))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(le.fromString(e,...i));return e_(r),new Ke(s.firestore,s instanceof Fa?s.converter:null,new pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="AsyncQueue";class G_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rv(this,"async_queue_retry"),this._c=()=>{const r=Zf();r&&st(H_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Zf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ga;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kr(e))throw e;st(H_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,sa("INTERNAL UNHANDLED ERROR: ",F_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Yd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:F_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function F_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class $d extends Oc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new G_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G_(e),this._firestoreClient=void 0,await e}}}function g2(s,e){const i=typeof s=="object"?s:eb(),r=typeof s=="string"?s:cc,o=Z1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=kT("firestore");h&&m2(o,...h)}return o}function Wd(s){if(s._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||p2(s),s._firestoreClient}function p2(s){var r,o,h;const e=s._freezeSettings(),i=(function(_,E,v,S){return new jb(_,E,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Sv(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new u2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(_){const E=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(E),_online:E}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Ze.fromBase64String(e))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Fn(Ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oo(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ve("string",Fn._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(oo(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Ve("string",Vi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oo(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Oi(e.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Ve("string",Oi._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=/^__.*__$/;class _2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Wa(e,this.data,this.fieldMask,i,this.fieldTransforms):new uo(e,this.data,i,this.fieldTransforms)}}class xv{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Wa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function wv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:s})}}class em{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new em({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ec(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wv(this.Ac)&&y2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class v2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Nc(e)}Cc(e,i,r,o=!1){return new em({Ac:e,methodName:i,Dc:r,path:Xe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E2(s){const e=s._freezeSettings(),i=Nc(s._databaseId);return new v2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function T2(s,e,i,r,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);nm("Data must be an object, but it was:",d,r);const _=Cv(r,d);let E,v;if(h.merge)E=new Rn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const w of h.mergeFields){const N=Ed(e,w,i);if(!d.contains(N))throw new lt(J.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Dv(S,N)||S.push(N)}E=new Rn(S),v=d.fieldTransforms.filter((w=>E.covers(w.field)))}else E=null,v=d.fieldTransforms;return new _2(new yn(_),E,v)}class zc extends tm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zc}}function b2(s,e,i,r){const o=s.Cc(1,e,i);nm("Data must be an object, but it was:",o,r);const h=[],d=yn.empty();$a(r,((E,v)=>{const S=im(e,E,i);v=ia(v);const w=o.yc(S);if(v instanceof zc)h.push(S);else{const N=Uc(v,w);N!=null&&(h.push(S),d.set(S,N))}}));const _=new Rn(h);return new xv(d,_,o.fieldTransforms)}function S2(s,e,i,r,o,h){const d=s.Cc(1,e,i),_=[Ed(e,r,i)],E=[o];if(h.length%2!=0)throw new lt(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)_.push(Ed(e,h[N])),E.push(h[N+1]);const v=[],S=yn.empty();for(let N=_.length-1;N>=0;--N)if(!Dv(v,_[N])){const G=_[N];let Z=E[N];Z=ia(Z);const $=d.yc(G);if(Z instanceof zc)v.push(G);else{const W=Uc(Z,$);W!=null&&(v.push(G),S.set(G,W))}}const w=new Rn(v);return new xv(S,w,d.fieldTransforms)}function Uc(s,e){if(Rv(s=ia(s)))return nm("Unsupported field value:",e,s),Cv(s,e);if(s instanceof tm)return(function(r,o){if(!wv(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const _ of r){let E=Uc(_,o.wc(d));E==null&&(E={nullValue:"NULL_VALUE"}),h.push(E),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=ia(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=oe.fromDate(r);return{timestampValue:pc(o.serializer,h)}}if(r instanceof oe){const h=new oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pc(o.serializer,h)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:K0(o.serializer,r._byteString)};if(r instanceof Ke){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ld(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Oi)return(function(d,_){return{mapValue:{fields:{[A0]:{stringValue:x0},[hc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw _.Sc("VectorValues must only contain numeric values.");return Md(_.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Rd(r)}`)})(s,e)}function Cv(s,e){const i={};return _0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(s,((r,o)=>{const h=Uc(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function Rv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof oe||s instanceof Vi||s instanceof Fn||s instanceof Ke||s instanceof tm||s instanceof Oi)}function nm(s,e,i){if(!Rv(i)||!p0(i)){const r=Rd(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Ed(s,e,i){if((e=ia(e))instanceof jc)return e._internalPath;if(typeof e=="string")return im(s,e);throw Ec("Field path arguments must be of type string or ",s,!1,void 0,i)}const A2=new RegExp("[~\\*/\\[\\]]");function im(s,e,i){if(e.search(A2)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new jc(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ec(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let E="";return(h||d)&&(E+=" (found",h&&(E+=` in field ${r}`),d&&(E+=` in document ${o}`),E+=")"),new lt(J.INVALID_ARGUMENT,_+s+E)}function Dv(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Iv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class x2 extends Nv{data(){return super.data()}}function Iv(s,e){return typeof e=="string"?im(s,e):e instanceof jc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C2{convertValue(e,i="none"){switch(Ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return $a(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,o,h;const i=(h=(o=(r=e.fields)==null?void 0:r[hc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>Te(d.doubleValue)));return new Oi(i)}convertGeoPoint(e){return new Vi(Te(e.latitude),Te(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Sc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const i=Ya(e);return new oe(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=le.fromString(e);Xt(ev(r),9688,{name:e});const o=new ao(r.get(1),r.get(3)),h=new pt(r.popFirst(5));return o.isEqual(i)||sa(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}class Ku{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rr extends Nv{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Iv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Rr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Rr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rr._jsonSchema={type:Ve("string",Rr._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class ic extends Rr{data(e={}){return super.data(e)}}class Dr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ku(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ic(this._firestore,this._userDataWriter,r.key,r,new Ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const E=new ic(o._firestore,o._userDataWriter,_.doc.key,_.doc,new Ku(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:E,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>h||_.type!==3)).map((_=>{const E=new ic(o._firestore,o._userDataWriter,_.doc.key,_.doc,new Ku(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,S=-1;return _.type!==0&&(v=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),S=d.indexOf(_.doc.key)),{type:D2(_.type),doc:E,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Dr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function D2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}Dr._jsonSchemaVersion="firestore/querySnapshot/1.0",Dr._jsonSchema={type:Ve("string",Dr._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class N2 extends C2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,i)}}function Fl(s){s=oc(s,Mc);const e=oc(s.firestore,$d),i=Wd(e),r=new N2(e);return w2(s._query),d2(i,s._query).then((o=>new Dr(e,r,s,o)))}function I2(s,e){return(function(r,o){const h=new Ga;return r.asyncQueue.enqueueAndForget((async()=>WA(await h2(r),o,h))),h.promise})(Wd(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=E2(e)}set(e,i,r){this._verifyNotCommitted();const o=$f(e,this._firestore),h=R2(o.converter,i,r),d=T2(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,r);return this._mutations.push(d.toMutation(o._key,li.none())),this}update(e,i,r,...o){this._verifyNotCommitted();const h=$f(e,this._firestore);let d;return d=typeof(i=ia(i))=="string"||i instanceof jc?S2(this._dataReader,"WriteBatch.update",h._key,i,r,o):b2(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,li.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=$f(e,this._firestore);return this._mutations=this._mutations.concat(new jd(i._key,li.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $f(s,e){if((s=ia(s)).firestore!==e)throw new lt(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(s){return Wd(s=oc(s,$d)),new V2(s,(e=>I2(s,e)))}(function(e,i=!0){(function(o){Ur=o})(tb),lc(new to("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),_=new $d(new pb(r.getProvider("auth-internal")),new vb(d,r.getProvider("app-check-internal")),(function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(v.options.projectId,S)})(d,o),d);return h={useFetchStreams:i,...h},_._setSettings(h),_}),"PUBLIC").setMultipleInstances(!0)),wr(Jy,$y,e),wr(Jy,$y,"esm2020")})();const Vv={apiKey:"AIzaSyBDzTZ8iQvp-nL1h36uWHIDF1cault9r7k",authDomain:"urban-data-review-197097-9ac83.firebaseapp.com",projectId:"urban-data-review-197097-9ac83",storageBucket:"urban-data-review-197097-9ac83.appspot.com",messagingSenderId:"89716660791",appId:"1:89716660791:web:359babea1d1e53f7ce7db2"};for(const[s,e]of Object.entries(Vv))if(!e)throw new Error(`Missing Firebase config value for: ${s}. Please check your .env file.`);const O2=a0(Vv),Cn=g2(O2),Ov=ne.createContext(void 0),M2=({children:s})=>{const[e,i]=ne.useState([]),[r,o]=ne.useState([]),[h,d]=ne.useState([]),[_,E]=ne.useState([]),[v,S]=ne.useState([]),[w,N]=ne.useState(!0),[G,Z]=ne.useState(null);ne.useEffect(()=>{(async()=>{try{N(!0);const A=await Fl(Gl(Cn,"dataTypes")),dt=await Fl(Gl(Cn,"datasets")),xt=await Fl(Gl(Cn,"categories")),H=await Fl(Gl(Cn,"dataTypeDatasets"));if(!A.empty&&!dt.empty){const it=A.docs.map(I=>I.data()),ot=dt.docs.map(I=>I.data()),ft=xt.docs.map(I=>I.data()),Vt=H.docs.map(I=>I.data());i(it),o(ot),d(ft),E(Vt)}else i(zy),o(Uy),d(Ly),E([]);Z(null)}catch(A){console.error("Failed to load from Firestore, using mock data:",A),i(zy),o(Uy),d(Ly),E([]),Z(null)}finally{N(!1)}})()},[]);const $=(M,A)=>{const dt={id:Date.now(),message:M,type:A};S(xt=>[...xt,dt])},W=M=>{S(A=>A.filter(dt=>dt.id!==M))},_t=async M=>{const A={...M,id:new Date().toISOString(),created_at:new Date().toISOString()};i(dt=>[...dt,A]),$("Data type added successfully","success")},gt=async(M,A)=>{i(dt=>dt.map(xt=>xt.id===M?{...xt,...A}:xt)),$("Data type updated successfully","success")},ct=async M=>{i(A=>A.filter(dt=>dt.id!==M)),$("Data type deleted successfully","success")},ht=async M=>{const A={...M,id:new Date().toISOString(),created_at:new Date().toISOString()};o(dt=>[...dt,A]),$("Dataset added successfully","success")},Dt=async(M,A)=>{o(dt=>dt.map(xt=>xt.id===M?{...xt,...A}:xt)),$("Dataset updated successfully","success")},nt=async M=>{o(A=>A.filter(dt=>dt.id!==M)),$("Dataset deleted successfully","success")},C=async M=>{const A={...M,id:new Date().toISOString()};d(dt=>[...dt,A]),$("Category added successfully","success")},x=async(M,A)=>{d(dt=>dt.map(xt=>xt.id===M?{...xt,...A}:xt)),$("Category updated successfully","success")},R=async M=>{d(A=>A.filter(dt=>dt.id!==M)),$("Category deleted successfully","success")},j=()=>{const M={dataTypes:e,datasets:r,categories:h,dataTypeDatasets:_,exportedAt:new Date().toISOString()},A=JSON.stringify(M,null,2),dt=new Blob([A],{type:"application/json"}),xt=URL.createObjectURL(dt),H=document.createElement("a");H.href=xt,H.download=`urban-data-catalog-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(xt),$("Data exported successfully","success")},O=async M=>new Promise((A,dt)=>{const xt=new FileReader;xt.onload=async H=>{var it;try{console.log("[Import] Starting import process...");const ot=(it=H.target)==null?void 0:it.result;console.log("[Import] File read successfully, parsing JSON...");const ft=JSON.parse(ot);console.log("[Import] JSON parsed successfully");const Vt=[];if(ft.dataTypes||Vt.push("dataTypes"),ft.datasets||Vt.push("datasets"),Vt.length>0)throw new Error(`Invalid data format: missing required fields: ${Vt.join(", ")}. Expected format: { dataTypes: [], datasets: [], categories: [], dataTypeDatasets: [] }`);const I=[];if(Array.isArray(ft.dataTypes)||I.push("dataTypes"),Array.isArray(ft.datasets)||I.push("datasets"),I.length>0)throw new Error(`Invalid data format: the following fields must be arrays: ${I.join(", ")}`);if(ft.categories&&!Array.isArray(ft.categories))throw new Error("Invalid data format: categories must be an array");if(ft.dataTypeDatasets&&!Array.isArray(ft.dataTypeDatasets))throw new Error("Invalid data format: dataTypeDatasets must be an array");const Q=ft.categories||[],tt=ft.dataTypeDatasets||[];console.log(`[Import] Data to import: ${ft.dataTypes.length} dataTypes, ${ft.datasets.length} datasets, ${Q.length} categories, ${tt.length} dataTypeDatasets`);const at=["id","uid","name","category","description","priority","completion_status","minimum_criteria","notes","key_attributes","applicable_standards","iso_indicators","rdls_can_handle","rdls_component","rdls_notes","created_at"];ft.dataTypes.forEach((Lt,Ht)=>{const Oe=at.filter(de=>!(de in Lt));if(Oe.length>0)throw new Error(`Invalid DataType at index ${Ht} (name: "${Lt.name||"unknown"}"): missing required fields: ${Oe.join(", ")}`)});const Et=["id","name","url","description","source_organization","source_type","geographic_coverage","temporal_coverage","format","resolution","access_type","license","is_validated","is_primary_example","quality_notes","used_in_projects","notes","created_at"];if(ft.datasets.forEach((Lt,Ht)=>{const Oe=Et.filter(de=>!(de in Lt));if(Oe.length>0)throw new Error(`Invalid Dataset at index ${Ht} (name: "${Lt.name||"unknown"}"): missing required fields: ${Oe.join(", ")}`)}),Q.length>0){const Lt=["id","name","description"];Q.forEach((Ht,Oe)=>{const de=Lt.filter(rn=>!(rn in Ht));if(de.length>0)throw new Error(`Invalid Category at index ${Oe} (name: "${Ht.name||"unknown"}"): missing required fields: ${de.join(", ")}`)})}if(tt.length>0){const Lt=["id","data_type_id","dataset_id"];tt.forEach((Ht,Oe)=>{const de=Lt.filter(rn=>!(rn in Ht));if(de.length>0)throw new Error(`Invalid DataTypeDataset at index ${Oe}: missing required fields: ${de.join(", ")}`)})}console.log("[Import] Validation complete, starting Firestore operations...");const bt=400,Ot=["dataTypes","datasets","categories","dataTypeDatasets"];console.log("[Import] Deleting existing data...");for(const Lt of Ot){const Ht=await Fl(Gl(Cn,Lt)),Oe=Ht.docs.length;console.log(`[Import] Deleting ${Oe} documents from ${Lt}...`);let de=Zu(Cn),rn=0,Ui=0;for(const ue of Ht.docs)de.delete(ue.ref),rn++,Ui++,rn>=bt&&(console.log(`[Import] Committing batch delete (${Ui}/${Oe})...`),await de.commit(),await new Promise(pe=>setTimeout(pe,100)),de=Zu(Cn),rn=0);rn>0&&(console.log(`[Import] Committing final batch delete for ${Lt} (${Ui}/${Oe})...`),await de.commit(),await new Promise(ue=>setTimeout(ue,100))),console.log(`[Import] Completed deletion of ${Lt}`)}console.log("[Import] Deletion complete, starting data import...");let ae=Zu(Cn),qt=0,zi=ft.dataTypes.length+ft.datasets.length+Q.length+tt.length,In=0;const en=async(Lt=!1)=>{(Lt||qt>=bt)&&qt>0&&(console.log(`[Import] Committing batch (${In}/${zi} operations)...`),await ae.commit(),await new Promise(Ht=>setTimeout(Ht,100)),ae=Zu(Cn),qt=0)};console.log(`[Import] Saving ${ft.dataTypes.length} dataTypes...`);for(const Lt of ft.dataTypes){await en();const Ht=Xu(Cn,"dataTypes",String(Lt.id));ae.set(Ht,Lt),qt++,In++}await en(!0),console.log("[Import] DataTypes saved"),console.log(`[Import] Saving ${ft.datasets.length} datasets...`);for(const Lt of ft.datasets){await en();const Ht=Xu(Cn,"datasets",String(Lt.id));ae.set(Ht,Lt),qt++,In++}await en(!0),console.log("[Import] Datasets saved"),console.log(`[Import] Saving ${Q.length} categories...`);for(const Lt of Q){await en();const Ht=Xu(Cn,"categories",String(Lt.id));ae.set(Ht,Lt),qt++,In++}await en(!0),console.log("[Import] Categories saved"),console.log(`[Import] Saving ${tt.length} dataTypeDatasets...`);for(const Lt of tt){await en();const Ht=Xu(Cn,"dataTypeDatasets",String(Lt.id));ae.set(Ht,Lt),qt++,In++}await en(!0),console.log("[Import] DataTypeDatasets saved"),console.log("[Import] All Firestore operations complete, updating state..."),i(ft.dataTypes),o(ft.datasets),d(Q),E(tt),console.log("[Import] Import completed successfully!"),A()}catch(ot){console.error("[Import] Import failed with error:",ot),ot instanceof SyntaxError?dt(new Error("Invalid JSON file: unable to parse file content")):dt(ot)}},xt.onerror=()=>{console.error("[Import] File read failed"),dt(new Error("Failed to read file"))},xt.readAsText(M)});return p.jsx(Ov.Provider,{value:{dataTypes:e,datasets:r,categories:h,dataTypeDatasets:_,notifications:v,loading:w,error:G,addDataType:_t,updateDataType:gt,deleteDataType:ct,addDataset:ht,updateDataset:Dt,deleteDataset:nt,addCategory:C,updateCategory:x,deleteCategory:R,addNotification:$,clearNotification:W,exportData:j,importData:O},children:s})},Nn=()=>{const s=ne.useContext(Ov);if(s===void 0)throw new Error("useData must be used within a DataProvider");return s},j2=s=>{switch(s.name){case"dashboard":return"Dashboard";case"data-types":return"Data Types";case"data-type-detail":return"Data Type Details";case"data-type-add":return"Add New Data Type";case"data-type-edit":return"Edit Data Type";case"datasets":return"Datasets";case"dataset-detail":return"Dataset Details";case"dataset-add":return"Add New Dataset";case"dataset-edit":return"Edit Dataset";case"categories":return"Categories";case"manage-categories":return"Manage Categories";case"progress-report":return"Progress Report";case"import-export":return"Import / Export";default:return"Urban Data Catalog"}},z2=({currentPage:s})=>p.jsx("header",{className:"bg-white shadow-sm rounded-lg p-4",children:p.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:j2(s)})}),be=({children:s,className:e="",...i})=>p.jsx("div",{className:`bg-white rounded-lg shadow-md p-4 sm:p-6 ${e}`,...i,children:s}),Dn=({children:s,className:e=""})=>p.jsx("h2",{className:`text-xl font-bold text-slate-800 border-b border-slate-200 pb-3 mb-4 ${e}`,children:s}),U2=({className:s="w-6 h-6"})=>p.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),am=({className:s="w-6 h-6"})=>p.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),Mv=({className:s="w-6 h-6 text-green-600"})=>p.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),L2=({className:s="w-6 h-6"})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Td=({className:s="w-6 h-6"})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7l8-4 8 4m-8 4v10"})}),jv=({className:s="w-6 h-6"})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),zv=({className:s="w-6 h-6"})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),Uv=({className:s="w-6 h-6"})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),k2=({className:s="w-6 h-6"})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),Ju=({title:s,value:e,icon:i,onClick:r})=>p.jsx("div",{onClick:r,className:"cursor-pointer group",children:p.jsx(be,{className:"hover:shadow-lg hover:border-blue-500 border-2 border-transparent transition-all",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4",children:i}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-500",children:s}),p.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e})]})]})})}),Q_=({navigate:s})=>{const{dataTypes:e,datasets:i,categories:r}=Nn(),o=e.filter(h=>h.priority==="Essential").length;return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx(Ju,{title:"Total Data Types",value:e.length,icon:p.jsx(jv,{className:"w-6 h-6"}),onClick:()=>s({name:"data-types"})}),p.jsx(Ju,{title:"Total Datasets",value:i.length,icon:p.jsx(Td,{className:"w-6 h-6"}),onClick:()=>s({name:"datasets"})}),p.jsx(Ju,{title:"Total Categories",value:r.length,icon:p.jsx(Uv,{className:"w-6 h-6"}),onClick:()=>s({name:"categories"})}),p.jsx(Ju,{title:"Essential Data Types",value:o,icon:p.jsx(zv,{className:"w-6 h-6"}),onClick:()=>s({name:"progress-report"})})]}),p.jsxs(be,{children:[p.jsx(Dn,{children:"Welcome to the Urban Data Catalog"}),p.jsxs("div",{className:"prose prose-slate max-w-none",children:[p.jsx("p",{children:"This tool is designed to help you manage and track essential urban datasets for your projects. You can:"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Define Data Types:"})," Catalog the specific types of data you need, like Building Footprints or Road Networks."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Link Datasets:"})," Connect these data types to real-world datasets from various sources."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Track Progress:"})," Use the progress report to identify gaps in your data collection."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Manage Categories:"})," Organize your data types into logical groups."]})]}),p.jsx("p",{children:"Use the navigation on the left to get started."})]})]})]})},sm=({text:s,colorClass:e})=>s?p.jsx("span",{className:`inline-block rounded-full px-3 py-1 text-xs font-semibold ${e}`,children:s}):null,Lv=({status:s})=>{const e={[Yn.Complete]:"bg-green-100 text-green-800",[Yn.InProgress]:"bg-yellow-100 text-yellow-800",[Yn.NotStarted]:"bg-red-100 text-red-800"};return p.jsx(sm,{text:s,colorClass:e[s]})},kv=({priority:s})=>{const e={[Qn.Essential]:"bg-red-100 text-red-800",[Qn.Beneficial]:"bg-blue-100 text-blue-800",[Qn.Low]:"bg-gray-100 text-gray-800",[Qn.Unassigned]:"bg-gray-100 text-gray-800"};return p.jsx(sm,{text:s||"N/A",colorClass:e[s]})},B2=({status:s})=>{const e={[gn.Yes]:"bg-green-100 text-green-800",[gn.No]:"bg-red-100 text-red-800",[gn.Partial]:"bg-yellow-100 text-yellow-800",[gn.Check]:"bg-purple-100 text-purple-800",[gn.Unassigned]:"bg-gray-100 text-gray-800"},i={[gn.Yes]:"Yes",[gn.No]:"No",[gn.Partial]:"Partial",[gn.Check]:"Check",[gn.Unassigned]:"N/A"};return p.jsx(sm,{text:i[s],colorClass:e[s]})},P2=({navigate:s,initialCategory:e,initialStatus:i})=>{const{dataTypes:r,categories:o}=Nn(),[h,d]=ne.useState("All"),[_,E]=ne.useState("All"),[v,S]=ne.useState("");ne.useEffect(()=>{d(e||"All")},[e]),ne.useEffect(()=>{E(i||"All")},[i]);const w=ne.useMemo(()=>r.filter(N=>{const G=h==="All"||N.category===h,Z=_==="All"||N.completion_status===_,$=v===""||N.name.toLowerCase().includes(v.toLowerCase())||N.uid.toLowerCase().includes(v.toLowerCase());return G&&Z&&$}),[r,h,_,v]);return p.jsxs(be,{children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Data Types"}),p.jsx("button",{onClick:()=>s({name:"data-type-add"}),className:"bg-button-blue text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors shadow-sm",children:"Add New Data Type"})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4 p-4 bg-slate-50 rounded-lg",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"category-filter",className:"block text-sm font-medium text-gray-700",children:"Category"}),p.jsxs("select",{id:"category-filter",value:h,onChange:N=>d(N.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[p.jsx("option",{value:"All",children:"All Categories"}),o.map(N=>p.jsx("option",{value:N.name,children:N.name},N.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700",children:"Status"}),p.jsxs("select",{id:"status-filter",value:_,onChange:N=>E(N.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[p.jsx("option",{value:"All",children:"All Statuses"}),Object.values(Yn).map(N=>p.jsx("option",{value:N,children:N},N))]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"search-filter",className:"block text-sm font-medium text-gray-700",children:"Search"}),p.jsx("input",{id:"search-filter",type:"text",value:v,onChange:N=>S(N.target.value),placeholder:"by name or UID...",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-100 text-xs text-slate-500 uppercase tracking-wider",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"UID"}),p.jsx("th",{className:"p-3",children:"Name"}),p.jsx("th",{className:"p-3",children:"Category"}),p.jsx("th",{className:"p-3",children:"Priority"}),p.jsx("th",{className:"p-3",children:"Status"})]})}),p.jsxs("tbody",{className:"bg-white divide-y divide-slate-200",children:[w.map(N=>p.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>s({name:"data-type-detail",id:N.id}),children:[p.jsx("td",{className:"p-3 font-mono text-sm text-slate-500",children:N.uid}),p.jsx("td",{className:"p-3 font-medium text-slate-900 text-header-blue hover:text-button-blue",children:N.name}),p.jsx("td",{className:"p-3 text-slate-600",children:N.category}),p.jsx("td",{className:"p-3",children:p.jsx(kv,{priority:N.priority})}),p.jsx("td",{className:"p-3",children:p.jsx(Lv,{status:N.completion_status})})]},N.id)),w.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"text-center p-8 text-slate-500",children:"No data types match the current filters."})})]})]})})]})},ri=({label:s,children:e,fullWidth:i=!1})=>p.jsxs("div",{className:i?"col-span-1 sm:col-span-2":"",children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:s}),p.jsx("div",{className:"mt-1 text-slate-900 prose prose-sm max-w-none",children:e||p.jsx("span",{className:"text-slate-400 italic",children:"Not specified"})})]}),q2=({navigate:s,id:e})=>{const{getDataTypeById:i,getDatasetsForDataType:r}=Nn(),o=i(e),h=r(e);if(!o)return p.jsxs(be,{children:[p.jsx("p",{className:"text-red-500",children:"Data Type not found."}),p.jsx("button",{onClick:()=>s({name:"data-types"}),className:"mt-4 text-button-blue hover:underline",children:" Back to List"})]});const d=_=>{try{const E=JSON.parse(_);if(Array.isArray(E)&&E.length>0)return p.jsx("ul",{className:"list-disc list-inside space-y-1",children:E.map((v,S)=>p.jsx("li",{children:p.jsx("code",{className:"bg-slate-200 text-slate-800 text-xs px-2 py-1 rounded",children:v})},S))})}catch{}return p.jsx("p",{children:_||p.jsx("span",{className:"text-slate-400 italic",children:"Not specified"})})};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("button",{onClick:()=>s({name:"data-types"}),className:"mb-4 text-button-blue hover:underline",children:" Back to Data Types List"}),p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl font-bold text-slate-800",children:[o.name," ",p.jsxs("span",{className:"font-mono text-xl text-slate-500 font-normal",children:["(",o.uid,")"]})]}),p.jsx("p",{className:"mt-1 text-slate-600",children:o.category})]}),p.jsx("button",{onClick:()=>s({name:"data-type-edit",id:o.id}),className:"bg-yellow-500 text-white px-4 py-2 rounded-md hover:bg-yellow-600 transition-colors shadow-sm whitespace-nowrap",children:"Edit Data Type"})]})]}),p.jsxs(be,{children:[p.jsx(Dn,{children:"Core Information"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-6",children:[p.jsx(ri,{label:"Description",fullWidth:!0,children:o.description}),p.jsx(ri,{label:"Priority",children:p.jsx(kv,{priority:o.priority})}),p.jsx(ri,{label:"Completion Status",children:p.jsx(Lv,{status:o.completion_status})}),p.jsx(ri,{label:"Minimum Criteria",fullWidth:!0,children:o.minimum_criteria}),p.jsx(ri,{label:"General Notes",fullWidth:!0,children:o.notes})]})]}),p.jsxs(be,{children:[p.jsx(Dn,{children:"Technical Details"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-6",children:[p.jsx(ri,{label:"Key Attributes",children:d(o.key_attributes)}),p.jsx(ri,{label:"Applicable Standards",children:o.applicable_standards}),p.jsx(ri,{label:"ISO Indicators",children:o.iso_indicators})]})]}),p.jsxs(be,{children:[p.jsx(Dn,{children:"RDLS Integration"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-6",children:[p.jsx(ri,{label:"Can be handled by RDLS?",children:p.jsx(B2,{status:o.rdls_can_handle})}),p.jsx(ri,{label:"RDLS Component",children:o.rdls_component}),p.jsx(ri,{label:"RDLS Notes",fullWidth:!0,children:o.rdls_notes})]})]}),p.jsxs(be,{children:[p.jsxs(Dn,{children:["Linked Datasets (",h.length,")"]}),h.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-100 text-xs text-slate-500 uppercase tracking-wider",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"Name"}),p.jsx("th",{className:"p-3",children:"Source"}),p.jsx("th",{className:"p-3",children:"Format"}),p.jsx("th",{className:"p-3"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:h.map(_=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsxs("td",{className:"p-3",children:[p.jsx("span",{onClick:()=>s({name:"dataset-detail",id:_.id}),className:"font-medium text-slate-900 cursor-pointer hover:text-button-blue",children:_.name}),_.is_primary_example&&p.jsx("span",{className:"ml-2 bg-green-100 text-green-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full",children:"Primary Example"})]}),p.jsx("td",{className:"p-3 text-slate-600",children:_.source_organization}),p.jsx("td",{className:"p-3",children:p.jsx("span",{className:"font-mono bg-slate-200 text-slate-800 text-xs px-2 py-1 rounded",children:_.format})}),p.jsx("td",{className:"p-3 text-right",children:p.jsx("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"text-button-blue hover:underline font-semibold whitespace-nowrap",children:"View Source "})})]},_.id))})]})}):p.jsx("p",{className:"text-slate-500 italic",children:"This data type has not been linked to any datasets yet."})]})]})},Y_=({navigate:s,id:e})=>{var Dt;const{datasets:i,categories:r,getDataTypeById:o,getDatasetsForDataType:h,addDataType:d,updateDataType:_,deleteDataType:E,addNotification:v}=Nn(),S=e!==void 0,[w,N]=ne.useState({uid:"",name:"",category:((Dt=r[0])==null?void 0:Dt.name)||"",description:"",priority:Qn.Unassigned,completion_status:Yn.NotStarted,minimum_criteria:"",notes:"",key_attributes:"[]",applicable_standards:"",iso_indicators:"",rdls_can_handle:gn.Unassigned,rdls_component:"",rdls_notes:""}),[G,Z]=ne.useState(new Set);ne.useEffect(()=>{if(S){const nt=o(e),C=h(e);nt&&(N(nt),Z(new Set(C.map(x=>x.id))))}},[e,S,o,h]);const $=nt=>{const{name:C,value:x}=nt.target;N(R=>({...R,[C]:x}))},W=nt=>{Z(C=>{const x=new Set(C);return x.has(nt)?x.delete(nt):x.add(nt),x})},_t=async nt=>{if(nt.preventDefault(),!w.name||!w.uid){v("Name and UID are required.","error");return}try{S?(await _({dataType:w,linkedDatasetIds:Array.from(G)}),v("Data Type updated successfully!","success"),s({name:"data-type-detail",id:e})):(await d({dataType:w,linkedDatasetIds:Array.from(G)}),v("Data Type added successfully!","success"),s({name:"data-types"}))}catch(C){console.error("Failed to save data type:",C),v("Failed to save data type.","error")}},gt=async()=>{if(S&&w&&window.confirm(`Are you sure you want to delete the data type "${w.name}"? This action cannot be undone.`))try{await E(e),v("Data Type deleted successfully!","success"),s({name:"data-types"})}catch(nt){console.error("Failed to delete data type:",nt),v("Failed to delete data type.","error")}},ct=({children:nt,required:C,label:x,htmlFor:R})=>p.jsxs("div",{children:[p.jsxs("label",{htmlFor:R,className:"block text-sm font-medium text-gray-700",children:[x," ",C&&p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("div",{className:"mt-1",children:nt})]}),ht=S&&e?{name:"data-type-detail",id:e}:{name:"data-types"};return p.jsxs("div",{children:[p.jsx("button",{onClick:()=>s(ht),className:"mb-4 text-button-blue hover:underline",children:" Cancel and Back"}),p.jsxs(be,{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:S?"Edit Data Type":"Add New Data Type"}),p.jsxs("form",{onSubmit:_t,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsx(ct,{label:"Name",htmlFor:"name",required:!0,children:p.jsx("input",{type:"text",id:"name",name:"name",value:w.name,onChange:$,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})}),p.jsx(ct,{label:"UID",htmlFor:"uid",required:!0,children:p.jsx("input",{type:"text",id:"uid",name:"uid",value:w.uid,onChange:$,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"e.g., INF-001"})}),p.jsx(ct,{label:"Category",htmlFor:"category",children:p.jsx("select",{id:"category",name:"category",value:w.category,onChange:$,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",children:r.map(nt=>p.jsx("option",{value:nt.name,children:nt.name},nt.id))})}),p.jsx("div",{className:"md:col-span-3",children:p.jsx(ct,{label:"Description",htmlFor:"description",children:p.jsx("textarea",{id:"description",name:"description",value:w.description,onChange:$,rows:3,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})})}),p.jsx(ct,{label:"Priority",htmlFor:"priority",children:p.jsx("select",{id:"priority",name:"priority",value:w.priority,onChange:$,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",children:Object.values(Qn).map(nt=>p.jsx("option",{value:nt,children:nt},nt))})}),p.jsx(ct,{label:"Completion Status",htmlFor:"completion_status",children:p.jsx("select",{id:"completion_status",name:"completion_status",value:w.completion_status,onChange:$,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",children:Object.values(Yn).map(nt=>p.jsx("option",{value:nt,children:nt},nt))})}),p.jsx("div",{className:"md:col-span-3",children:p.jsx(ct,{label:"Key Attributes (JSON Array)",htmlFor:"key_attributes",children:p.jsx("textarea",{id:"key_attributes",name:"key_attributes",value:w.key_attributes,onChange:$,rows:3,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md font-mono"})})}),p.jsx("div",{className:"md:col-span-3",children:p.jsx(ct,{label:"Notes",htmlFor:"notes",children:p.jsx("textarea",{id:"notes",name:"notes",value:w.notes,onChange:$,rows:3,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Link to Datasets"}),p.jsx("div",{className:"mt-2 border border-gray-200 rounded-md max-h-60 overflow-y-auto",children:p.jsx("div",{className:"divide-y divide-gray-200",children:i.map(nt=>p.jsxs("div",{className:"relative flex items-start p-4",children:[p.jsx("div",{className:"min-w-0 flex-1 text-sm",children:p.jsx("label",{htmlFor:`link-${nt.id}`,className:"font-medium text-gray-700 select-none",children:nt.name})}),p.jsx("div",{className:"ml-3 flex items-center h-5",children:p.jsx("input",{id:`link-${nt.id}`,type:"checkbox",checked:G.has(nt.id),onChange:()=>W(nt.id),className:"focus:ring-button-blue h-4 w-4 text-button-blue border-gray-300 rounded"})})]},nt.id))})})]}),p.jsx("div",{className:"pt-5 border-t border-gray-200",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{children:S&&p.jsx("button",{type:"button",onClick:gt,className:"bg-red-600 text-white py-2 px-4 rounded-md shadow-sm text-sm font-medium hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete Data Type"})}),p.jsxs("div",{className:"flex justify-end gap-4",children:[p.jsx("button",{type:"button",onClick:()=>s(ht),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-button-blue text-white py-2 px-4 rounded-md shadow-sm text-sm font-medium hover:bg-blue-600",children:S?"Save Changes":"Save Data Type"})]})]})})]})]})]})},H2=({navigate:s})=>{const{datasets:e,getDataTypeCountForDataset:i}=Nn();return p.jsxs(be,{children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Datasets"}),p.jsx("button",{onClick:()=>s({name:"dataset-add"}),className:"bg-button-blue text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors shadow-sm",children:"Add New Dataset"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-100 text-xs text-slate-500 uppercase tracking-wider",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"Name"}),p.jsx("th",{className:"p-3",children:"Source"}),p.jsx("th",{className:"p-3",children:"Format"}),p.jsx("th",{className:"p-3",children:"Coverage"}),p.jsx("th",{className:"p-3 text-center",children:"Linked Types"}),p.jsx("th",{className:"p-3"})]})}),p.jsxs("tbody",{className:"bg-white divide-y divide-slate-200",children:[e.map(r=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsxs("td",{className:"p-3 font-medium text-slate-900",children:[p.jsx("span",{onClick:()=>s({name:"dataset-detail",id:r.id}),className:"text-header-blue hover:text-button-blue cursor-pointer font-semibold",children:r.name}),r.is_primary_example&&p.jsx("span",{className:"ml-2 bg-green-100 text-green-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full",children:"Primary Example"})]}),p.jsx("td",{className:"p-3 text-slate-600",children:r.source_organization}),p.jsx("td",{className:"p-3",children:p.jsx("span",{className:"font-mono bg-slate-200 text-slate-800 text-xs px-2 py-1 rounded",children:r.format})}),p.jsx("td",{className:"p-3 text-slate-600",children:r.geographic_coverage}),p.jsx("td",{className:"p-3 text-center font-medium text-slate-700",children:i(r.id)}),p.jsx("td",{className:"p-3 text-right",children:p.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-button-blue hover:underline font-semibold whitespace-nowrap",children:"View Source "})})]},r.id)),e.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"text-center p-8 text-slate-500",children:"No datasets have been added yet."})})]})]})})]})},mn=({label:s,children:e,fullWidth:i=!1})=>p.jsxs("div",{className:i?"col-span-1 sm:col-span-2":"",children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:s}),p.jsx("div",{className:"mt-1 text-slate-900 prose prose-sm max-w-none",children:e||p.jsx("span",{className:"text-slate-400 italic",children:"Not specified"})})]}),X_=({value:s})=>p.jsxs("div",{className:"flex items-center gap-2",children:[s?p.jsx(Mv,{className:"text-green-600"}):p.jsx(am,{className:"text-red-600"}),p.jsx("span",{className:"font-semibold",children:s?"Yes":"No"})]}),G2=({navigate:s,id:e})=>{const{getDatasetById:i,getDataTypesForDataset:r}=Nn(),o=i(e),h=r(e);return o?p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("button",{onClick:()=>s({name:"datasets"}),className:"mb-4 text-button-blue hover:underline",children:" Back to Datasets List"}),p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:o.name}),p.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"text-button-blue hover:underline break-all",children:o.url})]}),p.jsx("button",{onClick:()=>s({name:"dataset-edit",id:o.id}),className:"bg-yellow-500 text-white px-4 py-2 rounded-md hover:bg-yellow-600 transition-colors shadow-sm whitespace-nowrap",children:"Edit Dataset"})]})]}),p.jsxs(be,{children:[p.jsx(Dn,{children:"Dataset Details"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-6",children:[p.jsx(mn,{label:"Description",fullWidth:!0,children:o.description}),p.jsx(mn,{label:"Source Organization",children:o.source_organization}),p.jsx(mn,{label:"Source Type",children:o.source_type}),p.jsx(mn,{label:"Format",children:p.jsx("span",{className:"font-mono bg-slate-200 text-slate-800 text-xs px-2 py-1 rounded",children:o.format})}),p.jsx(mn,{label:"Geographic Coverage",children:o.geographic_coverage}),p.jsx(mn,{label:"Temporal Coverage",children:o.temporal_coverage}),p.jsx(mn,{label:"Resolution",children:o.resolution}),p.jsx(mn,{label:"Access Type",children:o.access_type}),p.jsx(mn,{label:"License",children:o.license}),p.jsx(mn,{label:"Validated by Team",children:p.jsx(X_,{value:o.is_validated})}),p.jsx(mn,{label:"Primary Example",children:p.jsx(X_,{value:o.is_primary_example})})]})]}),p.jsxs(be,{children:[p.jsx(Dn,{children:"Notes & Context"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-6",children:[p.jsx(mn,{label:"Quality Notes",fullWidth:!0,children:o.quality_notes}),p.jsx(mn,{label:"Used in Projects",fullWidth:!0,children:o.used_in_projects}),p.jsx(mn,{label:"General Notes",fullWidth:!0,children:o.notes})]})]}),p.jsxs(be,{children:[p.jsxs(Dn,{children:["Linked Data Types (",h.length,")"]}),h.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-100 text-xs text-slate-500 uppercase tracking-wider",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"UID"}),p.jsx("th",{className:"p-3",children:"Name"}),p.jsx("th",{className:"p-3",children:"Category"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:h.map(d=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsx("td",{className:"p-3 font-mono text-sm text-slate-500",children:d.uid}),p.jsx("td",{className:"p-3",children:p.jsx("span",{onClick:()=>s({name:"data-type-detail",id:d.id}),className:"font-medium text-slate-900 cursor-pointer hover:text-button-blue",children:d.name})}),p.jsx("td",{className:"p-3 text-slate-600",children:d.category})]},d.id))})]})}):p.jsx("p",{className:"text-slate-500 italic",children:"This dataset has not been linked to any data types yet."})]})]}):p.jsxs(be,{children:[p.jsx("p",{className:"text-red-500",children:"Dataset not found."}),p.jsx("button",{onClick:()=>s({name:"datasets"}),className:"mt-4 text-button-blue hover:underline",children:" Back to List"})]})},K_=({navigate:s,id:e})=>{const{dataTypes:i,getDatasetById:r,getDataTypesForDataset:o,addDataset:h,updateDataset:d,deleteDataset:_,addNotification:E}=Nn(),v=e!==void 0,[S,w]=ne.useState({name:"",url:"",description:"",source_organization:"",source_type:"",geographic_coverage:"",temporal_coverage:"",format:"",resolution:"",access_type:"Open",license:"",is_validated:!1,is_primary_example:!1,quality_notes:"",used_in_projects:"",notes:""}),[N,G]=ne.useState(new Set);ne.useEffect(()=>{if(v){const ht=r(e),Dt=o(e);ht&&(w(ht),G(new Set(Dt.map(nt=>nt.id))))}},[e,v,r,o]);const Z=ht=>{const{name:Dt,value:nt,type:C}=ht.target,x=C==="checkbox";w(R=>({...R,[Dt]:x?ht.target.checked:nt}))},$=ht=>{G(Dt=>{const nt=new Set(Dt);return nt.has(ht)?nt.delete(ht):nt.add(ht),nt})},W=async ht=>{if(ht.preventDefault(),!S.name||!S.url){E("Name and URL are required.","error");return}if(N.size===0){E("At least one Data Type must be linked.","error");return}try{v?(await d({dataset:S,linkedDataTypeIds:Array.from(N)}),E("Dataset updated successfully!","success"),s({name:"dataset-detail",id:e})):(await h({dataset:S,linkedDataTypeIds:Array.from(N)}),E("Dataset added successfully!","success"),s({name:"datasets"}))}catch(Dt){console.error("Failed to save dataset:",Dt),E("Failed to save dataset.","error")}},_t=async()=>{if(v&&S&&window.confirm(`Are you sure you want to delete the dataset "${S.name}"? This action cannot be undone.`))try{await _(e),E("Dataset deleted successfully!","success"),s({name:"datasets"})}catch(ht){console.error("Failed to delete dataset:",ht),E("Failed to delete dataset.","error")}},gt=({children:ht,required:Dt,label:nt,htmlFor:C})=>p.jsxs("div",{children:[p.jsxs("label",{htmlFor:C,className:"block text-sm font-medium text-gray-700",children:[nt," ",Dt&&p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("div",{className:"mt-1",children:ht})]}),ct=v&&e?{name:"dataset-detail",id:e}:{name:"datasets"};return p.jsxs("div",{children:[p.jsx("button",{onClick:()=>s(ct),className:"mb-4 text-button-blue hover:underline",children:" Cancel and Back"}),p.jsxs(be,{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:v?"Edit Dataset":"Add New Dataset"}),p.jsxs("form",{onSubmit:W,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsx(gt,{label:"Name",htmlFor:"name",required:!0,children:p.jsx("input",{type:"text",id:"name",name:"name",value:S.name,onChange:Z,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})}),p.jsx(gt,{label:"URL",htmlFor:"url",required:!0,children:p.jsx("input",{type:"url",id:"url",name:"url",value:S.url,onChange:Z,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})}),p.jsx("div",{className:"md:col-span-2",children:p.jsx(gt,{label:"Description",htmlFor:"description",children:p.jsx("textarea",{id:"description",name:"description",value:S.description,onChange:Z,rows:3,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})})}),p.jsx(gt,{label:"Source Organization",htmlFor:"source_organization",children:p.jsx("input",{type:"text",id:"source_organization",name:"source_organization",value:S.source_organization,onChange:Z,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})}),p.jsx(gt,{label:"Format",htmlFor:"format",children:p.jsx("input",{type:"text",id:"format",name:"format",value:S.format,onChange:Z,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"e.g., GeoJSON, Shapefile, CSV"})}),p.jsx(gt,{label:"Geographic Coverage",htmlFor:"geographic_coverage",children:p.jsx("input",{type:"text",id:"geographic_coverage",name:"geographic_coverage",value:S.geographic_coverage,onChange:Z,className:"block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"e.g., Nairobi, Kenya"})}),p.jsxs("div",{className:"flex items-start",children:[p.jsx("div",{className:"flex items-center h-5",children:p.jsx("input",{id:"is_primary_example",name:"is_primary_example",type:"checkbox",checked:S.is_primary_example,onChange:Z,className:"focus:ring-button-blue h-4 w-4 text-button-blue border-gray-300 rounded"})}),p.jsxs("div",{className:"ml-3 text-sm",children:[p.jsx("label",{htmlFor:"is_primary_example",className:"font-medium text-gray-700",children:"Primary Example?"}),p.jsx("p",{className:"text-gray-500",children:"Is this the best example dataset for the linked types?"})]})]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Link to Data Types ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("div",{className:"mt-2 border border-gray-200 rounded-md max-h-60 overflow-y-auto",children:p.jsx("div",{className:"divide-y divide-gray-200",children:i.map(ht=>p.jsxs("div",{className:"relative flex items-start p-4",children:[p.jsx("div",{className:"min-w-0 flex-1 text-sm",children:p.jsxs("label",{htmlFor:`link-${ht.id}`,className:"font-medium text-gray-700 select-none",children:[ht.name," ",p.jsxs("span",{className:"text-gray-500",children:["(",ht.uid,")"]})]})}),p.jsx("div",{className:"ml-3 flex items-center h-5",children:p.jsx("input",{id:`link-${ht.id}`,type:"checkbox",checked:N.has(ht.id),onChange:()=>$(ht.id),className:"focus:ring-button-blue h-4 w-4 text-button-blue border-gray-300 rounded"})})]},ht.id))})})]}),p.jsx("div",{className:"pt-5 border-t border-gray-200",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{children:v&&p.jsx("button",{type:"button",onClick:_t,className:"bg-red-600 text-white py-2 px-4 rounded-md shadow-sm text-sm font-medium hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete Dataset"})}),p.jsxs("div",{className:"flex justify-end gap-4",children:[p.jsx("button",{type:"button",onClick:()=>s(ct),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-button-blue text-white py-2 px-4 rounded-md shadow-sm text-sm font-medium hover:bg-blue-600",children:v?"Save Changes":"Save Dataset"})]})]})})]})]})]})},F2=({navigate:s})=>{const{dataTypes:e,getDatasetsForDataType:i}=Nn(),r=ne.useMemo(()=>{const h={[Qn.Essential]:1,[Qn.Beneficial]:2,[Qn.Low]:3};return[...e].sort((d,_)=>h[d.priority]-h[_.priority])},[e]),o=({condition:h})=>p.jsx("div",{className:"flex justify-center",children:h?p.jsx(Mv,{}):p.jsx(am,{})});return p.jsxs(be,{children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Progress Report"}),p.jsx("p",{className:"text-slate-600 mt-1",children:"A summary of missing information for each data type, sorted by priority."})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-100 text-xs text-slate-500 uppercase tracking-wider",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"Data Type (Priority)"}),p.jsx("th",{className:"p-3 text-center",children:"Has Example Dataset?"}),p.jsx("th",{className:"p-3 text-center",children:"Has Key Attributes?"}),p.jsx("th",{className:"p-3 text-center",children:"Has Standards?"}),p.jsx("th",{className:"p-3 text-center",children:"Has ISO Indicators?"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.map(h=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsxs("td",{className:"p-3 font-medium text-slate-900 cursor-pointer hover:text-button-blue transition-colors",onClick:()=>s({name:"data-type-detail",id:h.id}),children:[h.name," ",p.jsxs("span",{className:"font-normal text-slate-500",children:["(",h.priority,")"]})]}),p.jsx("td",{className:"p-3",children:p.jsx(o,{condition:i(h.id).length>0})}),p.jsx("td",{className:"p-3",children:p.jsx(o,{condition:!!h.key_attributes&&h.key_attributes.trim()!==""&&h.key_attributes.trim()!=="[]"})}),p.jsx("td",{className:"p-3",children:p.jsx(o,{condition:!!h.applicable_standards&&h.applicable_standards.trim()!==""})}),p.jsx("td",{className:"p-3",children:p.jsx(o,{condition:!!h.iso_indicators&&h.iso_indicators.trim()!==""})})]},h.id))})]})})]})},Q2=({navigate:s})=>{const{categories:e,dataTypes:i}=Nn(),r=e.map(o=>{const h=i.filter(d=>d.category===o.name);return{...o,total:h.length,complete:h.filter(d=>d.completion_status===Yn.Complete).length,inProgress:h.filter(d=>d.completion_status===Yn.InProgress).length,notStarted:h.filter(d=>d.completion_status===Yn.NotStarted).length}});return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Categories"}),p.jsx("button",{onClick:()=>s({name:"manage-categories"}),className:"bg-button-blue text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors shadow-sm",children:"Manage Categories"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(o=>p.jsxs(be,{className:"flex flex-col",children:[p.jsxs(Dn,{className:"flex-grow-0",children:[o.name," (",o.total,")"]}),p.jsx("p",{className:"text-slate-600 mb-4 flex-grow",children:o.description||p.jsx("span",{className:"italic",children:"No description provided."})}),p.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-slate-500",children:"Complete:"}),p.jsx("span",{className:"font-semibold text-green-600",children:o.complete})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-slate-500",children:"In Progress:"}),p.jsx("span",{className:"font-semibold text-yellow-600",children:o.inProgress})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-slate-500",children:"Not Started:"}),p.jsx("span",{className:"font-semibold text-red-600",children:o.notStarted})]})]}),p.jsxs("button",{onClick:()=>s({name:"data-types",initialCategory:o.name}),className:"w-full mt-auto bg-slate-100 text-slate-700 px-4 py-2 rounded-md hover:bg-slate-200 transition-colors font-semibold",disabled:o.total===0,children:["View ",o.total," Data Types"]})]},o.id))})]})},Y2=({navigate:s})=>{const{categories:e,addCategory:i,updateCategory:r,deleteCategory:o,addNotification:h}=Nn(),[d,_]=ne.useState(null),[E,v]=ne.useState({name:"",description:""}),S=Z=>{_(Z),v({name:Z.name,description:Z.description})},w=()=>{_(null),v({name:"",description:""})},N=async Z=>{if(window.confirm('Are you sure you want to delete this category? Any data types in it will be moved to "Uncategorized".'))try{await o(Z),h("Category deleted.","success")}catch{h("Failed to delete category.","error")}},G=async Z=>{if(Z.preventDefault(),!E.name){h("Category name is required.","error");return}try{d?(await r({...d,...E}),h("Category updated successfully.","success")):(await i(E),h("Category added successfully.","success")),w()}catch{h("Failed to save category.","error")}};return p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2",children:[p.jsx("button",{onClick:()=>s({name:"categories"}),className:"mb-4 text-button-blue hover:underline",children:" Back to Categories View"}),p.jsxs(be,{children:[p.jsx(Dn,{children:"All Categories"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-100 text-xs text-slate-500 uppercase tracking-wider",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"Name"}),p.jsx("th",{className:"p-3",children:"Description"}),p.jsx("th",{className:"p-3"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:e.map(Z=>p.jsxs("tr",{children:[p.jsx("td",{className:"p-3 font-medium text-slate-900",children:Z.name}),p.jsx("td",{className:"p-3 text-slate-600",children:Z.description}),p.jsxs("td",{className:"p-3 text-right space-x-2 whitespace-nowrap",children:[p.jsx("button",{onClick:()=>S(Z),className:"text-yellow-600 hover:underline font-semibold",children:"Edit"}),p.jsx("button",{onClick:()=>N(Z.id),className:"text-red-600 hover:underline font-semibold",children:"Delete"})]})]},Z.id))})]})})]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"mb-4 text-transparent",children:"."})," ",p.jsxs(be,{children:[p.jsx(Dn,{children:d?"Edit Category":"Add New Category"}),p.jsxs("form",{onSubmit:G,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),p.jsx("input",{type:"text",id:"name",value:E.name,onChange:Z=>v({...E,name:Z.target.value}),className:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),p.jsx("textarea",{id:"description",rows:3,value:E.description,onChange:Z=>v({...E,description:Z.target.value}),className:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),p.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[d&&p.jsx("button",{type:"button",onClick:w,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-button-blue text-white py-2 px-4 rounded-md shadow-sm text-sm font-medium hover:bg-blue-600",children:d?"Save Changes":"Add Category"})]})]})]})]})]})},X2=({navigate:s})=>{const{exportData:e,importData:i,addNotification:r}=Nn(),[o,h]=ne.useState(!1),d=async _=>{var v;const E=(v=_.target.files)==null?void 0:v[0];if(E)if(window.confirm("Are you sure you want to import this file? This will overwrite all existing data.")){h(!0);try{await i(E),r("Data imported successfully!","success")}catch(S){console.error("Import failed:",S),r(`Import failed: ${S.message}`,"error")}finally{h(!1),_.target&&(_.target.value="")}}else _.target&&(_.target.value="")};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs(be,{children:[p.jsx(Dn,{children:"Export Data"}),p.jsx("p",{className:"text-slate-600 mb-4",children:"Export all your data (Data Types, Datasets, Categories, and their relationships) into a single JSON file. This file can be used as a backup or for importing into another instance of this application."}),p.jsx("button",{onClick:e,className:"bg-button-blue text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors shadow-sm",children:"Export All Data as JSON"})]}),p.jsxs(be,{children:[p.jsx(Dn,{children:"Import Data"}),p.jsxs("div",{className:"prose prose-slate max-w-none prose-sm",children:[p.jsx("p",{children:"Import data from a JSON file that was previously exported from this application."}),p.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-r-md",children:[p.jsx("p",{className:"font-bold text-red-800",children:"Warning!"}),p.jsxs("p",{className:"text-red-700",children:["Importing a file will completely ",p.jsx("strong",{children:"delete and overwrite"})," all current data in the catalog. This action cannot be undone. Please be certain before proceeding."]})]})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("label",{htmlFor:"import-file",className:`
                        inline-block px-4 py-2 rounded-md shadow-sm cursor-pointer
                        ${o?"bg-gray-400 text-gray-800":"bg-yellow-500 text-white hover:bg-yellow-600 transition-colors"}
                    `,children:o?"Importing...":"Choose JSON file to Import"}),p.jsx("input",{type:"file",id:"import-file",accept:".json",className:"hidden",onChange:d,disabled:o})]})]})]})},K2=()=>{const{notifications:s}=Nn();return s.length===0?null:p.jsx("div",{className:"fixed top-5 right-5 z-50 space-y-3 w-full max-w-sm",children:s.map(e=>p.jsxs("div",{className:`
            relative w-full rounded-md shadow-lg p-4 flex items-start
            ${e.type==="success"?"bg-green-50 text-green-800":""}
            ${e.type==="error"?"bg-red-50 text-red-800":""}
          `,children:[p.jsxs("div",{className:"shrink-0",children:[e.type==="success"&&p.jsx(U2,{className:"w-6 h-6 text-green-500"}),e.type==="error"&&p.jsx(am,{className:"w-6 h-6 text-red-500"})]}),p.jsxs("div",{className:"ml-3 flex-1",children:[p.jsx("p",{className:"text-sm font-medium",children:e.type==="success"?"Success":"Error"}),p.jsx("p",{className:"mt-1 text-sm",children:e.message})]})]},e.id))})},Z2=()=>{const[s,e]=ne.useState({name:"dashboard"}),{notifications:i}=Nn(),r=d=>{e(d),window.scrollTo(0,0)},o=()=>{switch(s.name){case"dashboard":return p.jsx(Q_,{navigate:r});case"data-types":return p.jsx(P2,{navigate:r,initialCategory:"initialCategory"in s?s.initialCategory:void 0,initialStatus:"initialStatus"in s?s.initialStatus:void 0});case"data-type-detail":return p.jsx(q2,{navigate:r,id:s.id});case"data-type-add":return p.jsx(Y_,{navigate:r});case"data-type-edit":return p.jsx(Y_,{navigate:r,id:s.id});case"datasets":return p.jsx(H2,{navigate:r});case"dataset-detail":return p.jsx(G2,{navigate:r,id:s.id});case"dataset-add":return p.jsx(K_,{navigate:r});case"dataset-edit":return p.jsx(K_,{navigate:r,id:s.id});case"progress-report":return p.jsx(F2,{navigate:r});case"categories":return p.jsx(Q2,{navigate:r});case"manage-categories":return p.jsx(Y2,{navigate:r});case"import-export":return p.jsx(X2,{navigate:r});default:return p.jsx(Q_,{navigate:r})}},h=({targetPage:d,onClick:_,icon:E,children:v})=>{const S=d&&s.name===d.name,w="bg-slate-200 text-slate-900",N="text-slate-600 hover:bg-slate-100 hover:text-slate-900",G=_||(()=>d&&r(d));return p.jsxs("button",{onClick:G,className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${S?w:N}`,children:[p.jsx("div",{className:"mr-3",children:E}),v]})};return p.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-800",children:[p.jsx(K2,{}),p.jsxs("div",{className:"flex",children:[p.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200 p-4 fixed h-full flex flex-col",children:[p.jsxs("div",{className:"flex items-center mb-8 shrink-0",children:[p.jsx(Td,{className:"w-8 h-8 text-button-blue"}),p.jsx("h1",{className:"ml-2 text-xl font-bold text-slate-800",children:"Urban Data Catalog"})]}),p.jsxs("nav",{className:"space-y-2 flex-grow",children:[p.jsx(h,{targetPage:{name:"dashboard"},icon:p.jsx(L2,{className:"w-5 h-5"}),children:"Dashboard"}),p.jsx(h,{targetPage:{name:"data-types"},icon:p.jsx(jv,{className:"w-5 h-5"}),children:"Data Types"}),p.jsx(h,{targetPage:{name:"datasets"},icon:p.jsx(Td,{className:"w-5 h-5"}),children:"Datasets"}),p.jsx(h,{targetPage:{name:"categories"},icon:p.jsx(Uv,{className:"w-5 h-5"}),children:"Categories"}),p.jsx(h,{targetPage:{name:"progress-report"},icon:p.jsx(zv,{className:"w-5 h-5"}),children:"Progress Report"}),p.jsx(h,{targetPage:{name:"import-export"},icon:p.jsx(k2,{className:"w-5 h-5"}),children:"Import/Export"})]})]}),p.jsxs("main",{className:"flex-1 ml-64 p-6 sm:p-8 lg:p-10",children:[p.jsx(z2,{currentPage:s}),p.jsx("div",{className:"mt-8",children:o()})]})]})]})},Bv=document.getElementById("root");if(!Bv)throw new Error("Could not find root element to mount to");const J2=RT.createRoot(Bv);J2.render(p.jsx(ET.StrictMode,{children:p.jsx(M2,{children:p.jsx(Z2,{})})}));
